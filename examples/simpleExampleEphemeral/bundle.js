!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=364)}([function(t,e,n){"use strict";t.exports=n(222)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(275),i=n(54)(r);t.exports=i},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){t.exports=n(223)()},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){var r=n(1);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(100),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";var r;r=n(320),t.exports=r.default,t.exports.instance=r.instance},function(t,e,n){var r=n(35),i=n(238),o=n(239),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=n(28),i=n(76);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(111),i=n(126),o=n(17);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(16),i=n(2);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(225);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n(325)},,function(t,e,n){var r=n(237),i=n(242);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},,function(t,e,n){var r=n(55);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(15),i=n(10);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return $d})),n.d(e,"b",(function(){return Fd}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=!1,d="${JSCORE_VERSION}",y=function(t,e){if(!t)throw v(e)},v=function(t){return new Error("Firebase Database ("+d+") INTERNAL ASSERT FAILED: "+t)},g=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},b=function(t){try{return m.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function w(t){return _(void 0,t)}function _(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=_(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function S(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function C(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function k(){return!0===p}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,N.prototype.create),i}return o(e,t),e}(Error),N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?P(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new I(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function P(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t){return JSON.parse(t)}function R(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=A(b(o[0])||""),n=A(b(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var j=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function V(t,e){var n=new q(t,e);return n.subscribe.bind(n)}var q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function B(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function Q(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(t,e,r)+"must be a valid function.")}function H(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},$=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),Y=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new E;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=a({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=c(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=l(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var h=this.getOrInitializeService(u);s.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var K,X=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Y(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function J(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z,tt=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Z||(Z={}));var et,nt={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},rt=Z.INFO,it=((K={})[Z.DEBUG]="log",K[Z.VERBOSE]="log",K[Z.INFO]="info",K[Z.WARN]="warn",K[Z.ERROR]="error",K),ot=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=it[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,J(["["+i+"]  "+t.name+":"],n))}},at=function(){function t(t){this.name=t,this._logLevel=rt,this._logHandler=ot,this._userLogHandler=null,tt.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Z))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!0,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?nt[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,J([this,Z.DEBUG],t)),this._logHandler.apply(this,J([this,Z.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,J([this,Z.VERBOSE],t)),this._logHandler.apply(this,J([this,Z.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,J([this,Z.INFO],t)),this._logHandler.apply(this,J([this,Z.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,J([this,Z.WARN],t)),this._logHandler.apply(this,J([this,Z.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,J([this,Z.ERROR],t)),this._logHandler.apply(this,J([this,Z.ERROR],t))},t}();function st(t){tt.forEach((function(e){e.setLogLevel(t)}))}var ut,ct=((et={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",et["bad-app-name"]="Illegal App name: '{$appName}",et["duplicate-app"]="Firebase App named '{$appName}' already exists",et["app-deleted"]="Firebase App named '{$appName}' already deleted",et["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",et["invalid-log-argument"]="First argument to `onLog` must be null or a function.",et),lt=new N("app","Firebase",ct),ht=((ut={})["@firebase/app"]="fire-core",ut["@firebase/analytics"]="fire-analytics",ut["@firebase/auth"]="fire-auth",ut["@firebase/database"]="fire-rtdb",ut["@firebase/functions"]="fire-fn",ut["@firebase/installations"]="fire-iid",ut["@firebase/messaging"]="fire-fcm",ut["@firebase/performance"]="fire-perf",ut["@firebase/remote-config"]="fire-rc",ut["@firebase/storage"]="fire-gcs",ut["@firebase/firestore"]="fire-fst",ut["fire-js"]="fire-js",ut["firebase-wrapper"]="fire-js-all",ut),ft=new at("@firebase/app"),pt=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=w(t),this.container=new X(e.name),this._addComponent(new $("app",(function(){return o}),"PUBLIC"));try{for(var a=c(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){ft.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw lt.create("app-deleted",{appName:this.name_})},t}();pt.prototype.name&&pt.prototype.options||pt.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw lt.create("bad-app-name",{appName:String(a)});if(M(e,a))throw lt.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ht[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void ft.warn(u.join(" "))}o(new $(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:st,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw lt.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=nt[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Z[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=tt;r<i.length;r++){n(i[r])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"7.15.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!M(e,t=t||"[DEFAULT]"))throw lt.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u=o.name;if(n.has(u))return ft.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw lt.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&_(l,o.serviceProps),r[u]=l,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var h=c(Object.keys(e)),f=h.next();!f.done;f=h.next()){var p=f.value;e[p]._addComponent(o)}}catch(t){a={error:t}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=function t(){var e=dt(pt);return e.INTERNAL=a(a({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){_(e,t)},createSubscribe:V,ErrorFactory:N,deepExtend:_}),e}(),vt=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ft.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&ft.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var mt=yt.initializeApp;yt.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S()&&ft.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),mt.apply(void 0,t)};var bt=yt;!function(t,e){t.INTERNAL.registerComponent(new $("platform-logger",(function(t){return new vt(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.7",e),t.registerVersion("fire-js","")}(bt);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wt=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),R(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:A(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),_t=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return M(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),Et=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wt(e)}}catch(t){}return new _t},Tt=Et("localStorage"),xt=Et("sessionStorage"),St=new at("@firebase/database"),Ct=function(){var t=1;return function(){return t++}}(),kt=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,y(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new j;n.update(e);var r=n.digest();return m.encodeByteArray(r)},It=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=It.apply(null,i):n+="object"==typeof i?R(i):i,n+=" "}return n},Nt=null,Pt=!0,Ot=function(t,e){y(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(St.logLevel=Z.VERBOSE,Nt=St.log.bind(St),e&&xt.set("logging_enabled",!0)):"function"==typeof t?Nt=t:(Nt=null,xt.remove("logging_enabled"))},At=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===Pt&&(Pt=!1,null===Nt&&!0===xt.get("logging_enabled")&&Ot(!0)),Nt){var n=It.apply(null,t);Nt(n)}},Rt=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];At.apply(void 0,h([t],e))}},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+It.apply(void 0,h(t));St.error(n)},Mt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+It.apply(void 0,h(t));throw St.error(n),new Error(n)},Lt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+It.apply(void 0,h(t));St.warn(n)},Ft=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ut="[MIN_NAME]",jt="[MAX_NAME]",Vt=function(t,e){if(t===e)return 0;if(t===Ut||e===jt)return-1;if(e===Ut||t===jt)return 1;var n=$t(t),r=$t(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},qt=function(t,e){return t===e?0:t<e?-1:1},Bt=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+R(e))},zt=function(t){if("object"!=typeof t||null===t)return R(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=R(e[i]),r+=":",r+=zt(t[e[i]]);return r+="}"},Wt=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Ht=function(t){y(!Ft(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var s=a.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},Gt=new RegExp("^-?(0*)\\d{1,10}$"),$t=function(t){if(Gt.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Yt=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw Lt("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Kt=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Xt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Vt(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Jt=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=G(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=G(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=G(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Zt=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Tt.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tt.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(y("string"==typeof t,"typeof type must == string"),y("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Qt(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var te,ee,ne,re,ie,oe=function(t){var e=ae(t),n=e.namespace;"firebase.com"===e.domain&&Mt(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||Mt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Zt(e.host,e.secure,n,r,"",n!==e.subdomain),path:new Xt(e.pathString)}},ae=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(s=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=c(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Lt("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},se=/[\[\].#$\/\u0000-\u001F\u007F]/,ue=/[\[\].#$\u0000-\u001F\u007F]/,ce=function(t){return"string"==typeof t&&0!==t.length&&!se.test(t)},le=function(t){return"string"==typeof t&&0!==t.length&&!ue.test(t)},he=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Ft(t)||t&&"object"==typeof t&&M(t,".sv")},fe=function(t,e,n,r,i){i&&void 0===n||pe(W(t,e,i),n,r)},pe=function(t,e,n){var r=n instanceof Xt?new Jt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Ft(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&G(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(Qt(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ce(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),pe(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},de=function(t,e,n,r,i){if(!i||void 0!==n){var o=W(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];Qt(n,(function(t,e){var n=new Xt(t);if(pe(o,e,r.child(n)),".priority"===n.getBack()&&!he(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ce(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Xt.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},ye=function(t,e,n,r){if(!r||void 0!==n){if(Ft(n))throw new Error(W(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!he(n))throw new Error(W(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ve=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(W(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ge=function(t,e,n,r){if(!(r&&void 0===n||ce(n)))throw new Error(W(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},me=function(t,e,n,r){if(!(r&&void 0===n||le(n)))throw new Error(W(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},be=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),me(t,e,n,r)},we=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},_e=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ce(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),le(t)}(r))throw new Error(W(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ee=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(W(t,e,r)+"must be a boolean.")},Te=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){z("OnDisconnect.cancel",0,1,arguments.length),Q("OnDisconnect.cancel",1,t,!0);var e=new E;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){z("OnDisconnect.remove",0,1,arguments.length),we("OnDisconnect.remove",this.path_),Q("OnDisconnect.remove",1,t,!0);var e=new E;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){z("OnDisconnect.set",1,2,arguments.length),we("OnDisconnect.set",this.path_),fe("OnDisconnect.set",1,t,this.path_,!1),Q("OnDisconnect.set",2,e,!0);var n=new E;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){z("OnDisconnect.setWithPriority",2,3,arguments.length),we("OnDisconnect.setWithPriority",this.path_),fe("OnDisconnect.setWithPriority",1,t,this.path_,!1),ye("OnDisconnect.setWithPriority",2,e,!1),Q("OnDisconnect.setWithPriority",3,n,!0);var r=new E;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(z("OnDisconnect.update",1,2,arguments.length),we("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Lt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}de("OnDisconnect.update",1,t,this.path_,!1),Q("OnDisconnect.update",2,e,!0);var i=new E;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),xe=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return z("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Se=(te="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=te.charAt(t%64),t=Math.floor(t/64);y(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=te.charAt(ne[e]);return y(20===i.length,"nextPushId: Length should be 20."),i}),Ce=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),ke=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ce(Ut,t),r=new Ce(Ut,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ce.MIN},t}(),Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return re},set:function(t){re=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return Vt(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw v("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ce.MIN},e.prototype.maxPost=function(){return new Ce(jt,re)},e.prototype.makePost=function(t,e){return y("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ce(t,re)},e.prototype.toString=function(){return".key"},e}(ke),Ne=new Ie;var Pe,Oe,Ae,Re=function(t){return"number"==typeof t?"number:"+Ht(t):"string:"+t},De=function(t){if(t.isLeafNode()){var e=t.val();y("string"==typeof e||"number"==typeof e||"object"==typeof e&&M(e,".sv"),"Priority must be a string or number.")}else y(t===ie||t.isEmpty(),"priority of unexpected type.");y(t===ie||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Me=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,y(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),De(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Pe},set:function(t){Pe=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(y(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Re(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Ht(this.value_):this.value_,this.lazyHash_=kt(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return y(i>=0,"Unknown leaf type: "+n),y(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Le,Fe,Ue=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Vt(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ce.MIN},e.prototype.maxPost=function(){return new Ce(jt,new Me("[PRIORITY-POST]",Ae))},e.prototype.makePost=function(t,e){var n=Oe(t);return new Ce(e,new Me("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(ke)),je=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ve=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Be.EMPTY_NODE,this.right=null!=o?o:Be.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Be.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Be.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),qe=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ve(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Be=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ve.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new je(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new je(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new je(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new je(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new qe,t}(),ze=Math.log(2),We=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/ze,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qe=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Ve(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Ve.BLACK):(s(h,Ve.BLACK),s(h,Ve.RED))}return o}(new We(t.length));return new Be(r||e,o)},He={},Ge=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return y(He&&Ue,"ChildrenNode.ts has not been loaded"),Le=Le||new t({".priority":He},{".priority":Ue})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=L(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Be?e:null},t.prototype.hasIndex=function(t){return M(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){y(e!==Ne,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(Ce.Wrap),u=s.getNext();u;)o=o||e.isDefinedOn(u.node),i.push(u),u=s.getNext();r=o?Qe(i,e.getCompare()):He;var c=e.toString(),l=a({},this.indexSet_);l[c]=e;var h=a({},this.indexes_);return h[c]=r,new t(h,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(U(this.indexes_,(function(t,i){var o=L(r.indexSet_,i);if(y(o,"Missing index implementation for "+i),t===He){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(Ce.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),Qe(a,o.getCompare())}return He}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Ce(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(U(this.indexes_,(function(t){if(t===He)return t;var r=n.get(e.name);return r?t.remove(new Ce(e.name,r)):t})),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $e(t,e){return Vt(t.name,e.name)}function Ye(t,e){return Vt(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&De(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Fe||(Fe=new t(new Be(Ye),null,Ge.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Fe},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Fe:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(y(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ce(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Fe:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;y(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ue,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Re(this.getPriority().val())+":"),this.forEachChild(Ue,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":kt(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ce(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ce(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ce(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ce.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ce.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xe?-1:0},t.prototype.withIndex=function(e){if(e===Ne||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ne||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ue),r=e.getIterator(Ue),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ne?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xe=new(function(t){function e(){return t.call(this,new Be(Ye),Ke.EMPTY_NODE,Ge.Default)||this}return o(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ke.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ke));Object.defineProperties(Ce,{MIN:{value:new Ce(Ut,Ke.EMPTY_NODE)},MAX:{value:new Ce(jt,Xe)}}),Ie.__EMPTY_NODE=Ke.EMPTY_NODE,Me.__childrenNodeConstructor=Ke,ie=Xe,function(t){Ae=t}(Xe);function Je(t,e){if(void 0===e&&(e=null),null===t)return Ke.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),y(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Me(t,Je(e));if(t instanceof Array){var n=Ke.EMPTY_NODE;return Qt(t,(function(e,r){if(M(t,e)&&"."!==e.substring(0,1)){var i=Je(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Je(e))}var r=[],i=!1;if(Qt(t,(function(t,e){if("."!==t.substring(0,1)){var n=Je(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ce(t,n)))}})),0===r.length)return Ke.EMPTY_NODE;var o=Qe(r,$e,(function(t){return t.name}),Ye);if(i){var a=Qe(r,Ue.getCompare());return new Ke(o,Je(e),new Ge({".priority":a},{".priority":Ue}))}return new Ke(o,Je(e),Ge.Default)}!function(t){Oe=t}(Je);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ze,tn=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Vt(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ce.MIN},e.prototype.maxPost=function(){return Ce.MAX},e.prototype.makePost=function(t,e){var n=Je(t);return new Ce(e,n)},e.prototype.toString=function(){return".value"},e}(ke)),en=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,y(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return o(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Vt(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Je(t),r=Ke.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ce(e,r)},e.prototype.maxPost=function(){var t=Ke.EMPTY_NODE.updateChild(this.indexPath_,Xe);return new Ce(jt,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(ke),nn=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return z("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return z("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return z("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return z("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){z("DataSnapshot.child",0,1,arguments.length),e=String(e),me("DataSnapshot.child",1,e,!1);var n=new Xt(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ue)},t.prototype.hasChild=function(t){z("DataSnapshot.hasChild",1,1,arguments.length),me("DataSnapshot.hasChild",1,t,!1);var e=new Xt(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return z("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(z("DataSnapshot.forEach",1,1,arguments.length),Q("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Ue))}))},t.prototype.hasChildren=function(){return z("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return z("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return z("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),rn=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+R(this.snapshot.exportVal())},t}(),on=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),an=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new rn("value",this,new nn(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){y(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new on(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),sn=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,M(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new on(this,t,e):null},t.prototype.createEvent=function(t,e){y(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new rn(t.type,this,new nn(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){y(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),un=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return y(Ze,"Reference.ts has not been loaded"),Ze},set:function(t){Ze=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ne){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ut)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==jt)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ue){if(null!=e&&!he(e)||null!=n&&!he(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(y(t.getIndex()instanceof en||t.getIndex()===tn,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return z("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){z("Query.on",2,4,arguments.length),ve("Query.on",1,e,!1),Q("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new an(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new sn(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){z("Query.off",0,3,arguments.length),ve("Query.off",1,t,!0),Q("Query.off",2,e,!0),H("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new an(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new sn(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;z("Query.once",1,4,arguments.length),ve("Query.once",1,e,!1),Q("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new E;u.promise.catch((function(){}));var c=function(t){s&&(s=!1,o.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(z("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(z("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(z("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');me("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Xt(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new en(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){z("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Ne);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){z("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ue);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){z("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(tn);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),z("Query.startAt",0,2,arguments.length),fe("Query.startAt",1,e,this.path,!0),ge("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),z("Query.endAt",0,2,arguments.length),fe("Query.endAt",1,e,this.path,!0),ge("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(z("Query.equalTo",1,2,arguments.length),fe("Query.equalTo",1,t,this.path,!1),ge("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return z("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return z("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=zt(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(z("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Q(t,3,r.cancel,!0),r.context=n,H(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(W(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),cn=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ln=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),hn=function(t,e,n){return t&&"object"==typeof t?(y(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?fn(t[".sv"],e,n):"object"==typeof t[".sv"]?pn(t[".sv"],e):void y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},fn=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},pn=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&y(!1,"Unexpected increment value: "+r);var i=e.node();if(y(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},dn=function(t,e,n,r){return vn(e,new ln(n,t),r)},yn=function(t,e,n){return vn(t,new cn(e),n)};function vn(t,e,n){var r,i=t.getPriority().val(),o=hn(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=hn(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Me(s,Je(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Me(o))),u.forEachChild(Ue,(function(t,i){var o=vn(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,mn=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Ue,(function(t,e){n.remember(new Xt(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Xt(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(gn||(gn={}));var bn,wn,_n=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,y(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),En=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=gn.ACK_USER_WRITE,this.source=_n.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Xt(e));return new t(Xt.Empty,n,this.revert)}return y(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Tn=function(){function t(t,e){void 0===e&&(bn||(bn=new Be(qt)),e=bn),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return Qt(e,(function(t,e){n=n.set(new Xt(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Xt.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Xt(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(Xt.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Xt.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Xt.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Xt.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),xn=function(){function t(t,e){this.source=t,this.path=e,this.type=gn.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Xt.Empty):new t(this.source,this.path.popFront())},t}(),Sn=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=gn.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Xt.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Cn=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=gn.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Xt(e));return n.isEmpty()?null:n.value?new Sn(this.source,Xt.Empty,n.value):new t(this.source,Xt.Empty,n)}return y(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),kn=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),In=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new kn(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new kn(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new kn(Ke.EMPTY_NODE,!1,!1),new kn(Ke.EMPTY_NODE,!1,!1)),t}(),Nn=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Pn=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Nn.childRemovedChange(e,a)):y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Nn.childAddedChange(e,n)):o.trackChildChange(Nn.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ue,(function(t,r){e.hasChild(t)||n.trackChildChange(Nn.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Ue,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Nn.childChangedChange(e,r,i))}else n.trackChildChange(Nn.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ke.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),On=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;y(e===Nn.CHILD_ADDED||e===Nn.CHILD_CHANGED||e===Nn.CHILD_REMOVED,"Only child changes supported for tracking"),y(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Nn.CHILD_ADDED&&i===Nn.CHILD_REMOVED)this.changeMap.set(n,Nn.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Nn.CHILD_REMOVED&&i===Nn.CHILD_ADDED)this.changeMap.delete(n);else if(e===Nn.CHILD_REMOVED&&i===Nn.CHILD_CHANGED)this.changeMap.set(n,Nn.childRemovedChange(n,r.oldSnap));else if(e===Nn.CHILD_CHANGED&&i===Nn.CHILD_ADDED)this.changeMap.set(n,Nn.childAddedChange(n,t.snapshotNode));else{if(e!==Nn.CHILD_CHANGED||i!==Nn.CHILD_CHANGED)throw v("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Nn.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),An=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Rn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new kn(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Dn=function(t,e){this.viewCache=t,this.changes=e},Mn=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){y(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),y(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new On;if(n.type===gn.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(y(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===gn.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,s):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,s))}else if(n.type===gn.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,s):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==gn.LISTEN_COMPLETE)throw v("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,o,h),new Dn(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Nn.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(y(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Ke?u:Ke.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){y(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),g=void 0;if(o.isCompleteForChild(f)){s=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);g=null!=m?o.getNode().getImmediateChild(f).updateChild(v,m):o.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());a=null!=g?this.filter_.updateChild(o.getNode(),f,g,v,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,An,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),y=new Rn(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,y,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Rn(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Ke.EMPTY_NODE}if(f.equals(p))a=t;else{var y=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(y,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Tn.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new Xt(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new Xt(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Tn.Empty;return s.getNode().forEachChild(Ne,(function(t,e){u=u.set(new Xt(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Tn.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,An,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new Rn(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();y(l instanceof Ke,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(s,h,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Ke.EMPTY_NODE,e.popFront(),a,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Xt.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Ln=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Nn.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Nn.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Nn.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Nn.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Nn.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Nn.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Nn.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw v("Should only compare child_ events.");var n=new Ce(t.childName,t.snapshotNode),r=new Ce(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Fn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Pn(n.getIndex()),i=n.getNodeFilter();this.processor_=new Mn(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Ke.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ke.EMPTY_NODE,a.getNode(),null),c=new kn(s,o.isFullyInitialized(),r.filtersNodes()),l=new kn(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new In(l,c),this.eventGenerator_=new Ln(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){y(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===gn.MERGE&&null!==t.source.queryId&&(y(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),y(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),y(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Ue,(function(t,e){n.push(Nn.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(Nn.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Un=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return y(wn,"Reference.ts has not been loaded"),wn},set:function(t){y(!wn,"__referenceConstructor has already been defined"),wn=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return y(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=c(this.views.values()),l=u.next();!l.done;l=u.next()){a=l.value;s=s.concat(a.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ke?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ke.EMPTY_NODE,u=!1);var c=new In(new kn(s,u,!1),new kn(r,i,!1));a=new Fn(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,a=e.queryIdentifier(),s=[],u=[],h=this.hasCompleteView();if("default"===a)try{for(var f=c(this.views.entries()),p=f.next();!p.done;p=f.next()){var d=l(p.value,2),y=d[0],v=d[1];u=u.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(y),v.getQuery().getQueryParams().loadsAllData()||s.push(v.getQuery()))}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else(v=this.views.get(a))&&(u=u.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(a),v.getQuery().getQueryParams().loadsAllData()||s.push(v.getQuery())));return h&&!this.hasCompleteView()&&s.push(new t.__referenceConstructor(e.repo,e.path)),{removed:s,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=c(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=c(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=c(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),jn=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Tn(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Xt.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new Tn(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return Qt(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Tn.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Xt.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ue,(function(e,n){t.push(new Ce(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ce(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Tn(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(y(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Xt.Empty,this.writeTree_,t)},t.Empty=new t(new Tn(null)),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function t(){this.visibleWrites_=jn.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new qn(t,this)},t.prototype.addOverwrite=function(t,e,n,r){y(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){y(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));y(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):Qt(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(Xt.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||Ke.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(Xt.Empty)){var c=n||Ke.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ke.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ue,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ue,(function(t,e){var r=i.childCompoundWrite(new Xt(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){y(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Xt.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Xt.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=jn.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Xt.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=Xt.relativePath(a,n),r=r.addWrite(Xt.Empty,o.snap.getChild(s)));else{if(!o.children)throw v("WriteRecord should have .snap or .children");if(n.contains(a))s=Xt.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if((s=Xt.relativePath(a,n)).isEmpty())r=r.addWrites(Xt.Empty,o.children);else{var u=L(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(Xt.Empty,c)}}}}}return r},t}(),qn=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Bn=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Tn.Empty,this.pendingWriteTree_=new Vn,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Sn(_n.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Tn.fromObject(e);return this.applyOperationToSyncPoints_(new Cn(_n.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Tn.Empty;return null!=n.snap?r=r.set(Xt.Empty,!0):Qt(n.children,(function(t,e){r=r.set(new Xt(t),e)})),this.applyOperationToSyncPoints_(new En(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Sn(_n.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Tn.fromObject(e);return this.applyOperationToSyncPoints_(new Cn(_n.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new xn(_n.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Xt.relativePath(a,e),c=new Sn(_n.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Xt.relativePath(a,e),c=Tn.fromObject(n),l=new Cn(_n.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Xt.relativePath(o,e),u=new xn(_n.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Xt.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,s=this.syncPointTree_.get(r);(s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(Xt.Empty)):(s=new Un,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=Ke.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Xt.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);y(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=s.addEventRegistration(e,n,h,i,a);if(!u&&!o){var p=s.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var y=p[d],v=y.getQuery(),g=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(v),this.tagForQuery_(v),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Xt.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),Qt(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)y(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),Qt(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ke.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return y(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xt(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);y(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Xt.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Xt.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Xt.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Xt.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Xt.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),zn=function(){function t(){this.rootNode_=Ke.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Wn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lt(t)},t}(),Qn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),M(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return w(this.counters_)},t}(),Hn=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Qn),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Gn=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a({},t);return this.last_&&Qt(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),$n=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Gn(t);var n=1e4+2e4*Math.random();Kt(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Qt(e,(function(e,i){i>0&&M(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Kt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Yn=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Kn(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Kn=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();Nt&&At("event: "+e.toString()),Yt(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Xn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=h(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){y(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Jn=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return o(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return y("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Xn),Zn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||x()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return o(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return y("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Xn),tr=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Yt((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),er=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rt(t),this.stats_=Hn.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new nr((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=l(t,5),i=r[0],o=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=l(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=R(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=g(e),m.encodeByteArray(n,!0)),i=Wt(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=R(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),nr=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ct(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){At("frame writing exception"),t.stack&&At(t.stack),At(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||At("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){At("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),rr="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ir=null;"undefined"!=typeof MozWebSocket?ir=MozWebSocket:"undefined"!=typeof WebSocket&&(ir=WebSocket);var or=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rt(this.connId),this.stats_=Hn.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tt.set("previous_websocket_failure",!0);try{if(k()){var i=p?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+rr+"/"+r.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},a=r.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new ir(this.connURL,[],o)}else{o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new ir(this.connURL,[],o)}}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ir&&!t.forceDisallow_},t.previouslyFailed=function(){return Tt.isInMemoryStorage||!0===Tt.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){Tt.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=A(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(y(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=R(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Wt(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ar=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[er,or]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=or&&or.isAvailable(),o=i&&!or.previouslyFailed();if(e.webSocketOnly&&(i||Lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[or];else{var a=this.transports_=[];try{for(var s=c(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),sr=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rt("c:"+this.id+":"),this.transportManager_=new ar(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Kt((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=Bt("t",t),n=Bt("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=Bt("t",t),n=Bt("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=Bt("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Dt("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dt("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Lt("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Kt((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kt((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ur=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),cr=function(t){function e(n,r,i,o,a,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=Rt("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!k())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Jn.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Zn.getInstance().on("online",c.onOnline_,c),c}return o(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(R(i)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),y(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&M(t,"w")){var n=L(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();Lt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=D(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=D(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),y(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+R(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Dt("Unrecognized action received from server: "+R(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(t){y(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then((function(e){s?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new sr(i,o.repoInfo_,o.applicationId_,t,n,r,(function(t){Lt(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(t){o.log_("Failed to get token: "+t),s||c()}))}},e.prototype.interrupt=function(t){At("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){At("Resuming connection for reason: "+t),delete this.interruptReasons_[t],F(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return zt(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Xt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){At("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=c(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,c(a.values())),u=s.next();!u.done;u=s.next()){var l=u.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+rr.replace(/\./g,"-")]=1,x()?t["framework.cordova"]=1:C()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Zn.getInstance().currentlyOnline();return F(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ur),lr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=Rt("p:rest:"),i.listens_={},i}return o(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(y(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),L(o.listens_,s)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=A(s.responseText)}catch(t){Lt("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&Lt("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},e}(ur),hr=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new mn,this.persistentConnection_=null;var o=new Wn(n,r);if(this.stats_=Hn.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new lr(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{R(a)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new cr(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Hn.getOrCreateReporter(t,(function(){return new $n(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new zn,this.infoSyncTree_=new Bn({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Bn({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Xt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Xt(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=U(e,(function(t){return Je(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=Je(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=U(e,(function(t){return Je(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Je(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;Qt(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Xt("/.info/"+t),r=Je(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Je(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=yn(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||Lt("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(Qt(e,(function(e,n){i=!1,a[e]=dn(t.child(e),Je(n),r.serverSyncTree_,o)})),i)At("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||Lt("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),Qt(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new mn;this.onDisconnect_.forEachTree(Xt.Empty,(function(r,i){var o=dn(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Xt.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new mn,this.eventQueue_.raiseEventsForChangedPath(Xt.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Je(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Je(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(F(e))return At("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&Qt(e,(function(e,n){var i=Je(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Gn(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);Qt(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),At.apply(void 0,h([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Yt((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new _r(this))},enumerable:!0,configurable:!0}),t}(),fr=function(){function t(e){this.indexedFilter_=new Pn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ce(e,n))||(n=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ke.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ke.EMPTY_NODE);var i=this;return e.forEachChild(Ue,(function(t,e){i.matches(new Ce(t,e))||(r=r.updateImmediateChild(t,Ke.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),pr=function(){function t(t){this.rangedFilter_=new fr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ce(e,n))||(n=Ke.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ke.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ke.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ke.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;y(s.numChildren()===this.limit_,"");var u=new Ce(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Nn.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Nn.childRemovedChange(e,h));var d=s.updateImmediateChild(e,Ke.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Nn.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Nn.childRemovedChange(c.name,c.node)),i.trackChildChange(Nn.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Ke.EMPTY_NODE)):t},t}(),dr=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ut},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jt},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ue&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ue},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Pn(this.getIndex()):this.hasLimit()?new pr(this):new fr(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Ue?e=n.PRIORITY_INDEX:this.index_===tn?e=n.VALUE_INDEX:this.index_===Ne?e=n.KEY_INDEX:(y(this.index_ instanceof en,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=R(e),this.startSet_&&(r[n.START_AT]=R(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+R(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=R(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+R(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),yr=function(t){function e(e,n){if(!(e instanceof hr))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,dr.DEFAULT,!1)||this}return o(e,t),e.prototype.getKey=function(){return z("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return z("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Xt||(null===this.path.getFront()?be("Reference.child",1,t,!1):me("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){z("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){z("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){z("Reference.set",1,2,arguments.length),we("Reference.set",this.path),fe("Reference.set",1,t,this.path,!1),Q("Reference.set",2,e,!0);var n=new E;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(z("Reference.update",1,2,arguments.length),we("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Lt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}de("Reference.update",1,t,this.path,!1),Q("Reference.update",2,e,!0);var i=new E;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(z("Reference.setWithPriority",2,3,arguments.length),we("Reference.setWithPriority",this.path),fe("Reference.setWithPriority",1,t,this.path,!1),ye("Reference.setWithPriority",2,e,!1),Q("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new E;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return z("Reference.remove",0,1,arguments.length),we("Reference.remove",this.path),Q("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(z("Reference.transaction",1,3,arguments.length),we("Reference.transaction",this.path),Q("Reference.transaction",1,t,!1),Q("Reference.transaction",2,e,!0),Ee("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new E;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new xe(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){z("Reference.setPriority",1,2,arguments.length),we("Reference.setPriority",this.path),ye("Reference.setPriority",1,t,!1),Q("Reference.setPriority",2,e,!0);var n=new E;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){z("Reference.push",0,2,arguments.length),we("Reference.push",this.path),fe("Reference.push",1,t,this.path,!0),Q("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Se(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return we("Reference.onDisconnect",this.path),new Te(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(un);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.__referenceConstructor=yr,Un.__referenceConstructor=yr;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vr,gr=function(){this.children={},this.childCount=0,this.value=null},mr=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new gr),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Xt?e:new Xt(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,L(r.node_.children,i)||new gr),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){y(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;Qt(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Xt(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=M(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(vr||(vr={})),hr.MAX_TRANSACTION_RETRIES_=25,hr.prototype.transactionsInit_=function(){this.transactionQueueTree_=new mr},hr.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new yr(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:Ct(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new nn(a.currentInputSnapshot,new yr(this,a.path),Ue);a.onComplete(null,!1,c)}}else{pe("transaction failed: Data returned ",u,a.path),a.status=vr.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(a),l.setValue(h);var f=void 0;if("object"==typeof u&&null!==u&&M(u,".priority"))f=L(u,".priority"),y(he(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||Ke.EMPTY_NODE).getPriority().val();f=f;var p=this.generateServerValues(),d=Je(u,f),v=yn(d,s,p);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,v,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},hr.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ke.EMPTY_NODE},hr.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);y(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===vr.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},hr.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];y(u.status===vr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=vr.SENT,u.retryCount++;var c=Xt.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=vr.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new yr(n,e[a].path),c=new nn(s,u,Ue);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)Yt(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===vr.SENT_NEEDS_ABORT?e[a].status=vr.NEEDS_ABORT:e[a].status=vr.RUN;else{Lt("transaction at "+h.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=vr.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}}),a)},hr.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},hr.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===vr.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var s=t[a],u=Xt.relativePath(e,s.path),c=!1,l=void 0;if(y(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===vr.NEEDS_ABORT)c=!0,l=s.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===vr.RUN)if(s.retryCount>=hr.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,o);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){pe("transaction failed: Data returned ",f,s.path);var p=Je(f);"object"==typeof f&&null!=f&&M(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=s.currentWriteId,v=this.generateServerValues(),g=yn(p,h,v);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(d),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[a].status=vr.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if("nodata"===l){var m=new yr(this,t[a].path),b=t[a].currentInputSnapshot,w=new nn(b,m,Ue);r.push(t[a].onComplete.bind(null,null,!1,w))}else r.push(t[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)Yt(r[a]);this.sendReadyTransactions_()}},hr.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},hr.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},hr.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},hr.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==vr.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},hr.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},hr.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===vr.SENT_NEEDS_ABORT);else if(e[o].status===vr.SENT)y(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=vr.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(y(e[o].status===vr.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)Yt(n[o])}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var br,wr=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return br||(br=new t),br},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=c(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,c(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var l=u.value;this.repos_[a][l].interrupt()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=c(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,c(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var l=u.value;this.repos_[a][l].resume()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&Mt("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var o=oe(i),a=o.repoInfo,s=void 0;return void 0!==r&&(s=r.env.FIREBASE_DATABASE_EMULATOR_HOST),s&&(i="http://"+s+"?ns="+a.namespace,a=(o=oe(i)).repoInfo),_e("Invalid Firebase Database URL",1,o),o.path.isEmpty()||Mt("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,e).database},t.prototype.deleteRepo=function(t){var e=L(this.repos_,t.app.name);e&&L(e,t.repoInfo_.toURLString())===t||Mt("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=L(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=L(r,t.toURLString());return i&&Mt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new hr(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),_r=function(){function t(t){this.repo_=t,t instanceof hr||Mt("Don't call new Database() directly - please use firebase.database()."),this.root_=new yr(t,Xt.Empty),this.INTERNAL=new Er(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),z("database.ref",0,1,arguments.length),t instanceof yr?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),z(e,1,1,arguments.length);var n=oe(t);_e(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&Mt(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&Mt("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){z("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){z("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Er=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.database.checkDeleted_("delete"),wr.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),Tr=Object.freeze({__proto__:null,forceLongPolling:function(){or.forceDisallow(),er.forceAllow()},forceWebSockets:function(){er.forceDisallow()},isWebSocketsAvailable:function(){return or.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),xr=cr;cr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},cr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Sr,Cr=sr,kr=Zt,Ir=Object.freeze({__proto__:null,DataConnection:xr,RealTimeConnection:Cr,hijackHash:function(t){var e=cr.prototype.put;return cr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){cr.prototype.put=e}},ConnectionTarget:kr,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){wr.getInstance().forceRestClient(t)}}),Nr=_r.ServerValue;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function Pr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(t){rr=t})((Sr=bt).SDK_VERSION),Sr.INTERNAL.registerComponent(new $("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return wr.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:yr,Query:un,Database:_r,DataSnapshot:nn,enableLogging:Ot,INTERNAL:Tr,ServerValue:Nr,TEST_ACCESS:Ir}).setMultipleInstances(!0)),Sr.registerVersion("@firebase/database","0.6.6");var Or,Ar="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},Rr=Rr||{},Dr=Ar||self;function Mr(){}function Lr(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function Fr(t){var e=Lr(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Ur(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var jr="closure_uid_"+(1e9*Math.random()>>>0),Vr=0;function qr(t,e,n){return t.call.apply(t.bind,arguments)}function Br(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function zr(t,e,n){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qr:Br).apply(null,arguments)}function Wr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var Qr=Date.now||function(){return+new Date};function Hr(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Gr(){this.j=this.j,this.i=this.i}Gr.prototype.j=!1,Gr.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))(function(t){Object.prototype.hasOwnProperty.call(t,jr)&&t[jr]||(t[jr]=++Vr)})(this)},Gr.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $r=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Yr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Kr(t){return Array.prototype.concat.apply([],arguments)}function Xr(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Jr(t){return/^[\s\xa0]*$/.test(t)}var Zr,ti=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ei(t,e){return-1!=t.indexOf(e)}function ni(t,e){return t<e?-1:t>e?1:0}t:{var ri=Dr.navigator;if(ri){var ii=ri.userAgent;if(ii){Zr=ii;break t}}Zr=""}function oi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ai(t){var e={};for(var n in t)e[n]=t[n];return e}var si="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ui(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<si.length;o++)n=si[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ci(t){return ci[" "](t),t}ci[" "]=Mr;var li,hi,fi=ei(Zr,"Opera"),pi=ei(Zr,"Trident")||ei(Zr,"MSIE"),di=ei(Zr,"Edge"),yi=di||pi,vi=ei(Zr,"Gecko")&&!(ei(Zr.toLowerCase(),"webkit")&&!ei(Zr,"Edge"))&&!(ei(Zr,"Trident")||ei(Zr,"MSIE"))&&!ei(Zr,"Edge"),gi=ei(Zr.toLowerCase(),"webkit")&&!ei(Zr,"Edge");function mi(){var t=Dr.document;return t?t.documentMode:void 0}t:{var bi="",wi=(hi=Zr,vi?/rv:([^\);]+)(\)|;)/.exec(hi):di?/Edge\/([\d\.]+)/.exec(hi):pi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hi):gi?/WebKit\/(\S+)/.exec(hi):fi?/(?:Version)[ \/]?(\S+)/.exec(hi):void 0);if(wi&&(bi=wi?wi[1]:""),pi){var _i=mi();if(null!=_i&&_i>parseFloat(bi)){li=String(_i);break t}}li=bi}var Ei,Ti={};function xi(t){return function(t,e){var n=Ti;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=ti(String(li)).split("."),r=ti(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ni(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ni(0==a[2].length,0==s[2].length)||ni(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(Dr.document&&pi){var Si=mi();Ei=Si||(parseInt(li,10)||void 0)}else Ei=void 0;var Ci=Ei,ki=!pi||9<=Number(Ci),Ii=pi&&!xi("9"),Ni=function(){if(!Dr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Dr.addEventListener("test",Mr,e),Dr.removeEventListener("test",Mr,e)}catch(t){}return t}();function Pi(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Oi(t,e){if(Pi.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(vi){t:{try{ci(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ai[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Pi.prototype.b=function(){this.defaultPrevented=!0},Hr(Oi,Pi);var Ai={2:"touch",3:"pen",4:"mouse"};Oi.prototype.b=function(){Oi.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ii)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Ri="closure_listenable_"+(1e6*Math.random()|0),Di=0;function Mi(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++Di,this.V=this.X=!1}function Li(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function Fi(t){this.src=t,this.a={},this.b=0}function Ui(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=$r(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Li(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ji(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}Fi.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ji(t,e,r,i);return-1<a?(e=t[a],n||(e.X=!1)):((e=new Mi(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var Vi="closure_lm_"+(1e6*Math.random()|0),qi={};function Bi(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Ki(r),e&&e[Ri]?e.sa(n,r,Ur(i)?!!i.capture:!!i,o):zi(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bi(t,e[o],n,r,i);return null}return n=Ki(n),t&&t[Ri]?t.ra(e,n,Ur(r)?!!r.capture:!!r,i):zi(t,e,n,!1,r,i)}function zi(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ur(i)?!!i.capture:!!i;if(a&&!ki)return null;var s=$i(t);if(s||(t[Vi]=s=new Fi(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Gi,e=ki?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ni||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Qi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Wi(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[Ri])Ui(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Qi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$i(e))?(Ui(n,t),0==n.b&&(n.src=null,e[Vi]=null)):Li(t)}}}function Qi(t){return t in qi?qi[t]:qi[t]="on"+t}function Hi(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&Wi(t),n.call(r,e)}function Gi(t,e){if(t.V)return!0;if(!ki){if(!e)t:{e=["window","event"];for(var n=Dr,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Hi(t,e=new Oi(e,this))}return Hi(t,new Oi(e,this))}function $i(t){return(t=t[Vi])instanceof Fi?t:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ki(t){return"function"==Lr(t)?t:(t[Yi]||(t[Yi]=function(e){return t.handleEvent(e)}),t[Yi])}function Xi(){Gr.call(this),this.c=new Fi(this),this.J=this,this.A=null}function Ji(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.V&&a.capture==n){var s=a.listener,u=a.aa||a.src;a.X&&Ui(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Hr(Xi,Gr),Xi.prototype[Ri]=!0,(Or=Xi.prototype).addEventListener=function(t,e,n,r){Bi(this,t,e,n,r)},Or.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Ur(i)?!!i.capture:!!i,r=Ki(r),e&&e[Ri]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=ji(a=e.a[n],r,i,o))&&(Li(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--)))):e&&(e=$i(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ji(n,r,i,o)),(r=-1<e?n[e]:null)&&Wi(r))}(this,t,e,n,r)},Or.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Pi(t,n);else if(t instanceof Pi)t.target=t.target||n;else{var i=t;ui(t=new Pi(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ji(a,r,!0,t)&&i}if(i=Ji(a=t.a=n,r,!0,t)&&i,i=Ji(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ji(a=t.a=e[o],r,!1,t)&&i;return i},Or.C=function(){if(Xi.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Li(n[r]);delete e.a[t],e.b--}}this.A=null},Or.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Or.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Zi=Dr.JSON.stringify;function to(){this.b=this.a=null}var eo,no=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new io}),(function(t){t.reset()}),100);function ro(){var t=uo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function io(){this.next=this.b=this.a=null}function oo(t){Dr.setTimeout((function(){throw t}),0)}function ao(t,e){eo||function(){var t=Dr.Promise.resolve(void 0);eo=function(){t.then(co)}}(),so||(eo(),so=!0),uo.add(t,e)}to.prototype.add=function(t,e){var n=no.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},io.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},io.prototype.reset=function(){this.next=this.b=this.a=null};var so=!1,uo=new to;function co(){for(var t;t=ro();){try{t.a.call(t.b)}catch(t){oo(t)}var e=no;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}so=!1}function lo(t,e){Xi.call(this),this.b=t||1,this.a=e||Dr,this.f=zr(this.Ua,this),this.g=Qr()}function ho(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function fo(t,e,n){if("function"==Lr(t))n&&(t=zr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Dr.setTimeout(t,e||0)}function po(t,e,n){Gr.call(this),this.f=null!=n?zr(t,n):t,this.c=e,this.b=zr(this.Pa,this),this.a=[]}function yo(t){t.T=fo(t.b,t.c),t.f.apply(null,t.a)}function vo(t){Gr.call(this),this.b=t,this.a={}}Hr(lo,Xi),(Or=lo.prototype).Z=!1,Or.L=null,Or.Ua=function(){if(this.Z){var t=Qr()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(ho(this),this.start()))}},Or.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=Qr())},Or.C=function(){lo.M.C.call(this),ho(this),delete this.a},Hr(po,Gr),(Or=po.prototype).ba=!1,Or.T=null,Or.Ia=function(t){this.a=arguments,this.T?this.ba=!0:yo(this)},Or.C=function(){po.M.C.call(this),this.T&&(Dr.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},Or.Pa=function(){this.T=null,this.ba&&(this.ba=!1,yo(this))},Hr(vo,Gr);var go=[];function mo(t,e,n,r){Array.isArray(n)||(n&&(go[0]=n.toString()),n=go);for(var i=0;i<n.length;i++){var o=Bi(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function bo(t){oi(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Wi(t)}),t),t.a={}}function wo(){}vo.prototype.C=function(){vo.M.C.call(this),bo(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _o=null;function Eo(){return _o=_o||new Xi}function To(t){Pi.call(this,"serverreachability",t)}function xo(t){var e=Eo();e.dispatchEvent(new To(e,t))}function So(t){Pi.call(this,"statevent",t)}function Co(t){var e=Eo();e.dispatchEvent(new So(e,t))}function ko(t){Pi.call(this,"timingevent",t)}function Io(t,e){if("function"!=Lr(t))throw Error("Fn must not be null and must be a function");return Dr.setTimeout((function(){t()}),e)}Hr(To,Pi),Hr(So,Pi),Hr(ko,Pi);var No={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Po={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function Oo(){}function Ao(t){var e;return(e=t.a)||(e=t.a={}),e}function Ro(){}Oo.prototype.a=null;var Do,Mo={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function Lo(){Pi.call(this,"d")}function Fo(){Pi.call(this,"c")}function Uo(){}function jo(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new vo(this),this.N=Vo,t=yi?125:void 0,this.O=new lo(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}Hr(Lo,Pi),Hr(Fo,Pi),Hr(Uo,Oo),Do=new Uo;var Vo=45e3,qo={},Bo={};function zo(t,e,n){t.B=1,t.f=ha(oa(e)),t.j=n,t.F=!0,Wo(t,null)}function Wo(t,e){t.s=Qr(),Go(t),t.A=oa(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),xa(n.b,"t",r),t.w=0,t.a=ys(t.g,t.g.w?e:null),0<t.J&&(t.D=new po(zr(t.ya,t,t.a),t.J)),mo(t.G,t.a,"readystatechange",t.Sa),e=t.m?ai(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),xo(1)}function Qo(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=Ho(t,n);if(i==Bo){4==e&&(t.c=4,Co(14),r=!1);break}if(i==qo){t.c=4,Co(15),r=!1;break}Jo(t,i)}4==e&&0==n.length&&(t.c=1,Co(16),r=!1),t.b=t.b&&r,r||(Xo(t),Ko(t))}function Ho(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?Bo:(n=Number(e.substring(n,r)),isNaN(n)?qo:(r+=1)+n>e.length?Bo:(e=e.substr(r,n),t.w=r+n,e))}function Go(t){t.P=Qr()+t.N,$o(t,t.N)}function $o(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Io(zr(t.Qa,t),e)}function Yo(t){t.h&&(Dr.clearTimeout(t.h),t.h=null)}function Ko(t){0==t.g.u||t.l||ls(t.g,t)}function Xo(t){Yo(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,ho(t.O),bo(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function Jo(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||Oa(n.b,t)))if(n.A=t.H,!t.o&&Oa(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;cs(n),n.a.cancel(),n.a=null}us(n),Co(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Io(zr(n.Na,n),6e3));if(1>=Pa(n.b)&&n.O){try{n.O()}catch(t){}n.O=void 0}}else fs(n,11)}else if((t.o||n.a==t)&&cs(n),!Jr(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var a=i[5];null!=a&&"number"==typeof a&&0<a&&(n.D=1.5*a);var s=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=s.b;!l.a&&(ei(c,"spdy")||ei(c,"quic")||ei(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(Aa(l,l.b),l.b=null))}if(s.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.ha=h,la(s.v,s.s,h))}}n.u=3,n.c&&n.c.na();var f=t;if((s=n).ea=ds(s,s.w?s.R:null,s.P),f.o){Ra(s.b,f);var p=f,d=s.D;d&&p.setTimeout(d),p.h&&(Yo(p),Go(p)),s.a=f}else ss(s);0<n.f.length&&rs(n)}else"stop"!=i[0]&&"close"!=i[0]||fs(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?fs(n,7):ts(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);xo(4)}catch(t){}}function Zo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fr(t)||"string"==typeof t)Yr(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(Fr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(Fr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ta(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ta)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ea(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];na(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)na(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function na(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Or=jo.prototype).setTimeout=function(t){this.N=t},Or.Sa=function(t){t=t.target;var e=this.D;e&&3==Ka(t)?e.Ia():this.ya(t)},Or.ya=function(t){try{if(t==this.a)t:{var e=Ka(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!yi&&!this.a.Y())){this.l||4!=e||7==n||xo(8==n||0>=r?3:2),Yo(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jr(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.c=3,Co(12),Xo(this),Ko(this);break t}this.o=!0,Jo(this,u)}this.F?(Qo(this,e,o),yi&&this.b&&3==e&&(mo(this.G,this.O,"tick",this.Ra),this.O.start())):Jo(this,o),4==e&&Xo(this),this.b&&!this.l&&(4==e?ls(this.g,this):(this.b=!1,Go(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Co(12)):(this.c=0,Co(13)),Xo(this),Ko(this)}}}catch(t){}},Or.Ra=function(){if(this.a){var t=Ka(this.a),e=this.a.Y();this.w<e.length&&(Yo(this),Qo(this,t,e),this.b&&4!=t&&Go(this))}},Or.cancel=function(){this.l=!0,Xo(this)},Or.Qa=function(){this.h=null;var t=Qr();0<=t-this.P?(2!=this.B&&(xo(3),Co(17)),Xo(this),this.c=2,Ko(this)):$o(this,this.P-t)},(Or=ta.prototype).I=function(){ea(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Or.K=function(){return ea(this),this.a.concat()},Or.get=function(t,e){return na(this.b,t)?this.b[t]:e},Or.set=function(t,e){na(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Or.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ra=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ia(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ia){this.a=void 0!==e?e:t.a,aa(this,t.f),this.j=t.j,sa(this,t.c),ua(this,t.h),this.g=t.g,e=t.b;var n=new wa;n.c=e.c,e.a&&(n.a=new ta(e.a),n.b=e.b),ca(this,n),this.i=t.i}else t&&(n=String(t).match(ra))?(this.a=!!e,aa(this,n[1]||"",!0),this.j=fa(n[2]||""),sa(this,n[3]||"",!0),ua(this,n[4]),this.g=fa(n[5]||"",!0),ca(this,n[6]||"",!0),this.i=fa(n[7]||"")):(this.a=!!e,this.b=new wa(null,this.a))}function oa(t){return new ia(t)}function aa(t,e,n){t.f=n?fa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function sa(t,e,n){t.c=n?fa(e,!0):e}function ua(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ca(t,e,n){e instanceof wa?(t.b=e,function(t,e){e&&!t.f&&(_a(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ea(this,e),xa(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=pa(e,ma)),t.b=new wa(e,t.a))}function la(t,e,n){t.b.set(e,n)}function ha(t){return la(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Qr()).toString(36)),t}function fa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,da),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function da(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ia.prototype.toString=function(){var t=[],e=this.f;e&&t.push(pa(e,ya,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(pa(e,ya,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(pa(n,"/"==n.charAt(0)?ga:va,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",pa(n,ba)),t.join("")};var ya=/[#\/\?@]/g,va=/[#\?:]/g,ga=/[#\?]/g,ma=/[#\?@]/g,ba=/#/g;function wa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function _a(t){t.a||(t.a=new ta,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ea(t,e){_a(t),e=Sa(t,e),na(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,na((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ea(t)))}function Ta(t,e){return _a(t),e=Sa(t,e),na(t.a.b,e)}function xa(t,e,n){Ea(t,e),0<n.length&&(t.c=null,t.a.set(Sa(t,e),Xr(n)),t.b+=n.length)}function Sa(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ca(t,e){this.b=t,this.a=e}function ka(t){this.g=t||Ia,Dr.PerformanceNavigationTiming?t=0<(t=Dr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Dr.ca&&Dr.ca.ua&&Dr.ca.ua()&&Dr.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Or=wa.prototype).add=function(t,e){_a(this),this.c=null,t=Sa(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Or.forEach=function(t,e){_a(this),this.a.forEach((function(n,r){Yr(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Or.K=function(){_a(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Or.I=function(t){_a(this);var e=[];if("string"==typeof t)Ta(this,t)&&(e=Kr(e,this.a.get(Sa(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=Kr(e,t[n])}return e},Or.set=function(t,e){return _a(this),this.c=null,Ta(this,t=Sa(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Or.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},Or.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ia=10;function Na(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pa(t){return t.b?1:t.a?t.a.size:0}function Oa(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Aa(t,e){t.a?t.a.add(e):t.b=e}function Ra(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Da(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Pr(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xr(t.c)}function Ma(){}function La(){this.a=new Ma}function Fa(t,e,n){var r=n||"";try{Zo(t,(function(t,n){var i=t;Ur(t)&&(i=Zi(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Ua(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}ka.prototype.cancel=function(){var t,e;if(this.c=Da(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Pr(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ma.prototype.stringify=function(t){return Dr.JSON.stringify(t,void 0)},Ma.prototype.parse=function(t){return Dr.JSON.parse(t,void 0)};var ja=Dr.JSON.parse;function Va(t){Xi.call(this),this.headers=new ta,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=qa,this.B=this.F=!1}Hr(Va,Xi);var qa="",Ba=/^https?$/i,za=["POST","PUT"];function Wa(t){return"content-type"==t.toLowerCase()}function Qa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ha(t),$a(t)}function Ha(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ga(t){if(t.b&&void 0!==Rr&&(!t.s[1]||4!=Ka(t)||2!=t.S()))if(t.l&&4==Ka(t))fo(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==Ka(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(ra)[1]||null;if(!o&&Dr.self&&Dr.self.location){var a=Dr.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ba.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<Ka(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.S()+"]",Ha(t)}}finally{$a(t)}}}function $a(t,e){if(t.a){Ya(t);var n=t.a,r=t.s[0]?Mr:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Ya(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(Dr.clearTimeout(t.m),t.m=null)}function Ka(t){return t.a?t.a.readyState:0}function Xa(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return oi(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):la(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Za(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=Ja("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=Ja("baseRetryDelayMs",5e3,t),this.Ga=Ja("retryDelaySeedMs",1e4,t),this.Da=Ja("forwardChannelMaxRetries",2,t),this.ga=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new ka(t&&t.concurrentRequestLimit),this.ja=new La,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function ts(t){if(es(t),3==t.u){var e=t.H++,n=oa(t.v);la(n,"SID",t.B),la(n,"RID",e),la(n,"TYPE","terminate"),os(t,n),(e=new jo(t,e,void 0)).B=2,e.f=ha(oa(n)),n=!1,Dr.navigator&&Dr.navigator.sendBeacon&&(n=Dr.navigator.sendBeacon(e.f.toString(),"")),!n&&Dr.Image&&((new Image).src=e.f,n=!0),n||(e.a=ys(e.g,null),e.a.$(e.f)),e.s=Qr(),Go(e)}ps(t)}function es(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(Dr.clearTimeout(t.i),t.i=null),cs(t),t.b.cancel(),t.g&&("number"==typeof t.g&&Dr.clearTimeout(t.g),t.g=null)}function ns(t,e){t.f.push(new Ca(t.Fa++,e)),3==t.u&&rs(t)}function rs(t){Na(t.b)||t.g||(t.g=!0,ao(t.xa,t),t.o=0)}function is(t,e){var n;n=e?e.W:t.H++;var r=oa(t.v);la(r,"SID",t.B),la(r,"RID",n),la(r,"AID",t.G),os(t,r),t.h&&t.j&&Xa(r,t.h,t.j),n=new jo(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=as(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),Aa(t.b,n),zo(n,r,e)}function os(t,e){t.c&&Zo({},(function(t,n){la(e,n,t)}))}function as(t,e,n){n=Math.min(t.f.length,n);var r=t.c?zr(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Fa(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function ss(t){t.a||t.i||(t.J=1,ao(t.wa,t),t.m=0)}function us(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=Io(zr(t.wa,t),hs(t,t.m)),t.m++,!0)}function cs(t){null!=t.l&&(Dr.clearTimeout(t.l),t.l=null)}function ls(t,e){var n=null;if(t.a==e){cs(t),t.a=null;var r=2}else{if(!Oa(t.b,e))return;n=e.i,Ra(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Qr()-e.s;var i=t.o;(r=Eo()).dispatchEvent(new ko(r,n,e,i)),rs(t)}else ss(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Pa(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=e.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=Io(zr(t.xa,t,e),hs(t,t.o)),t.o++,!0))}(t,e)||2==r&&us(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:fs(t,5);break;case 4:fs(t,10);break;case 3:fs(t,6);break;default:fs(t,2)}}function hs(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function fs(t,e){if(2==e){var n=null;t.c&&(n=null);var r=zr(t.Ta,t);n||(n=new ia("//www.google.com/images/cleardot.gif"),Dr.location&&"http"==Dr.location.protocol||aa(n,"https"),ha(n)),function(t,e){var n=new wo;if(Dr.Image){var r=new Image;r.onload=Wr(Ua,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wr(Ua,n,r,"TestLoadImage: error",!1,e),r.onabort=Wr(Ua,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wr(Ua,n,r,"TestLoadImage: timeout",!1,e),Dr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Co(2);t.u=0,t.c&&t.c.la(e),ps(t),es(t)}function ps(t){t.u=0,t.A=-1,t.c&&(0==Da(t.b).length&&0==t.f.length||(t.b.c.length=0,Xr(t.f),t.f.length=0),t.c.ka())}function ds(t,e,n){var r=function(t){return t instanceof ia?oa(t):new ia(t,void 0)}(n);if(""!=r.c)e&&sa(r,e+"."+r.c),ua(r,r.h);else{var i=Dr.location;r=function(t,e,n,r){var i=new ia(null,void 0);return t&&aa(i,t),e&&sa(i,e),n&&ua(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&oi(t.N,(function(t,e){la(r,e,t)})),e=t.s,n=t.ha,e&&n&&la(r,e,n),la(r,"VER",t.oa),os(t,r),r}function ys(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Va(t.Ea)).F=t.w,e}function vs(){}function gs(){if(pi&&!(10<=Number(Ci)))throw Error("Environmental error: no available transport.")}function ms(t,e){Xi.call(this),this.a=new Za(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!Jr(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jr(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new _s(this)}function bs(t){Lo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ws(){Fo.call(this),this.status=1}function _s(t){this.a=t}(Or=Va.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?Ao(this.G):Ao(Do),this.a.onreadystatechange=zr(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Qa(this,t)}t=n||"";var i=new ta(this.headers);r&&Zo(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=Dr.FormData&&t instanceof Dr.FormData,!(0<=$r(za,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ya(this),0<this.o&&((this.B=function(t){return pi&&xi(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=zr(this.ta,this)):this.m=fo(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Qa(this,t)}},Or.ta=function(){void 0!==Rr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Or.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$a(this))},Or.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),$a(this,!0)),Va.M.C.call(this)},Or.va=function(){this.j||(this.w||this.l||this.g?Ga(this):this.Oa())},Or.Oa=function(){Ga(this)},Or.S=function(){try{return 2<Ka(this)?this.a.status:-1}catch(t){return-1}},Or.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Or.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ja(e)}},Or.qa=function(){return this.h},Or.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(Or=Za.prototype).oa=8,Or.u=1,Or.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new jo(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?ui(r=ai(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=as(this,n,e),la(i=oa(this.v),"RID",t),la(i,"CVER",22),this.s&&la(i,"X-HTTP-Session-Id",this.s),os(this,i),this.h&&r&&Xa(i,this.h,r),Aa(this.b,n),this.fa?(la(i,"$req",e),la(i,"SID","null"),n.R=!0,zo(n,i,null)):zo(n,i,e),this.u=2}}else 3==this.u&&(t?is(this,t):0==this.f.length||Na(this.b)||is(this))},Or.wa=function(){this.i=null,this.a=new jo(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=oa(this.ea);la(t,"RID","rpc"),la(t,"SID",this.B),la(t,"CI",this.U?"0":"1"),la(t,"AID",this.G),os(this,t),la(t,"TYPE","xmlhttp"),this.h&&this.j&&Xa(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=ha(oa(t)),e.j=null,e.F=!0,Wo(e,n)},Or.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,us(this),Co(19))},Or.Ta=function(t){Co(t?2:1)},(Or=vs.prototype).na=function(){},Or.ma=function(){},Or.la=function(){},Or.ka=function(){},Or.Ha=function(){},gs.prototype.a=function(t,e){return new ms(t,e)},Hr(ms,Xi),(Or=ms.prototype).addEventListener=function(t,e,n,r){ms.M.addEventListener.call(this,t,e,n,r)},Or.removeEventListener=function(t,e,n,r){ms.M.removeEventListener.call(this,t,e,n,r)},Or.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Co(0),t.P=e,t.N=n||{},t.U=t.W,t.v=ds(t,null,t.P),rs(t)},Or.close=function(){ts(this.a)},Or.La=function(t){if("string"==typeof t){var e={};e.__data__=t,ns(this.a,e)}else this.g?((e={}).__data__=Zi(t),ns(this.a,e)):ns(this.a,t)},Or.C=function(){this.a.c=null,delete this.f,ts(this.a),delete this.a,ms.M.C.call(this)},Hr(bs,Lo),Hr(ws,Fo),Hr(_s,vs),_s.prototype.na=function(){this.a.dispatchEvent("a")},_s.prototype.ma=function(t){this.a.dispatchEvent(new bs(t))},_s.prototype.la=function(t){this.a.dispatchEvent(new ws(t))},_s.prototype.ka=function(){this.a.dispatchEvent("b")},gs.prototype.createWebChannel=gs.prototype.a,ms.prototype.send=ms.prototype.La,ms.prototype.open=ms.prototype.Ka,ms.prototype.close=ms.prototype.close,No.NO_ERROR=0,No.TIMEOUT=8,No.HTTP_ERROR=6,Po.COMPLETE="complete",Ro.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",Xi.prototype.listen=Xi.prototype.ra,Va.prototype.listenOnce=Va.prototype.sa,Va.prototype.getLastError=Va.prototype.Ma,Va.prototype.getLastErrorCode=Va.prototype.qa,Va.prototype.getStatus=Va.prototype.S,Va.prototype.getResponseJson=Va.prototype.Ja,Va.prototype.getResponseText=Va.prototype.Y,Va.prototype.send=Va.prototype.$;var Es={createWebChannelTransport:function(){return new gs},ErrorCode:No,EventType:Po,WebChannel:Ro,XhrIo:Va},Ts=Es.createWebChannelTransport,xs=Es.ErrorCode,Ss=Es.EventType,Cs=Es.WebChannel,ks=Es.XhrIo,Is=bt.SDK_VERSION,Ns=new at("@firebase/firestore");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ps(){return Ns.logLevel}function Os(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ns.logLevel<=Z.DEBUG){var r=e.map(Rs);Ns.debug.apply(Ns,f(["Firestore ("+Is+"): "+t],r))}}function As(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ns.logLevel<=Z.ERROR){var r=e.map(Rs);Ns.error.apply(Ns,f(["Firestore ("+Is+"): "+t],r))}}function Rs(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+Is+") INTERNAL ASSERTION FAILED: "+t;throw As(e),new Error(e)}function Ms(t,e){t||Ds()}function Ls(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Us=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Fs(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function js(t,e){return t<e?-1:t>e?1:0}function Vs(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function qs(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},zs=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return js(this.projectId,t.projectId)||js(this.database,t.database)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gs=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.u(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Qs(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype._=function(){return Hs(this.l)},t}(),$s={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ys=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(e,t),e}(Error),Ks=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ys($s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ys($s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ys($s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ys($s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?js(this.nanoseconds,t.nanoseconds):js(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Xs=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new Ks(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.A=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.R=function(){return this.timestamp},t}(),Js=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ds(),void 0===n?n=t.length-e:n>t.length-e&&Ds(),this.segments=t,this.offset=e,this.m=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.m},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.N=function(){return this.F().join("/")},e.prototype.toString=function(){return this.N()},e.$=function(t){if(t.indexOf("//")>=0)throw new Ys($s.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(Js);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs.k=new Zs([]);var tu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return tu.test(t)},e.prototype.N=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.N()},e.prototype.L=function(){return 1===this.length&&"__name__"===this.get(0)},e.O=function(){return new e(["__name__"])},e.B=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ys($s.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ys($s.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ys($s.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ys($s.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(Js);eu.k=new eu([]);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nu=function(){function t(t){this.path=t}return t.q=function(e){return new t(Zs.$(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Zs.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return Zs.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new Zs(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){return null==t}function iu(t){return-0===t&&1/t==-1/0}function ou(t){return"number"==typeof t&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nu.EMPTY=new nu(new Zs([]));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var au=function(){function t(t){this.K=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.K,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.K)},t.prototype.G=function(){return 2*this.K.length},t.prototype.o=function(t){return js(this.K,t.K)},t.prototype.isEqual=function(t){return this.K===t.K},t}();au.H=new au("");var su,uu,cu=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Xs.min()),void 0===o&&(o=Xs.min()),void 0===a&&(a=au.H),this.target=t,this.targetId=e,this.Y=n,this.sequenceNumber=r,this.J=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.X=function(e){return new t(this.target,this.targetId,this.Y,e,this.J,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Z=function(e,n){return new t(this.target,this.targetId,this.Y,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.tt=function(e){return new t(this.target,this.targetId,this.Y,this.sequenceNumber,this.J,e,this.resumeToken)},t}(),lu=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){switch(t){case $s.OK:return Ds();case $s.CANCELLED:case $s.UNKNOWN:case $s.DEADLINE_EXCEEDED:case $s.RESOURCE_EXHAUSTED:case $s.INTERNAL:case $s.UNAVAILABLE:case $s.UNAUTHENTICATED:return!1;case $s.INVALID_ARGUMENT:case $s.NOT_FOUND:case $s.ALREADY_EXISTS:case $s.PERMISSION_DENIED:case $s.FAILED_PRECONDITION:case $s.ABORTED:case $s.OUT_OF_RANGE:case $s.UNIMPLEMENTED:case $s.DATA_LOSS:return!0;default:return Ds()}}function fu(t){if(void 0===t)return As("GRPC error has no .code"),$s.UNKNOWN;switch(t){case su.OK:return $s.OK;case su.CANCELLED:return $s.CANCELLED;case su.UNKNOWN:return $s.UNKNOWN;case su.DEADLINE_EXCEEDED:return $s.DEADLINE_EXCEEDED;case su.RESOURCE_EXHAUSTED:return $s.RESOURCE_EXHAUSTED;case su.INTERNAL:return $s.INTERNAL;case su.UNAVAILABLE:return $s.UNAVAILABLE;case su.UNAUTHENTICATED:return $s.UNAUTHENTICATED;case su.INVALID_ARGUMENT:return $s.INVALID_ARGUMENT;case su.NOT_FOUND:return $s.NOT_FOUND;case su.ALREADY_EXISTS:return $s.ALREADY_EXISTS;case su.PERMISSION_DENIED:return $s.PERMISSION_DENIED;case su.FAILED_PRECONDITION:return $s.FAILED_PRECONDITION;case su.ABORTED:return $s.ABORTED;case su.OUT_OF_RANGE:return $s.OUT_OF_RANGE;case su.UNIMPLEMENTED:return $s.UNIMPLEMENTED;case su.DATA_LOSS:return $s.DATA_LOSS;default:return Ds()}}(uu=su||(su={}))[uu.OK=0]="OK",uu[uu.CANCELLED=1]="CANCELLED",uu[uu.UNKNOWN=2]="UNKNOWN",uu[uu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uu[uu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uu[uu.NOT_FOUND=5]="NOT_FOUND",uu[uu.ALREADY_EXISTS=6]="ALREADY_EXISTS",uu[uu.PERMISSION_DENIED=7]="PERMISSION_DENIED",uu[uu.UNAUTHENTICATED=16]="UNAUTHENTICATED",uu[uu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uu[uu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uu[uu.ABORTED=10]="ABORTED",uu[uu.OUT_OF_RANGE=11]="OUT_OF_RANGE",uu[uu.UNIMPLEMENTED=12]="UNIMPLEMENTED",uu[uu.INTERNAL=13]="INTERNAL",uu[uu.UNAVAILABLE=14]="UNAVAILABLE",uu[uu.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pu=function(){function t(t,e){this.P=t,this.root=e||yu.EMPTY}return t.prototype.et=function(e,n){return new t(this.P,this.root.et(e,n,this.P).st(null,null,yu.nt,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).st(null,null,yu.nt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new du(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new du(this.root,t,this.P,!1)},t.prototype.ct=function(){return new du(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new du(this.root,t,this.P,!0)},t}(),du=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),yu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.st=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.et=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.st(null,null,null,r.left.et(t,e,n),null):0===i?r.st(null,e,null,null,null):r.st(null,null,null,null,r.right.et(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.st(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.st(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.st(r.key,r.value,null,null,i.right.It())}i=i.st(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.pt()),t},t.prototype.Rt=function(){var t=this.pt();return t.right.left.At()&&(t=(t=(t=t.st(null,null,null,null,t.right.Pt())).gt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.At()&&(t=(t=t.Pt()).pt()),t},t.prototype.gt=function(){var e=this.st(null,null,t.RED,null,this.right.left);return this.right.st(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.st(null,null,t.RED,this.left.right,null);return this.left.st(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.st(null,null,!this.left.color,null,null),e=this.right.st(null,null,!this.right.color,null,null);return this.st(null,null,!this.color,t,e)},t.prototype.yt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw Ds();if(this.right.At())throw Ds();var t=this.left.bt();if(t!==this.right.bt())throw Ds();return t+(this.At()?0:1)},t}();yu.EMPTY=null,yu.RED=!0,yu.nt=!1,yu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ds()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ds()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ds()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ds()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ds()},enumerable:!0,configurable:!0}),t.prototype.st=function(t,e,n,r,i){return this},t.prototype.et=function(t,e,n){return new yu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.yt=function(){return!0},t.prototype.bt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vu=function(){function t(t){this.P=t,this.data=new pu(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new gu(this.data.at())},t.prototype.ut=function(t){return new gu(this.data.ut(t))},t.prototype.add=function(t){return this.st(this.data.remove(t).et(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.st(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.st=function(e){var n=new t(this.P);return n.data=e,n},t}(),gu=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),mu=new pu(nu.P);function bu(){return mu}function wu(){return bu()}var _u=new pu(nu.P);function Eu(){return _u}var Tu=new pu(nu.P),xu=new vu(nu.P);function Su(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cu=new vu(js);function ku(){return Cu}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu=function(){function t(t){this.P=t?function(e,n){return t(e,n)||nu.P(e.key,n.key)}:function(t,e){return nu.P(t.key,e.key)},this.Nt=Eu(),this.$t=new pu(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Nt.get(t)},t.prototype.get=function(t){return this.Nt.get(t)},t.prototype.first=function(){return this.$t.it()},t.prototype.last=function(){return this.$t.rt()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.$t.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.st(e.Nt.et(t.key,t),e.$t.et(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.st(this.Nt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.at(),r=e.$t.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.st=function(e,n){var r=new t;return r.P=this.P,r.Nt=e,r.$t=n,r},t}(),Nu=function(){function t(){this.xt=new pu(nu.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.et(e,t):3===t.type&&1!==n.type?this.xt=this.xt.et(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.et(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.et(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.et(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.et(e,{type:2,doc:t.doc}):Ds():this.xt=this.xt.et(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},t}(),Pu=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.Ot=i,this.fromCache=o,this.Bt=a,this.qt=s}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Iu.kt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ot._()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Ot.isEqual(t.Ot)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ou=function(){function t(t,e,n,r,i){this.J=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,Au.zt(e,n)),new t(Xs.min(),r,ku(),bu(),Su())},t}(),Au=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(au.H,n,Su(),Su(),Su())},t}(),Ru=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},Du=function(t,e){this.targetId=t,this.ee=e},Mu=function(t,e,n,r){void 0===n&&(n=au.H),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Lu=function(){function t(){this.se=0,this.ne=ju(),this.ie=au.H,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.se},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!0,configurable:!0}),t.prototype.ue=function(t){t.G()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=Su(),e=Su(),n=Su();return this.ne.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ds()}})),new Au(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.ne=ju()},t.prototype._e=function(t,e){this.oe=!0,this.ne=this.ne.et(t,e)},t.prototype.fe=function(t){this.oe=!0,this.ne=this.ne.remove(t)},t.prototype.de=function(){this.se+=1},t.prototype.we=function(){this.se-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Fu=function(){function t(t){this.Ee=t,this.Ie=new Map,this.Ae=bu(),this.Re=Uu(),this.me=new vu(js)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof tl?this.Ve(r,t.te):t.te instanceof el&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.ge(a,t.key,t.te)}},t.prototype.pe=function(t){var e=this;this.ye(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:Ds()}}))},t.prototype.ye=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(bl(i))if(0===n){var o=new nu(i.path);this.ge(e,o,new el(o,Xs.min()))}else Ms(1===n);else this.Fe(e)!==n&&(this.Se(e),this.me=this.me.add(e))}},t.prototype.Ne=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&bl(o.target)){var a=new nu(o.target.path);null!==e.Ae.get(a)||e.$e(i,a)||e.ge(i,a,new el(a,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=Su();this.Re.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.Y||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ou(t,n,this.me,this.Ae,r);return this.Ae=bu(),this.Re=Uu(),this.me=new vu(js),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.Ae=this.Ae.et(e.key,e),this.Re=this.Re.et(e.key,this.ke(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Re=this.Re.et(e,this.ke(e).delete(t)),n&&(this.Ae=this.Ae.et(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new Lu,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Re.get(t);return e||(e=new vu(js),this.Re=this.Re.et(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||Os("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new Lu),this.Ee.xe(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(){return new pu(nu.P)}function ju(){return new pu(nu.P)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qu(t){var e=Yu(t.mapValue.fields.__local_write_time__.timestampValue);return new Ks(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vu(t)?4:10:Ds()}function Wu(t,e){var n=zu(t);if(n!==zu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yu(t.timestampValue),r=Yu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xu(t.bytesValue).isEqual(Xu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ku(t.geoPointValue.latitude)===Ku(e.geoPointValue.latitude)&&Ku(t.geoPointValue.longitude)===Ku(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ku(t.integerValue)===Ku(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ku(t.doubleValue),r=Ku(e.doubleValue);return n===r?iu(n)===iu(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],Wu);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ws(n)!==Ws(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wu(n[i],r[i])))return!1;return!0}(t,e);default:return Ds()}}function Qu(t,e){return void 0!==(t.values||[]).find((function(t){return Wu(t,e)}))}function Hu(t,e){var n=zu(t),r=zu(e);if(n!==r)return js(n,r);switch(n){case 0:return 0;case 1:return js(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ku(t.integerValue||t.doubleValue),r=Ku(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Gu(t.timestampValue,e.timestampValue);case 4:return Gu(qu(t),qu(e));case 5:return js(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Xu(t),r=Xu(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=js(n[i],r[i]);if(0!==o)return o}return js(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=js(Ku(t.latitude),Ku(e.latitude));return 0!==n?n:js(Ku(t.longitude),Ku(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Hu(n[i],r[i]);if(o)return o}return js(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=js(r[a],o[a]);if(0!==s)return s;var u=Hu(n[r[a]],i[o[a]]);if(0!==u)return u}return js(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ds()}}function Gu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return js(t,e);var n=Yu(t),r=Yu(e),i=js(n.seconds,r.seconds);return 0!==i?i:js(n.nanos,r.nanos)}function $u(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Yu(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xu(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,nu.q(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=t(a)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Ds();var n,r}(t)}function Yu(t){if(Ms(!!t),"string"==typeof t){var e=0,n=Bu.exec(t);if(Ms(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ku(t.seconds),nanos:Ku(t.nanos)}}function Ku(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xu(t){return"string"==typeof t?au.fromBase64String(t):au.fromUint8Array(t)}function Ju(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function Zu(t){return!!t&&"integerValue"in t}function tc(t){return!!t&&"arrayValue"in t}function ec(t){return!!t&&"nullValue"in t}function nc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rc(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic={asc:"ASCENDING",desc:"DESCENDING"},oc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ac=function(t,e){this.s=t,this.Le=e};function sc(t){return{integerValue:""+t}}function uc(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function cc(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function lc(t,e){return t.Le?e.toBase64():e.toUint8Array()}function hc(t,e){return t.Le?(Ms(void 0===e||"string"==typeof e),au.fromBase64String(e||"")):(Ms(void 0===e||e instanceof Uint8Array),au.fromUint8Array(e||new Uint8Array))}function fc(t,e){return cc(t,e.R())}function pc(t){return Ms(!!t),Xs.I(function(t){var e=Yu(t);return new Ks(e.seconds,e.nanos)}(t))}function dc(t,e){return function(t){return new Zs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).N()}function yc(t){var e=Zs.$(t);return Ms(Dc(e)),e}function vc(t,e){return dc(t.s,e.path)}function gc(t,e){var n=yc(e);return Ms(n.get(1)===t.s.projectId),Ms(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new nu(_c(n))}function mc(t,e){return dc(t.s,e)}function bc(t){var e=yc(t);return 4===e.length?Zs.k:_c(e)}function wc(t){return new Zs(["projects",t.s.projectId,"databases",t.s.database]).N()}function _c(t){return Ms(t.length>4&&"documents"===t.get(4)),t.g(5)}function Ec(t,e,n){return{name:vc(t,e),fields:n.proto.mapValue.fields}}function Tc(t,e){var n;if(e instanceof Qc)n={update:Ec(t,e.key,e.value)};else if(e instanceof $c)n={delete:vc(t,e.key)};else if(e instanceof Hc)n={update:Ec(t,e.key,e.data),updateMask:Rc(e.Oe)};else if(e instanceof Gc)n={transform:{document:vc(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Mc)return{fieldPath:e.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lc)return{fieldPath:e.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof Fc)return{fieldPath:e.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof Uc)return{fieldPath:e.field.N(),increment:n.Be};throw Ds()}(0,t)}))}};else{if(!(e instanceof Yc))return Ds();n={verify:vc(t,e.key)}}return e.Ue.qe||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ds()}(t,e.Ue)),n}function xc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zc.updateTime(pc(t.updateTime)):void 0!==t.exists?zc.exists(t.exists):zc.Qe()}(e.currentDocument):zc.Qe();if(e.update){e.update.name;var r=gc(t,e.update.name),i=new Kc({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Vc(e.map((function(t){return eu.B(t)})))}(e.updateMask);return new Hc(r,i,o,n)}return new Qc(r,i,n)}if(e.delete){var a=gc(t,e.delete);return new $c(a,n)}if(e.transform){var s=gc(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Ms("REQUEST_TIME"===e.setToServerValue),n=Mc.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Lc(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Fc(i)}else"increment"in e?n=new Uc(t,e.increment):Ds();var o=eu.B(e.fieldPath);return new qc(o,n)}(t,e)}));return Ms(!0===n.exists),new Gc(s,u)}if(e.verify){var c=gc(t,e.verify);return new Yc(c,n)}return Ds()}function Sc(t,e){return{documents:[mc(t,e.path)]}}function Cc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=mc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=mc(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof il?function(t){if("=="===t.op){if(nc(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NAN"}};if(ec(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:Nc(t.field),op:(e=t.op,oc[e]),value:t.value}};var e}(t):Ds()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Nc((e=t).field),direction:(n=e.dir,ic[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Le||ru(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=kc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kc(e.endAt)),n}function kc(t){return{before:t.before,values:t.position}}function Ic(t){var e=!!t.before,n=t.values||[];return new ll(n,e)}function Nc(t){return{fieldPath:t.N()}}function Pc(t){return eu.B(t.fieldPath)}function Oc(t){return il.create(Pc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ds()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ac(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Pc(t.unaryFilter.field);return il.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Pc(t.unaryFilter.field);return il.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ds()}}function Rc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.N())})),{fieldPaths:e}}function Dc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mc=function(){function t(){}return t.prototype.je=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.Ke=function(t,e){return e},t.prototype.Ge=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();Mc.instance=new Mc;var Lc=function(){function t(t){this.elements=t}return t.prototype.je=function(t,e){return this.apply(t)},t.prototype.Ke=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=jc(t),n=function(t){e.some((function(e){return Wu(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Ge=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Vs(this.elements,e.elements,Wu)},t}(),Fc=function(){function t(t){this.elements=t}return t.prototype.je=function(t,e){return this.apply(t)},t.prototype.Ke=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=jc(t),n=function(t){e=e.filter((function(e){return!Wu(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Ge=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Vs(this.elements,e.elements,Wu)},t}(),Uc=function(){function t(t,e){this.serializer=t,this.Be=e}return t.prototype.je=function(t,e){var n=this.Ge(t),r=this.asNumber(n)+this.asNumber(this.Be);return Zu(n)&&Zu(this.Be)?sc(r):uc(this.serializer,r)},t.prototype.Ke=function(t,e){return e},t.prototype.Ge=function(t){return Zu(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&Wu(this.Be,e.Be)},t.prototype.asNumber=function(t){return Ku(t.integerValue||t.doubleValue)},t}();function jc(t){return tc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vc=function(){function t(t){this.fields=t,t.sort(eu.P)}return t.prototype.ze=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return Vs(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),qc=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Bc=function(t,e){this.version=t,this.transformResults=e},zc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.He=function(t){return void 0!==this.updateTime?t instanceof tl&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof tl},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),Wc=function(){function t(){}return t.prototype.Ye=function(t){},t.Je=function(t){return t instanceof tl?t.version:Xs.min()},t}(),Qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return o(e,t),e.prototype.Ke=function(t,e){this.Ye(t);var n=e.version;return new tl(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=Wc.Je(t);return new tl(this.key,r,this.value,{Xe:!0})},e.prototype.Ze=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Ue.isEqual(t.Ue)},e}(Wc),Hc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Oe=r,o.Ue=i,o.type=1,o}return o(e,t),e.prototype.Ke=function(t,e){if(this.Ye(t),!this.Ue.He(t))return new nl(this.key,e.version);var n=this.ts(t);return new tl(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=Wc.Je(t),i=this.ts(t);return new tl(this.key,r,i,{Xe:!0})},e.prototype.Ze=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Oe.isEqual(t.Oe)&&this.Ue.isEqual(t.Ue)},e.prototype.ts=function(t){var e;return e=t instanceof tl?t.data():Kc.empty(),this.es(e)},e.prototype.es=function(t){var e=this,n=new Xc(t);return this.Oe.fields.forEach((function(t){if(!t._()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.ss()},e}(Wc),Gc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=zc.exists(!0),r}return o(e,t),e.prototype.Ke=function(t,e){if(this.Ye(t),Ms(null!=e.transformResults),!this.Ue.He(t))return new nl(this.key,e.version);var n=this.ns(t),r=this.rs(t,e.transformResults),i=e.version,o=this.os(n.data(),r);return new tl(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=this.ns(t),i=this.hs(n,t,e),o=this.os(r.data(),i);return new tl(this.key,r.version,o,{Xe:!0})},e.prototype.Ze=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof tl?t.field(i.field):void 0,a=i.transform.Ge(o||null);null!=a&&(e=null==e?(new Xc).set(i.field,a):e.set(i.field,a))}return e?e.ss():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Vs(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Ue.isEqual(t.Ue)},e.prototype.ns=function(t){return t},e.prototype.rs=function(t,e){var n=[];Ms(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof tl&&(a=t.field(i.field)),n.push(o.Ke(a,e[r]))}return n},e.prototype.hs=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof tl&&(u=e.field(a.field)),null===u&&n instanceof tl&&(u=n.field(a.field)),r.push(s.je(u,t))}return r},e.prototype.os=function(t,e){for(var n=new Xc(t),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.ss()},e}(Wc),$c=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return o(e,t),e.prototype.Ke=function(t,e){return this.Ye(t),new el(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){return this.Ye(t),this.Ue.He(t)?new el(this.key,Xs.min()):t},e.prototype.Ze=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Ue.isEqual(t.Ue)},e}(Wc),Yc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return o(e,t),e.prototype.Ke=function(t,e){Ds()},e.prototype.je=function(t,e,n){Ds()},e.prototype.Ze=function(t){Ds()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Ue.isEqual(t.Ue)},e}(Wc),Kc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!rc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Wu(this.proto,t.proto)},t}(),Xc=function(){function t(t){void 0===t&&(t=Kc.empty()),this.as=t,this.us=new Map}return t.prototype.set=function(t,e){return this.cs(t,e),this},t.prototype.delete=function(t){return this.cs(t,null),this},t.prototype.cs=function(t,e){for(var n=this.us,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===zu(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ss=function(){var t=this.ls(eu.k,this.us);return null!=t?new Kc(t):this.as},t.prototype.ls=function(t,e){var n=this,r=!1,i=this.as.field(t),o=rc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.ls(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Jc(t){var e=[];return Qs(t.fields||{},(function(t,n){var r=new eu([t]);if(rc(n)){var i=Jc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Vc(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Zc=function(t,e){this.key=t,this.version=e},tl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this)._s=r,o.Xe=!!i.Xe,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o(e,t),e.prototype.field=function(t){return this._s.field(t)},e.prototype.data=function(){return this._s},e.prototype.fs=function(){return this._s.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Xe===t.Xe&&this.hasCommittedMutations===t.hasCommittedMutations&&this._s.isEqual(t._s)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this._s.toString()+", {hasLocalMutations: "+this.Xe+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Xe||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(Zc),el=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Zc),nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Zc),rl=function(){function t(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.ds=n,this.filters=r,this.limit=i,this.ws=o,this.startAt=a,this.endAt=s,this.Ts=null,this.Es=null,this.startAt&&this.Is(this.startAt),this.endAt&&this.Is(this.endAt)}return t.As=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Ts){this.Ts=[];var t=this.Rs(),e=this.ms();if(null!==t&&null===e)t.L()||this.Ts.push(new dl(t)),this.Ts.push(new dl(eu.O(),"asc"));else{for(var n=!1,r=0,i=this.ds;r<i.length;r++){var o=i[r];this.Ts.push(o),o.field.L()&&(n=!0)}if(!n){var a=this.ds.length>0?this.ds[this.ds.length-1].dir:"asc";this.Ts.push(new dl(eu.O(),a))}}}return this.Ts},enumerable:!0,configurable:!0}),t.prototype.Ps=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.ds.slice(),n,this.limit,this.ws,this.startAt,this.endAt)},t.prototype.Vs=function(e){var n=this.ds.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},t.prototype.gs=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.ps=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.ys=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,e,this.endAt)},t.prototype.bs=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,e)},t.prototype.vs=function(e){return new t(e,null,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},t.prototype.Ss=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.ds.length||1===this.ds.length&&this.ds[0].field.L())},t.prototype.canonicalId=function(){return gl(this.We())+"|lt:"+this.ws},t.prototype.toString=function(){return"Query(target="+function(t){var e=t.path.N();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.join(", ")+"]"),ru(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.join(", ")+"]"),t.startAt&&(e+=", startAt: "+hl(t.startAt)),t.endAt&&(e+=", endAt: "+hl(t.endAt)),"Target("+e+")"}(this.We())+"; limitType="+this.ws+")"},t.prototype.isEqual=function(t){return ml(this.We(),t.We())&&this.ws===t.ws},t.prototype.Ds=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.L()}return 0},t.prototype.matches=function(t){return this.Cs(t)&&this.Fs(t)&&this.Ns(t)&&this.$s(t)},t.prototype.ks=function(){return!ru(this.limit)&&"F"===this.ws},t.prototype.xs=function(){return!ru(this.limit)&&"L"===this.ws},t.prototype.ms=function(){return this.ds.length>0?this.ds[0].field:null},t.prototype.Rs=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof il&&n.Ms())return n.field}return null},t.prototype.Ls=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof il&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Os=function(){return bl(this.We())},t.prototype.Bs=function(){return null!==this.collectionGroup},t.prototype.We=function(){if(!this.Es)if("F"===this.ws)this.Es=vl(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new dl(r.field,i))}var o=this.endAt?new ll(this.endAt.position,!this.endAt.before):null,a=this.startAt?new ll(this.startAt.position,!this.startAt.before):null;this.Es=vl(this.path,this.collectionGroup,t,this.filters,this.limit,o,a)}return this.Es},t.prototype.Cs=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.U(this.collectionGroup)&&this.path.D(e):nu.W(this.path)?this.path.isEqual(e):this.path.C(e)},t.prototype.Fs=function(t){for(var e=0,n=this.ds;e<n.length;e++){var r=n[e];if(!r.field.L()&&null===t.field(r.field))return!1}return!0},t.prototype.Ns=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.$s=function(t){return!(this.startAt&&!fl(this.startAt,this.orderBy,t)||this.endAt&&fl(this.endAt,this.orderBy,t))},t.prototype.Is=function(t){},t}(),il=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o(e,t),e.create=function(t,n,r){if(t.L())return"in"===n?new al(t,r):new ol(t,n,r);if(ec(r)){if("=="!==n)throw new Ys($s.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(nc(r)){if("=="!==n)throw new Ys($s.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new sl(t,r):"in"===n?new ul(t,r):"array-contains-any"===n?new cl(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&zu(this.value)===zu(e)&&this.qs(Hu(e,this.value))},e.prototype.qs=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return Ds()}},e.prototype.Ms=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.N()+this.op.toString()+$u(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&Wu(this.value,t.value)},e.prototype.toString=function(){return this.field.N()+" "+this.op+" "+$u(this.value)},e}((function(){})),ol=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=nu.q(r.referenceValue),i}return o(e,t),e.prototype.matches=function(t){var e=nu.P(t.key,this.key);return this.qs(e)},e}(il),al=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return nu.q(t.referenceValue)})),r}return o(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(il),sl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return tc(e)&&Qu(e.arrayValue,this.value)},e}(il),ul=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Qu(this.value.arrayValue,e)},e}(il),cl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!tc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Qu(e.value.arrayValue,t)}))},e}(il),ll=function(t,e){this.position=t,this.before=e};function hl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return $u(t)})).join(",")}function fl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.L()?nu.P(nu.q(a.referenceValue),n.key):Hu(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function pl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Wu(t.position[n],e.position[n]))return!1;return!0}var dl=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.Us=t.L()}return t.prototype.compare=function(t,e){var n=this.Us?nu.P(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Hu(r,i):Ds()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return Ds()}},t.prototype.canonicalId=function(){return this.field.N()+this.dir.toString()},t.prototype.toString=function(){return this.field.N()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),yl=function(t){function e(e,n,r,i,o,a,s){void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null);var u=this;return(u=t.call(this,e,n,r,i,o,a,s)||this).Qs=null,u}return o(e,t),e}((function(t,e,n,r,i,o,a){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new yl(t,e,n,r,i,o,a)}function gl(t){var e=Ls(t);if(null===e.Qs){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return t.canonicalId()})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return t.canonicalId()})).join(","),ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hl(e.startAt)),e.endAt&&(n+="|ub:",n+=hl(e.endAt)),e.Qs=n}return e.Qs}function ml(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!t.orderBy[n].isEqual(e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(!t.filters[r].isEqual(e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pl(t.startAt,e.startAt)&&pl(t.endAt,e.endAt)}function bl(t){return nu.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wl=function(){function t(t,e,n,r){this.batchId=t,this.Ws=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ke=function(t,e,n){for(var r=n.js,i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.Ke(e,a)}}return e},t.prototype.je=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.je(e,e,this.Ws))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=u.je(e,o,this.Ws))}return e},t.prototype.Ks=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.je(r.key,t.get(r.key));i&&(n=n.et(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Su())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Vs(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Vs(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),_l=function(){function t(t,e,n,r){this.batch=t,this.Gs=e,this.js=n,this.zs=r}return t.from=function(e,n,r){Ms(e.mutations.length===r.length);for(var i=Tu,o=e.mutations,a=0;a<o.length;a++)i=i.et(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),El=function(){function t(t){var e=this;this.Hs=null,this.Ys=null,this.result=void 0,this.error=void 0,this.Js=!1,this.Xs=!1,t((function(t){e.Js=!0,e.result=t,e.Hs&&e.Hs(t)}),(function(t){e.Js=!0,e.error=t,e.Ys&&e.Ys(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Xs&&Ds(),this.Xs=!0,this.Js?this.error?this.Zs(n,this.error):this.tn(e,this.result):new t((function(t,i){r.Hs=function(n){r.tn(e,n).next(t,i)},r.Ys=function(e){r.Zs(n,e).next(t,i)}}))},t.prototype.en=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.sn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.tn=function(e,n){return e?this.sn((function(){return e(n)})):t.resolve(n)},t.prototype.Zs=function(e,n){return e?this.sn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.nn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.rn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.nn(r)},t}(),Tl=function(){function t(){this.on=new Gs((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.hn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.an},set:function(t){this.an=t},enumerable:!0,configurable:!0}),t.prototype.un=function(t,e){this.cn(),this.readTime=e,this.on.set(t.key,t)},t.prototype.ln=function(t,e){this.cn(),e&&(this.readTime=e),this.on.set(t,null)},t.prototype._n=function(t,e){this.cn();var n=this.on.get(e);return void 0!==n?El.resolve(n):this.fn(t,e)},t.prototype.getEntries=function(t,e){return this.dn(t,e)},t.prototype.apply=function(t){return this.cn(),this.hn=!0,this.wn(t)},t.prototype.cn=function(){},t}(),xl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sl=function(){function t(){this.Tn=[]}return t.prototype.En=function(t){this.Tn.push(t)},t.prototype.In=function(){this.Tn.forEach((function(t){return t()}))},t}(),Cl=function(){function t(t,e,n){this.An=t,this.Rn=e,this.mn=n}return t.prototype.Pn=function(t,e){var n=this;return this.Rn.Vn(t,e).next((function(r){return n.gn(t,e,r)}))},t.prototype.gn=function(t,e,n){return this.An._n(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].je(e,t);return t}))},t.prototype.pn=function(t,e,n){var r=wu();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].je(t,e);r=r.et(t,e)})),r},t.prototype.yn=function(t,e){var n=this;return this.An.getEntries(t,e).next((function(e){return n.bn(t,e)}))},t.prototype.bn=function(t,e){var n=this;return this.Rn.vn(t,e).next((function(r){var i=n.pn(t,e,r),o=bu();return i.forEach((function(t,e){e||(e=new el(t,Xs.min())),o=o.et(t,e)})),o}))},t.prototype.Sn=function(t,e,n){return e.Os()?this.Dn(t,e.path):e.Bs()?this.Cn(t,e,n):this.Fn(t,e,n)},t.prototype.Dn=function(t,e){return this.Pn(t,new nu(e)).next((function(t){var e=Eu();return t instanceof tl&&(e=e.et(t.key,t)),e}))},t.prototype.Cn=function(t,e,n){var r=this,i=e.collectionGroup,o=Eu();return this.mn.Nn(t,i).next((function(a){return El.forEach(a,(function(a){var s=e.vs(a.child(i));return r.Fn(t,s,n).next((function(t){t.forEach((function(t,e){o=o.et(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Fn=function(t,e,n){var r,i,o=this;return this.An.Sn(t,e,n).next((function(n){return r=n,o.Rn.$n(t,e)})).next((function(e){return i=e,o.kn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=u.je(l,l,o.Ws);r=h instanceof tl?r.et(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.kn=function(t,e,n){for(var r=Su(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Hc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.An.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof tl&&(c=c.et(t,e))})),c}))},t}(),kl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.xn=n,this.Mn=r}return t.Ln=function(e,n){for(var r=Su(),i=Su(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Il=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.On=function(t){return n.Bn(t)},this.qn=function(t){return e.Un(t)})}return t.prototype.Bn=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.qn&&this.qn(t),t},t}();Il.Qn=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nl=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Pl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Wn=t,this.jn=e,this.Kn=n,this.Gn=r,this.zn=i,this.Hn=0,this.Yn=null,this.Jn=Date.now(),this.reset()}return t.prototype.reset=function(){this.Hn=0},t.prototype.Xn=function(){this.Hn=this.zn},t.prototype.Zn=function(t){var e=this;this.cancel();var n=Math.floor(this.Hn+this.ti()),r=Math.max(0,Date.now()-this.Jn),i=Math.max(0,n-r);i>0&&Os("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Hn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Yn=this.Wn.ei(this.jn,i,(function(){return e.Jn=Date.now(),t()})),this.Hn*=this.Gn,this.Hn<this.Kn&&(this.Hn=this.Kn),this.Hn>this.zn&&(this.Hn=this.zn)},t.prototype.si=function(){null!==this.Yn&&(this.Yn.ni(),this.Yn=null)},t.prototype.cancel=function(){null!==this.Yn&&(this.Yn.cancel(),this.Yn=null)},t.prototype.ti=function(){return(Math.random()-.5)*this.Hn},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rl(e)),e=Al(t.get(n),e);return Rl(e)}function Al(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Rl(t){return t+""}function Dl(t){var e=t.length;if(Ms(e>=2),2===e)return Ms(""===t.charAt(0)&&""===t.charAt(1)),Zs.k;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Ds(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Ds()}o=a+2}return new Zs(r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ml=function(){function t(){this.ii=new Ll}return t.prototype.ri=function(t,e){return this.ii.add(e),El.resolve()},t.prototype.Nn=function(t,e){return El.resolve(this.ii.getEntries(e))},t}(),Ll=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new vu(Zs.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new vu(Zs.P)).F()},t}(),Fl=function(){function t(){this.oi=new Ll}return t.prototype.ri=function(t,e){var n=this;if(!this.oi.has(e)){var r=e.S(),i=e.p();t.En((function(){n.oi.add(e)}));var o={collectionId:r,parent:Ol(i)};return Ul(t).put(o)}return El.resolve()},t.prototype.Nn=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qs(e),""],!1,!0);return Ul(t).hi(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Dl(o.parent))}return n}))},t}();function Ul(t){return sh.ai(t,Ah.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=function(t){this.ui=t};function Vl(t,e){if(e.document)return function(t,e,n){var r=gc(t,e.name),i=pc(e.updateTime),o=new Kc({mapValue:{fields:e.fields}});return new tl(r,i,o,{hasCommittedMutations:!!n})}(t.ui,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=nu.j(e.noDocument.path),r=Ql(e.noDocument.readTime);return new el(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=nu.j(e.unknownDocument.path),o=Ql(e.unknownDocument.version);return new nl(i,o)}return Ds()}function ql(t,e,n){var r=Bl(n),i=e.key.path.p().F();if(e instanceof tl){var o=function(t,e){return{name:vc(t,e.key),fields:e.fs().mapValue.fields,updateTime:cc(t,e.version.R())}}(t.ui,e),a=e.hasCommittedMutations;return new kh(null,null,o,a,r,i)}if(e instanceof el){var s=e.key.path.F(),u=Wl(e.version),c=e.hasCommittedMutations;return new kh(null,new Sh(s,u),null,c,r,i)}if(e instanceof nl){var l=e.key.path.F(),h=Wl(e.version);return new kh(new Ch(l,h),null,null,!0,r,i)}return Ds()}function Bl(t){var e=t.R();return[e.seconds,e.nanoseconds]}function zl(t){var e=new Ks(t[0],t[1]);return Xs.I(e)}function Wl(t){var e=t.R();return new wh(e.seconds,e.nanoseconds)}function Ql(t){var e=new Ks(t.seconds,t.nanoseconds);return Xs.I(e)}function Hl(t,e){var n=(e.baseMutations||[]).map((function(e){return xc(t.ui,e)})),r=e.mutations.map((function(e){return xc(t.ui,e)})),i=Ks.fromMillis(e.localWriteTimeMs);return new wl(e.batchId,i,n,r)}function Gl(t){var e,n=Ql(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Ql(t.lastLimboFreeSnapshotVersion):Xs.min();return e=void 0!==t.query.documents?function(t){Ms(1===t.documents.length);var e=t.documents[0];return rl.As(bc(e)).We()}(t.query):function(t){var e=bc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ms(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Ac(e)]:void 0!==e.fieldFilter?[Oc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ds():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return new dl(Pc((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return ru(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ic(n.startAt));var l=null;return n.endAt&&(l=Ic(n.endAt)),new rl(e,i,s,a,u,"F",c,l).We()}(t.query),new cu(e,t.targetId,0,t.lastListenSequenceNumber,n,r,au.fromBase64String(t.resumeToken))}function $l(t,e){var n,r=Wl(e.J),i=Wl(e.lastLimboFreeSnapshotVersion);n=bl(e.target)?Sc(t.ui,e.target):Cc(t.ui,e.target);var o=e.resumeToken.toBase64();return new Nh(e.targetId,gl(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function t(t,e){this.serializer=t,this.mn=e}return t.prototype.un=function(t,e,n){return Xl(t).put(Jl(e),n)},t.prototype.ln=function(t,e){var n=Xl(t),r=Jl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ci(t,r)}))},t.prototype._n=function(t,e){var n=this;return Xl(t).get(Jl(e)).next((function(t){return n.li(t)}))},t.prototype._i=function(t,e){var n=this;return Xl(t).get(Jl(e)).next((function(t){var e=n.li(t);return e?{fi:e,size:Zl(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=wu();return this.di(t,e,(function(t,e){var i=n.li(e);r=r.et(t,i)})).next((function(){return r}))},t.prototype.wi=function(t,e){var n=this,r=wu(),i=new pu(nu.P);return this.di(t,e,(function(t,e){var o=n.li(e);o?(r=r.et(t,o),i=i.et(t,Zl(e))):(r=r.et(t,null),i=i.et(t,0))})).next((function(){return{Ti:r,Ei:i}}))},t.prototype.di=function(t,e,n){if(e._())return El.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),o=i.dt();return Xl(t).Ii({range:r},(function(t,e,r){for(var a=nu.j(t);o&&nu.P(o,a)<0;)n(o,null),o=i.dt();o&&o.isEqual(a)&&(n(o,e),o=i.wt()?i.dt():null),o?r.Ai(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype.Sn=function(t,e,n){var r=this,i=Eu(),o=e.path.length+1,a={};if(n.isEqual(Xs.min())){var s=e.path.F();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.F(),c=Bl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=kh.collectionReadTimeIndex}return Xl(t).Ii(a,(function(t,n,a){if(t.length===o){var s=Vl(r.serializer,n);e.path.D(s.key.path)?s instanceof tl&&e.matches(s)&&(i=i.et(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Ri=function(t,e){var n=this,r=bu(),i=Bl(e),o=Xl(t),a=IDBKeyRange.lowerBound(i,!0);return o.Ii({index:kh.readTimeIndex,range:a},(function(t,e){var o=Vl(n.serializer,e);r=r.et(o.key,o),i=e.readTime})).next((function(){return{mi:r,readTime:zl(i)}}))},t.prototype.Pi=function(t){var e=Xl(t),n=Xs.min();return e.Ii({index:kh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=zl(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.Vi=function(e){return new t.gi(this,!!e&&e.pi)},t.prototype.yi=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Kl(t).get(Ih.key).next((function(t){return Ms(!!t),t}))},t.prototype.ci=function(t,e){return Kl(t).put(Ih.key,e)},t.prototype.li=function(t){if(t){var e=Vl(this.serializer,t);return e instanceof el&&e.version.isEqual(Xs.min())?null:e}return null},t}();function Kl(t){return sh.ai(t,Ih.store)}function Xl(t){return sh.ai(t,kh.store)}function Jl(t){return t.path.F()}function Zl(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ds();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yl.gi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bi=e,r.pi=n,r.vi=new Gs((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return o(e,t),e.prototype.wn=function(t){var e=this,n=[],r=0,i=new vu((function(t,e){return js(t.N(),e.N())}));return this.on.forEach((function(o,a){var s=e.vi.get(o);if(a){var u=ql(e.bi.serializer,a,e.readTime);i=i.add(o.path.p());var c=Zl(u);r+=c-s,n.push(e.bi.un(t,o,u))}else if(r-=s,e.pi){var l=ql(e.bi.serializer,new el(o,Xs.min()),e.readTime);n.push(e.bi.un(t,o,l))}else n.push(e.bi.ln(t,o))})),i.forEach((function(r){n.push(e.bi.mn.ri(t,r))})),n.push(this.bi.updateMetadata(t,r)),El.nn(n)},e.prototype.fn=function(t,e){var n=this;return this.bi._i(t,e).next((function(t){return null===t?(n.vi.set(e,0),null):(n.vi.set(e,t.size),t.fi)}))},e.prototype.dn=function(t,e){var n=this;return this.bi.wi(t,e).next((function(t){var e=t.Ti;return t.Ei.forEach((function(t,e){n.vi.set(t,e)})),e}))},e}(Tl);var th=function(){function t(t){this.Si=t}return t.prototype.next=function(){return this.Si+=2,this.Si},t.Di=function(){return new t(0)},t.Ci=function(){return new t(-1)},t}(),eh=function(){function t(t,e){this.Fi=t,this.serializer=e}return t.prototype.Ni=function(t){var e=this;return this.$i(t).next((function(n){var r=new th(n.highestTargetId);return n.highestTargetId=r.next(),e.ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.xi=function(t){return this.$i(t).next((function(t){return Xs.I(new Ks(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Mi=function(t){return this.$i(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Li=function(t,e,n){var r=this;return this.$i(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.R()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ki(t,i)}))},t.prototype.Oi=function(t,e){var n=this;return this.Bi(t,e).next((function(){return n.$i(t).next((function(r){return r.targetCount+=1,n.qi(e,r),n.ki(t,r)}))}))},t.prototype.Ui=function(t,e){return this.Bi(t,e)},t.prototype.Qi=function(t,e){var n=this;return this.Wi(t,e.targetId).next((function(){return nh(t).delete(e.targetId)})).next((function(){return n.$i(t)})).next((function(e){return Ms(e.targetCount>0),e.targetCount-=1,n.ki(t,e)}))},t.prototype.ji=function(t,e,n){var r=this,i=0,o=[];return nh(t).Ii((function(a,s){var u=Gl(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Qi(t,u)))})).next((function(){return El.nn(o)})).next((function(){return i}))},t.prototype.ye=function(t,e){return nh(t).Ii((function(t,n){var r=Gl(n);e(r)}))},t.prototype.$i=function(t){return rh(t).get(Oh.key).next((function(t){return Ms(null!==t),t}))},t.prototype.ki=function(t,e){return rh(t).put(Oh.key,e)},t.prototype.Bi=function(t,e){return nh(t).put($l(this.serializer,e))},t.prototype.qi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ki=function(t){return this.$i(t).next((function(t){return t.targetCount}))},t.prototype.Gi=function(t,e){var n=gl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nh(t).Ii({range:r,index:Nh.queryTargetsIndexName},(function(t,n,r){var o=Gl(n);ml(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.zi=function(t,e,n){var r=this,i=[],o=ih(t);return e.forEach((function(e){var a=Ol(e.path);i.push(o.put(new Ph(n,a))),i.push(r.Fi.Hi(t,n,e))})),El.nn(i)},t.prototype.Yi=function(t,e,n){var r=this,i=ih(t);return El.forEach(e,(function(e){var o=Ol(e.path);return El.nn([i.delete([n,o]),r.Fi.Ji(t,n,e)])}))},t.prototype.Wi=function(t,e){var n=ih(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Xi=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ih(t),i=Su();return r.Ii({range:n,Zi:!0},(function(t,e,n){var r=Dl(t[1]),o=new nu(r);i=i.add(o)})).next((function(){return i}))},t.prototype.tr=function(t,e){var n=Ol(e.path),r=IDBKeyRange.bound([n],[qs(n)],!1,!0),i=0;return ih(t).Ii({index:Ph.documentTargetsIndex,Zi:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return nh(t).get(e).next((function(t){return t?Gl(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return sh.ai(t,Nh.store)}function rh(t){return sh.ai(t,Oh.store)}function ih(t){return sh.ai(t,Ph.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).er=e,r.sr=n,r}return o(e,t),e}(Sl),sh=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Wn=o,this.window=a,this.document=s,this.nr=c,this.ir=l,this.rr=null,this.or=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hr=null,this.inForeground=!1,this.ar=null,this.ur=null,this.cr=Number.NEGATIVE_INFINITY,this.lr=function(t){return Promise.resolve()},!t._r())throw new Ys($s.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Fi=new lh(this,i),this.dr=n+t.wr,this.serializer=new jl(u),this.Tr=new eh(this.Fi,this.serializer),this.mn=new Fl,this.An=new Yl(this.serializer,this.mn),this.window&&this.window.localStorage?this.Er=this.window.localStorage:(this.Er=null,!1===l&&As("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.ai=function(t,e){if(t instanceof ah)return Lh.ai(t.er,e);throw Ds()},t.prototype.start=function(){var t=this;return Lh.Ir(this.dr,mh,new bh(this.serializer)).then((function(e){return t.Ar=e,t.Rr()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ys($s.FAILED_PRECONDITION,oh);return t.mr(),t.Pr(),t.Vr(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Tr.Mi(e)}))})).then((function(e){t.rr=new Il(e,t.nr)})).then((function(){t.or=!0})).catch((function(e){return t.Ar&&t.Ar.close(),Promise.reject(e)}))},t.prototype.gr=function(t){var e=this;return this.lr=function(n){return s(e,void 0,void 0,(function(){return u(this,(function(e){return this.pr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yr=function(t){var e=this;this.Ar.br((function(n){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.vr=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Wn.Sr((function(){return s(e,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.pr?[4,this.Rr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Rr=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ch(e).put(new Dh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Dr(e).next((function(e){e||(t.isPrimary=!1,t.Wn.Cr((function(){return t.lr(!1)})))}))})).next((function(){return t.Fr(e)})).next((function(n){return t.isPrimary&&!n?t.Nr(e).next((function(){return!1})):!!n&&t.$r(e).next((function(){return!0}))}))})).catch((function(e){if(jh(e))return Os("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Os("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Wn.Cr((function(){return t.lr(e)})),t.isPrimary=e}))},t.prototype.Dr=function(t){var e=this;return uh(t).get(_h.key).next((function(t){return El.resolve(e.kr(t))}))},t.prototype.xr=function(t){return ch(t).delete(this.clientId)},t.prototype.Mr=function(){return s(this,void 0,void 0,(function(){var e,n,r,i,o=this;return u(this,(function(a){switch(a.label){case 0:return!this.isPrimary||this.Lr(this.cr,18e5)?[3,2]:(this.cr=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.ai(e,Dh.store);return n.hi().next((function(t){var e=o.Or(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return El.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=a.sent(),this.Er)for(n=0,r=e;n<r.length;n++)i=r[n],this.Er.removeItem(this.Br(i.clientId));a.label=2;case 2:return[2]}}))}))},t.prototype.Vr=function(){var t=this;this.ur=this.Wn.ei("client_metadata_refresh",4e3,(function(){return t.Rr().then((function(){return t.Mr()})).then((function(){return t.Vr()}))}))},t.prototype.kr=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Fr=function(t){var e=this;return this.ir?El.resolve(!0):uh(t).get(_h.key).next((function(n){if(null!==n&&e.Lr(n.leaseTimestampMs,5e3)&&!e.qr(n.ownerId)){if(e.kr(n)&&e.networkEnabled)return!0;if(!e.kr(n)){if(!n.allowTabSynchronization)throw new Ys($s.FAILED_PRECONDITION,oh);return!1}}return!(!e.networkEnabled||!e.inForeground)||ch(t).hi().next((function(t){return void 0===e.Or(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Os("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ur=function(){return s(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){switch(e.label){case 0:return this.or=!1,this.Qr(),this.ur&&(this.ur.cancel(),this.ur=null),this.Wr(),this.jr(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.Nr(e).next((function(){return t.xr(e)}))})).catch((function(t){Os("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Ar.close(),this.Kr(),[2]}}))}))},t.prototype.Or=function(t,e){var n=this;return t.filter((function(t){return n.Lr(t.updateTimeMs,e)&&!n.qr(t.clientId)}))},t.prototype.Gr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ch(e).hi().next((function(e){return t.Or(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return t._r()?(n=e+t.wr,[4,Lh.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),t.prototype.zr=function(t){return fh.Hr(t,this.serializer,this.mn,this.Fi)},t.prototype.Yr=function(){return this.Tr},t.prototype.Jr=function(){return this.An},t.prototype.Xr=function(){return this.mn},t.prototype.runTransaction=function(t,e,n){var r=this;Os("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Ar.runTransaction(o,Mh,(function(o){return i=new ah(o,r.rr?r.rr.next():Il.Qn),"readwrite-primary"===e?r.Dr(i).next((function(t){return!!t||r.Fr(i)})).next((function(e){if(!e)throw As("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Wn.Cr((function(){return r.lr(!1)})),new Ys($s.FAILED_PRECONDITION,xl);return n(i)})).next((function(t){return r.$r(i).next((function(){return t}))})):r.Zr(i).next((function(){return n(i)}))})).then((function(t){return i.In(),t}))},t.prototype.Zr=function(t){var e=this;return uh(t).get(_h.key).next((function(t){if(null!==t&&e.Lr(t.leaseTimestampMs,5e3)&&!e.qr(t.ownerId)&&!e.kr(t)&&!(e.ir||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ys($s.FAILED_PRECONDITION,oh)}))},t.prototype.$r=function(t){var e=new _h(this.clientId,this.allowTabSynchronization,Date.now());return uh(t).put(_h.key,e)},t._r=function(){return Lh._r()},t.to=function(t){var e=t.s.projectId;return t.s.i||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Nr=function(t){var e=this,n=uh(t);return n.get(_h.key).next((function(t){return e.kr(t)?(Os("IndexedDbPersistence","Releasing primary lease."),n.delete(_h.key)):El.resolve()}))},t.prototype.Lr=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(As("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ar=function(){t.Wn.Sr((function(){return t.inForeground="visible"===t.document.visibilityState,t.Rr()}))},this.document.addEventListener("visibilitychange",this.ar),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Wr=function(){this.ar&&(this.document.removeEventListener("visibilitychange",this.ar),this.ar=null)},t.prototype.Pr=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.hr=function(){e.Qr(),e.Wn.Sr((function(){return e.Ur()}))},this.window.addEventListener("unload",this.hr))},t.prototype.jr=function(){this.hr&&(this.window.removeEventListener("unload",this.hr),this.hr=null)},t.prototype.qr=function(t){var e;try{var n=null!==(null===(e=this.Er)||void 0===e?void 0:e.getItem(this.Br(t)));return Os("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return As("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Qr=function(){if(this.Er)try{this.Er.setItem(this.Br(this.clientId),String(Date.now()))}catch(t){As("Failed to set zombie client id.",t)}},t.prototype.Kr=function(){if(this.Er)try{this.Er.removeItem(this.Br(this.clientId))}catch(t){}},t.prototype.Br=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function uh(t){return sh.ai(t,_h.store)}function ch(t){return sh.ai(t,Dh.store)}sh.wr="main";var lh=function(){function t(t,e){this.db=t,this.eo=new tf(this,e)}return t.prototype.so=function(t){var e=this.no(t);return this.db.Yr().Ki(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.no=function(t){var e=0;return this.io(t,(function(t){e++})).next((function(){return e}))},t.prototype.ye=function(t,e){return this.db.Yr().ye(t,e)},t.prototype.io=function(t,e){return this.ro(t,(function(t,n){return e(n)}))},t.prototype.Hi=function(t,e,n){return hh(t,n)},t.prototype.Ji=function(t,e,n){return hh(t,n)},t.prototype.ji=function(t,e,n){return this.db.Yr().ji(t,e,n)},t.prototype.oo=function(t,e){return hh(t,e)},t.prototype.ho=function(t,e){return function(t,e){var n=!1;return gh(t).ao((function(r){return ph(t,r,e).next((function(t){return t&&(n=!0),El.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.uo=function(t,e){var n=this,r=this.db.Jr().Vi(),i=[],o=0;return this.ro(t,(function(a,s){if(s<=e){var u=n.ho(t,a).next((function(e){if(!e)return o++,r._n(t,a).next((function(){return r.ln(a),ih(t).delete([0,Ol(a.path)])}))}));i.push(u)}})).next((function(){return El.nn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.X(t.sr);return this.db.Yr().Ui(t,n)},t.prototype.co=function(t,e){return hh(t,e)},t.prototype.ro=function(t,e){var n,r=ih(t),i=Il.Qn;return r.Ii({index:Ph.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Il.Qn&&e(new nu(Dl(n)),i),i=s,n=a):i=Il.Qn})).next((function(){i!==Il.Qn&&e(new nu(Dl(n)),i)}))},t.prototype.lo=function(t){return this.db.Jr().yi(t)},t}();function hh(t,e){return ih(t).put(function(t,e){return new Ph(0,Ol(t.path),e)}(e,t.sr))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fh=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.mn=n,this.Fi=r,this._o={}}return t.Hr=function(e,n,r,i){return Ms(""!==e.uid),new t(e.fo()?e.uid:"",n,r,i)},t.prototype.do=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yh(t).Ii({index:Th.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.wo=function(t,e,n,r){var i=this,o=vh(t),a=yh(t);return a.add({}).next((function(s){Ms("number"==typeof s);for(var u=new wl(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Tc(t.ui,e)})),i=n.mutations.map((function(e){return Tc(t.ui,e)}));return new Th(e,n.batchId,n.Ws.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new vu((function(t,e){return js(t.N(),e.N())})),f=0,p=r;f<p.length;f++){var d=p[f],y=xh.key(i.userId,d.key.path,s);h=h.add(d.key.path.p()),l.push(a.put(c)),l.push(o.put(y,xh.PLACEHOLDER))}return h.forEach((function(e){l.push(i.mn.ri(t,e))})),t.En((function(){i._o[s]=u.keys()})),El.nn(l).next((function(){return u}))}))},t.prototype.To=function(t,e){var n=this;return yh(t).get(e).next((function(t){return t?(Ms(t.userId===n.userId),Hl(n.serializer,t)):null}))},t.prototype.Eo=function(t,e){var n=this;return this._o[e]?El.resolve(this._o[e]):this.To(t,e).next((function(t){if(t){var r=t.keys();return n._o[e]=r,r}return null}))},t.prototype.Io=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yh(t).Ii({index:Th.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ms(e.batchId>=r),o=Hl(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Ao=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yh(t).Ii({index:Th.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Ro=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yh(t).hi(Th.userMutationsIndex,n).next((function(t){return t.map((function(t){return Hl(e.serializer,t)}))}))},t.prototype.Vn=function(t,e){var n=this,r=xh.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vh(t).Ii({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Dl(u);if(s===n.userId&&e.path.isEqual(l))return yh(t).get(c).next((function(t){if(!t)throw Ds();Ms(t.userId===n.userId),o.push(Hl(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.vn=function(t,e){var n=this,r=new vu(js),i=[];return e.forEach((function(e){var o=xh.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=vh(t).Ii({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Dl(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),El.nn(i).next((function(){return n.mo(t,r)}))},t.prototype.$n=function(t,e){var n=this,r=e.path,i=r.length+1,o=xh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new vu(js);return vh(t).Ii({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Dl(u);a===n.userId&&r.D(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.mo(t,s)}))},t.prototype.mo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(yh(t).get(e).next((function(t){if(null===t)throw Ds();Ms(t.userId===n.userId),r.push(Hl(n.serializer,t))})))})),El.nn(i).next((function(){return r}))},t.prototype.Po=function(t,e){var n=this;return dh(t.er,this.userId,e).next((function(r){return t.En((function(){n.Vo(e.batchId)})),El.forEach(r,(function(e){return n.Fi.oo(t,e)}))}))},t.prototype.Vo=function(t){delete this._o[t]},t.prototype.po=function(t){var e=this;return this.do(t).next((function(n){if(!n)return El.resolve();var r=IDBKeyRange.lowerBound(xh.prefixForUser(e.userId)),i=[];return vh(t).Ii({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Dl(t[1]);i.push(o)}else r.done()})).next((function(){Ms(0===i.length)}))}))},t.prototype.tr=function(t,e){return ph(t,this.userId,e)},t.prototype.yo=function(t){var e=this;return gh(t).get(this.userId).next((function(t){return t||new Eh(e.userId,-1,"")}))},t}();function ph(t,e,n){var r=xh.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return vh(t).Ii({range:o,Zi:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function dh(t,e,n){var r=t.store(Th.store),i=t.store(xh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ii({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Ms(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=xh.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return El.nn(o).next((function(){return c}))}function yh(t){return sh.ai(t,Th.store)}function vh(t){return sh.ai(t,xh.store)}function gh(t){return sh.ai(t,Eh.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=10,bh=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ms(n<r&&n>=0&&r<=mh);var o=new Vh(e);n<1&&r>=1&&(function(t){t.createObjectStore(_h.store)}(t),function(t){t.createObjectStore(Eh.store,{keyPath:Eh.keyPath}),t.createObjectStore(Th.store,{keyPath:Th.keyPath,autoIncrement:!0}).createIndex(Th.userMutationsIndex,Th.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xh.store)}(t),Rh(t),function(t){t.createObjectStore(kh.store)}(t));var a=El.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ph.store),t.deleteObjectStore(Nh.store),t.deleteObjectStore(Oh.store)}(t),Rh(t)),a=a.next((function(){return function(t){var e=t.store(Oh.store),n=new Oh(0,0,Xs.min().R(),0);return e.put(Oh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Th.store).hi().next((function(n){t.deleteObjectStore(Th.store),t.createObjectStore(Th.store,{keyPath:Th.keyPath,autoIncrement:!0}).createIndex(Th.userMutationsIndex,Th.userMutationsKeyPath,{unique:!0});var r=e.store(Th.store),i=n.map((function(t){return r.put(t)}));return El.nn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Dh.store,{keyPath:Dh.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Ih.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(kh.store);e.createIndex(kh.readTimeIndex,kh.readTimeIndexPath,{unique:!1}),e.createIndex(kh.collectionReadTimeIndex,kh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(kh.store).Ii((function(t,n){e+=Zl(n)})).next((function(){var n=new Ih(e);return t.store(Ih.store).put(Ih.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Eh.store),r=t.store(Th.store);return n.hi().next((function(n){return El.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.hi(Th.userMutationsIndex,i).next((function(r){return El.forEach(r,(function(r){Ms(r.userId===n.userId);var i=Hl(e.serializer,r);return dh(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ph.store),n=t.store(kh.store);return t.store(Oh.store).get(Oh.key).next((function(t){var r=[];return n.Ii((function(n,i){var o=new Zs(n),a=function(t){return[0,Ol(t)]}(o);r.push(e.get(a).next((function(n){return n?El.resolve():function(n){return e.put(new Ph(0,Ol(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return El.nn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ah.store,{keyPath:Ah.keyPath});var n=e.store(Ah.store),r=new Ll,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:Ol(i)})}};return e.store(kh.store).Ii({Zi:!0},(function(t,e){var n=new Zs(t);return i(n.p())})).next((function(){return e.store(xh.store).Ii({Zi:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Dl(n));return i(r.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Nh.store);return n.Ii((function(t,r){var i=Gl(r),o=$l(e.serializer,i);return n.put(o)}))},t}(),wh=function(t,e){this.seconds=t,this.nanoseconds=e},_h=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_h.store="owner",_h.key="owner";var Eh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Eh.store="mutationQueues",Eh.keyPath="userId";var Th=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Th.store="mutations",Th.keyPath="batchId",Th.userMutationsIndex="userMutationsIndex",Th.userMutationsKeyPath=["userId","batchId"];var xh=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ol(e)]},t.key=function(t,e,n){return[t,Ol(e),n]},t}();xh.store="documentMutations",xh.PLACEHOLDER=new xh;var Sh=function(t,e){this.path=t,this.readTime=e},Ch=function(t,e){this.path=t,this.version=e},kh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};kh.store="remoteDocuments",kh.readTimeIndex="readTimeIndex",kh.readTimeIndexPath="readTime",kh.collectionReadTimeIndex="collectionReadTimeIndex",kh.collectionReadTimeIndexPath=["parentPath","readTime"];var Ih=function(t){this.byteSize=t};Ih.store="remoteDocumentGlobal",Ih.key="remoteDocumentGlobalKey";var Nh=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Nh.store="targets",Nh.keyPath="targetId",Nh.queryTargetsIndexName="queryTargetsIndex",Nh.queryTargetsKeyPath=["canonicalId","targetId"];var Ph=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ph.store="targetDocuments",Ph.keyPath=["targetId","path"],Ph.documentTargetsIndex="documentTargetsIndex",Ph.documentTargetsKeyPath=["path","targetId"];var Oh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Oh.key="targetGlobalKey",Oh.store="targetGlobal";var Ah=function(t,e){this.collectionId=t,this.parent=e};function Rh(t){t.createObjectStore(Ph.store,{keyPath:Ph.keyPath}).createIndex(Ph.documentTargetsIndex,Ph.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nh.store,{keyPath:Nh.keyPath}).createIndex(Nh.queryTargetsIndexName,Nh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Oh.store)}Ah.store="collectionParents",Ah.keyPath=["collectionId","parent"];var Dh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Dh.store="clientMetadata",Dh.keyPath="clientId";var Mh=f(f(f([Eh.store,Th.store,xh.store,kh.store,Nh.store,_h.store,Oh.store,Ph.store],[Dh.store]),[Ih.store]),[Ah.store]),Lh=function(){function t(e){this.db=e,12.2===t.bo(T())&&As("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Ir=function(e,n,r){return Os("SimpleDb","Opening database:",e),new El((function(i,o){var a=indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onblocked=function(){o(new Ys($s.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new Ys($s.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(t){Os("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,a.transaction,t.oldVersion,mh).next((function(){Os("SimpleDb","Database upgrade to version "+mh+" complete")}))}})).en()},t.delete=function(t){return Os("SimpleDb","Removing database:",t),Bh(window.indexedDB.deleteDatabase(t)).en()},t._r=function(){if("undefined"==typeof indexedDB)return!1;if(t.vo())return!0;var e=T(),n=t.bo(e),r=0<n&&n<10,i=t.So(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.vo=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.Do)},t.ai=function(t,e){return t.store(e)},t.bo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.So=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.br=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a,s;return u(this,(function(c){switch(c.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,s,c,l;return u(this,(function(u){switch(u.label){case 0:++i,t=Vh.open(a.db,r?"readonly":"readwrite",e),u.label=1;case 1:return u.trys.push([1,3,,4]),o=n(t).catch((function(e){return t.abort(e),El.reject(e)})).en(),s={},o.catch((function(){})),[4,t.Co];case 2:return[2,(s.value=(u.sent(),o),s)];case 3:return c=u.sent(),l="FirebaseError"!==c.name&&i<3,Os("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,l),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Fh=function(){function t(t){this.Fo=t,this.No=!1,this.$o=null}return Object.defineProperty(t.prototype,"Js",{get:function(){return this.No},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ko",{get:function(){return this.$o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Fo=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.No=!0},t.prototype.Ai=function(t){this.$o=t},t.prototype.delete=function(){return Bh(this.Fo.delete())},t}(),Uh=function(t){function e(e){var n=this;return(n=t.call(this,$s.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return o(e,t),e}(Ys);function jh(t){return"IndexedDbTransactionError"===t.name}var Vh=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.xo=new Nl,this.transaction.oncomplete=function(){e.xo.resolve()},this.transaction.onabort=function(){t.error?e.xo.reject(new Uh(t.error)):e.xo.resolve()},this.transaction.onerror=function(t){var n=Wh(t.target.error);e.xo.reject(new Uh(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"Co",{get:function(){return this.xo.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.xo.reject(t),this.aborted||(Os("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new qh(e)},t}(),qh=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Os("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Os("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Bh(n)},t.prototype.add=function(t){return Os("SimpleDb","ADD",this.store.name,t,t),Bh(this.store.add(t))},t.prototype.get=function(t){var e=this;return Bh(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Os("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Os("SimpleDb","DELETE",this.store.name,t),Bh(this.store.delete(t))},t.prototype.count=function(){return Os("SimpleDb","COUNT",this.store.name),Bh(this.store.count())},t.prototype.hi=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mo(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lo=function(t,e){Os("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Zi=!1;var r=this.cursor(n);return this.Mo(r,(function(t,e,n){return n.delete()}))},t.prototype.Ii=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mo(r,e)},t.prototype.ao=function(t){var e=this.cursor({});return new El((function(n,r){e.onerror=function(t){var e=Wh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mo=function(t,e){var n=[];return new El((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Fh(i),a=e(i.primaryKey,i.value,o);if(a instanceof El){var s=a.catch((function(t){return o.done(),El.reject(t)}));n.push(s)}o.Js?r():null===o.ko?i.continue():i.continue(o.ko)}else r()}})).next((function(){return El.nn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Zi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Bh(t){return new El((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Wh(t.target.error);n(e)}}))}var zh=!1;function Wh(t){var e=Lh.bo(T());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ys("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zh||(zh=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){return"undefined"!=typeof window?window:null}var Hh=function(){function t(t,e,n,r,i){this.Oo=t,this.jn=e,this.Bo=n,this.op=r,this.qo=i,this.Uo=new Nl,this.then=this.Uo.promise.then.bind(this.Uo.promise),this.Uo.promise.catch((function(t){}))}return t.Qo=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Wo=setTimeout((function(){return e.jo()}),t)},t.prototype.ni=function(){return this.jo()},t.prototype.cancel=function(t){null!==this.Wo&&(this.clearTimeout(),this.Uo.reject(new Ys($s.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.jo=function(){var t=this;this.Oo.Sr((function(){return null!==t.Wo?(t.clearTimeout(),t.op().then((function(e){return t.Uo.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Wo&&(this.qo(this),clearTimeout(this.Wo),this.Wo=null)},t}(),Gh=function(){function t(){var t=this;this.Ko=Promise.resolve(),this.Go=Promise.resolve(),this.zo=!1,this.Ho=[],this.Yo=null,this.Jo=!1,this.Xo=[],this.Zo=new Pl(this,"async_queue_retry"),this.th=function(){return t.Zo.si()};var e=Qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.th)}return Object.defineProperty(t.prototype,"eh",{get:function(){return this.zo},enumerable:!0,configurable:!0}),t.prototype.Sr=function(t){this.enqueue(t)},t.prototype.sh=function(t){this.nh(),this.ih(t)},t.prototype.rh=function(t){return this.nh(),this.ih(t)},t.prototype.oh=function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return this.nh(),this.zo?[3,2]:(this.zo=!0,(e=Qh())&&e.removeEventListener("visibilitychange",this.th),[4,this.rh(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.nh(),this.zo?new Promise((function(t){})):this.ih(t)},t.prototype.Cr=function(t){var e=this;this.nh(),this.zo||(this.Go=this.Go.then((function(){var n=new Nl,r=function(){return s(e,void 0,void 0,(function(){var e;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.Zo.reset(),[3,3];case 2:if(!jh(e=i.sent()))throw n.resolve(),e;return Os("AsyncQueue","Operation failed with retryable error: "+e),this.Zo.Zn(r),[3,3];case 3:return[2]}}))}))};return e.Sr(r),n.promise})))},t.prototype.ih=function(t){var e=this,n=this.Ko.then((function(){return e.Jo=!0,t().catch((function(t){throw e.Yo=t,e.Jo=!1,As("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Jo=!1,t}))}));return this.Ko=n,n},t.prototype.ei=function(t,e,n){var r=this;this.nh(),this.Xo.indexOf(t)>-1&&(e=0);var i=Hh.Qo(this,t,e,n,(function(t){return r.hh(t)}));return this.Ho.push(i),i},t.prototype.nh=function(){this.Yo&&Ds()},t.prototype.ah=function(){},t.prototype.uh=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return[4,t=this.Ko];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ko)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.lh=function(t){for(var e=0,n=this.Ho;e<n.length;e++)if(n[e].jn===t)return!0;return!1},t.prototype._h=function(t){var e=this;return this.uh().then((function(){e.Ho.sort((function(t,e){return t.Bo-e.Bo}));for(var n=0,r=e.Ho;n<r.length;n++){var i=r[n];if(i.ni(),"all"!==t&&i.jn===t)break}return e.uh()}))},t.prototype.fh=function(t){this.Xo.push(t)},t.prototype.hh=function(t){var e=this.Ho.indexOf(t);this.Ho.splice(e,1)},t}();function $h(t,e){if(As("AsyncQueue",e+": "+t),jh(t))return new Ys($s.UNAVAILABLE,e+": "+t);throw t}function Yh(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=js(n,i);return 0===a?js(r,o):a}var Kh=function(){function t(t){this.dh=t,this.buffer=new vu(Yh),this.wh=0}return t.prototype.Th=function(){return++this.wh},t.prototype.Eh=function(t){var e=[t,this.Th()];if(this.buffer.size<this.dh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Yh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Xh={Ih:!1,Ah:0,Rh:0,mh:0},Jh=function(){function t(t,e,n){this.Ph=t,this.Vh=e,this.gh=n}return t.ph=function(e){return new t(e,t.yh,t.bh)},t}();Jh.vh=-1,Jh.Sh=1048576,Jh.Dh=41943040,Jh.yh=10,Jh.bh=1e3,Jh.Ch=new Jh(Jh.Dh,Jh.yh,Jh.bh),Jh.DISABLED=new Jh(Jh.vh,0,0);var Zh=function(){function t(t,e){this.eo=t,this.Oo=e,this.Fh=!1,this.Nh=null}return t.prototype.start=function(t){this.eo.$h.Ph!==Jh.vh&&this.kh(t)},t.prototype.stop=function(){this.Nh&&(this.Nh.cancel(),this.Nh=null)},Object.defineProperty(t.prototype,"pr",{get:function(){return null!==this.Nh},enumerable:!0,configurable:!0}),t.prototype.kh=function(t){var e=this,n=this.Fh?3e5:6e4;Os("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Nh=this.Oo.ei("lru_garbage_collection",n,(function(){return s(e,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:this.Nh=null,this.Fh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.xh(this.eo)];case 2:return n.sent(),[3,7];case 3:return jh(e=n.sent())?(Os("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.kh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),tf=function(){function t(t,e){this.Mh=t,this.$h=e}return t.prototype.Lh=function(t,e){return this.Mh.so(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Oh=function(t,e){var n=this;if(0===e)return El.resolve(Il.Qn);var r=new Kh(e);return this.Mh.ye(t,(function(t){return r.Eh(t.sequenceNumber)})).next((function(){return n.Mh.io(t,(function(t){return r.Eh(t)}))})).next((function(){return r.maxValue}))},t.prototype.ji=function(t,e,n){return this.Mh.ji(t,e,n)},t.prototype.uo=function(t,e){return this.Mh.uo(t,e)},t.prototype.Bh=function(t,e){var n=this;return this.$h.Ph===Jh.vh?(Os("LruGarbageCollector","Garbage collection skipped; disabled"),El.resolve(Xh)):this.lo(t).next((function(r){return r<n.$h.Ph?(Os("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.$h.Ph),Xh):n.qh(t,e)}))},t.prototype.lo=function(t){return this.Mh.lo(t)},t.prototype.qh=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Lh(t,this.$h.Vh).next((function(e){return e>c.$h.gh?(Os("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.$h.gh+" from "+e),r=c.$h.gh):r=e,o=Date.now(),c.Oh(t,r)})).next((function(r){return n=r,a=Date.now(),c.ji(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.uo(t,n)})).next((function(t){return u=Date.now(),Ps()<=Z.DEBUG&&Os("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),El.resolve({Ih:!0,Ah:r,Rh:i,mh:t})}))},t}(),ef=function(){function t(t,e,n){this.persistence=t,this.Uh=e,this.Qh=new pu(js),this.Wh=new Gs((function(t){return gl(t)}),ml),this.jh=Xs.min(),this.Rn=t.zr(n),this.Kh=t.Jr(),this.Tr=t.Yr(),this.Gh=new Cl(this.Kh,this.Rn,this.persistence.Xr()),this.Uh.zh(this.Gh)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Hh=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return e=this.Rn,n=this.Gh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.Rn.Ro(r).next((function(a){return o=a,e=i.persistence.zr(t),n=new Cl(i.Kh,e,i.persistence.Xr()),e.Ro(r)})).next((function(t){for(var e=[],i=[],a=Su(),s=0,u=o;s<u.length;s++){var c=u[s];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var y=d[p];i.push(y.batchId);for(var v=0,g=y.mutations;v<g.length;v++){var m=g[v];a=a.add(m.key)}}return n.yn(r,a).next((function(t){return{Yh:t,Jh:e,Xh:i}}))}))}))];case 1:return r=o.sent(),[2,(this.Rn=e,this.Gh=n,this.Uh.zh(this.Gh),r)]}}))}))},t.prototype.Zh=function(t){var e,n=this,r=Ks.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Su());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Gh.yn(o,i).next((function(i){e=i;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=c.Ze(e.get(c.key));null!=l&&a.push(new Hc(c.key,l,Jc(l.proto.mapValue),zc.exists(!0)))}return n.Rn.wo(o,r,a,t)}))})).then((function(t){var n=t.Ks(e);return{batchId:t.batchId,on:n}}))},t.prototype.ta=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Kh.Vi({pi:!0});return e.ea(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Rn.po(n)})).next((function(){return e.Gh.yn(n,r)}))}))},t.prototype.sa=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Rn.To(n,t).next((function(t){return Ms(null!==t),r=t.keys(),e.Rn.Po(n,t)})).next((function(){return e.Rn.po(n)})).next((function(){return e.Gh.yn(n,r)}))}))},t.prototype.Ao=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Rn.Ao(e)}))},t.prototype.xi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Tr.xi(e)}))},t.prototype.na=function(e){var n=this,r=e.J,i=this.Qh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=n.Kh.Vi({pi:!0});i=n.Qh;var s=[];e.Qt.forEach((function(e,a){var u=i.get(a);if(u){s.push(n.Tr.Yi(o,e.Xt,a).next((function(){return n.Tr.zi(o,e.Yt,a)})));var c=e.resumeToken;if(c.G()>0){var l=u.Z(c,r).X(o.sr);i=i.et(a,l),t.ia(u,l,e)&&s.push(n.Tr.Ui(o,l))}}}));var u=bu(),c=Su();if(e.jt.forEach((function(t,e){c=c.add(t)})),s.push(a.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var l=t.get(i);c instanceof el&&c.version.isEqual(Xs.min())?(a.ln(i,r),u=u.et(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(a.un(c,r),u=u.et(i,c)):Os("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.Kt.has(i)&&s.push(n.persistence.Fi.co(o,i))}))}))),!r.isEqual(Xs.min())){var l=n.Tr.xi(o).next((function(t){return n.Tr.Li(o,o.sr,r)}));s.push(l)}return El.nn(s).next((function(){return a.apply(o)})).next((function(){return n.Gh.bn(o,u)}))})).then((function(t){return n.Qh=i,t}))},t.ia=function(t,e,n){return Ms(e.resumeToken.G()>0),0===t.resumeToken.G()||e.J.A()-t.J.A()>=this.ra||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.oa=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c,l=this;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return El.forEach(t,(function(t){return El.forEach(t.xn,(function(n){return l.persistence.Fi.Hi(e,t.targetId,n)})).next((function(){return El.forEach(t.Mn,(function(n){return l.persistence.Fi.Ji(e,t.targetId,n)}))}))}))}))];case 1:return u.sent(),[3,3];case 2:if(!jh(e=u.sent()))throw e;return Os("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(a=this.Qh.get(o),s=a.J,c=a.tt(s),this.Qh=this.Qh.et(o,c));return[2]}}))}))},t.prototype.ha=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Rn.Io(n,t)}))},t.prototype.aa=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Gh.Pn(n,t)}))},t.prototype.ua=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Tr.Gi(n,t).next((function(i){return i?(r=i,El.resolve(r)):e.Tr.Ni(n).next((function(i){return r=new cu(t,i,0,n.sr),e.Tr.Oi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Qh.get(n.targetId);return(null===r||n.J.o(r.J)>0)&&(e.Qh=e.Qh.et(n.targetId,n),e.Wh.set(t,n.targetId)),n}))},t.prototype.Gi=function(t,e){var n=this.Wh.get(e);return void 0!==n?El.resolve(this.Qh.get(n)):this.Tr.Gi(t,e)},t.prototype.ca=function(t,e){var n=this,r=this.Qh.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(t){return e?El.resolve():n.persistence.Fi.removeTarget(t,r)})).then((function(){n.Qh=n.Qh.remove(t),n.Wh.delete(r.target)}))},t.prototype.la=function(t,e){var n=this,r=Xs.min(),i=Su();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Gi(o,t.We()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Tr.Xi(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Uh.Sn(o,t,e?r:Xs.min(),e?i:Su())})).next((function(t){return{documents:t,_a:i}}))}))},t.prototype.ea=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=El.resolve();return o.forEach((function(r){a=a.next((function(){return n._n(t,r)})).next((function(t){var o=t,a=e.zs.get(r);Ms(null!==a),(!o||o.version.o(a)<0)&&(o=i.Ke(r,o,e))&&n.un(o,e.Gs)}))})),a.next((function(){return r.Rn.Po(t,i)}))},t.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Bh(n,e.Qh)}))},t}();ef.ra=3e8;var nf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.Rn=e.zr(r),i.Kh=e.Jr(),i.Tr=e.Yr(),i}return o(e,t),e.prototype.start=function(){return this.fa()},e.prototype.da=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Rn.Eo(n,t).next((function(t){return t?e.Gh.yn(n,t):El.resolve(null)}))}))},e.prototype.wa=function(t){this.Rn.Vo(t)},e.prototype.vr=function(t){this.persistence.vr(t)},e.prototype.Gr=function(){return this.persistence.Gr()},e.prototype.Ta=function(t){var e=this,n=this.Qh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Tr.Me(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Ri=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Kh.Ri(e,t.jh)})).then((function(e){var n=e.mi,r=e.readTime;return t.jh=r,n}))},e.prototype.fa=function(){return s(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Kh.Pi(t)}))];case 1:return t.jh=n.sent(),[2]}}))}))},e}(ef);function rf(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){if(t.code!==$s.FAILED_PRECONDITION||t.message!==xl)throw t;return Os("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var of=function(){function t(){this.Ea=new vu(af.Ia),this.Aa=new vu(af.Ra)}return t.prototype._=function(){return this.Ea._()},t.prototype.Hi=function(t,e){var n=new af(t,e);this.Ea=this.Ea.add(n),this.Aa=this.Aa.add(n)},t.prototype.ma=function(t,e){var n=this;t.forEach((function(t){return n.Hi(t,e)}))},t.prototype.Ji=function(t,e){this.Pa(new af(t,e))},t.prototype.Va=function(t,e){var n=this;t.forEach((function(t){return n.Ji(t,e)}))},t.prototype.ga=function(t){var e=this,n=nu.EMPTY,r=new af(n,t),i=new af(n,t+1),o=[];return this.Aa.vt([r,i],(function(t){e.Pa(t),o.push(t.key)})),o},t.prototype.pa=function(){var t=this;this.Ea.forEach((function(e){return t.Pa(e)}))},t.prototype.Pa=function(t){this.Ea=this.Ea.delete(t),this.Aa=this.Aa.delete(t)},t.prototype.ya=function(t){var e=nu.EMPTY,n=new af(e,t),r=new af(e,t+1),i=Su();return this.Aa.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.tr=function(t){var e=new af(t,0),n=this.Ea.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),af=function(){function t(t,e){this.key=t,this.ba=e}return t.Ia=function(t,e){return nu.P(t.key,e.key)||js(t.ba,e.ba)},t.Ra=function(t,e){return js(t.ba,e.ba)||nu.P(t.key,e.key)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e){if(0!==e.length)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Sf(e.length,"argument")+".")}function uf(t,e,n){if(e.length!==n)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires "+Sf(n,"argument")+", but was called with "+Sf(e.length,"argument")+".")}function cf(t,e,n){if(e.length<n)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Sf(n,"argument")+", but was called with "+Sf(e.length,"argument")+".")}function lf(t,e,n,r){if(e.length<n||e.length>r)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Sf(e.length,"argument")+".")}function hf(t,e,n,r){gf(t,e,xf(n)+" argument",r)}function ff(t,e,n,r){void 0!==r&&hf(t,e,n,r)}function pf(t,e,n,r){gf(t,e,n+" option",r)}function df(t,e,n,r){void 0!==r&&pf(t,e,n,r)}function yf(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(bf(u))}var c=bf(r);throw new Ys($s.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function vf(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Ys($s.INVALID_ARGUMENT,"Invalid value "+bf(r)+" provided to function "+t+"() for its "+xf(n)+" argument. Acceptable values: "+e.join(", "));return r}function gf(t,e,n,r){if(!("object"===e?mf(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=bf(r);throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function mf(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function bf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ds()}function wf(t,e,n){if(void 0===n)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+xf(e)+" argument, but it was undefined.")}function _f(t,e,n){Qs(e,(function(e,r){if(n.indexOf(e)<0)throw new Ys($s.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Ef(t,e,n,r){var i=bf(r);return new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires its "+xf(n)+" argument to be a "+e+", but it was: "+i)}function Tf(t,e,n){if(n<=0)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires its "+xf(e)+" argument to be a positive number, but it was: "+n+".")}function xf(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Sf(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(){if("undefined"==typeof Uint8Array)throw new Ys($s.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kf(){if("undefined"==typeof atob)throw new Ys($s.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var If=function(){function t(t){kf(),this.va=t}return t.fromBase64String=function(e){uf("Blob.fromBase64String",arguments,1),hf("Blob.fromBase64String","string",1,e),kf();try{return new t(au.fromBase64String(e))}catch(e){throw new Ys($s.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(uf("Blob.fromUint8Array",arguments,1),Cf(),!(e instanceof Uint8Array))throw Ef("Blob.fromUint8Array","Uint8Array",1,e);return new t(au.fromUint8Array(e))},t.prototype.toBase64=function(){return uf("Blob.toBase64",arguments,0),kf(),this.va.toBase64()},t.prototype.toUint8Array=function(){return uf("Blob.toUint8Array",arguments,0),Cf(),this.va.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.va.isEqual(t.va)},t}(),Nf=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new Ys($s.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Sf(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(hf("FieldPath","string",e,t[e]),0===t[e].length)throw new Ys($s.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Sa=new eu(t)},Pf=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return o(e,t),e.documentId=function(){return e.Da},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Ef("isEqual","FieldPath",1,t);return this.Sa.isEqual(t.Sa)},e}(Nf);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pf.Da=new Pf(eu.O().N());var Of=new RegExp("[~\\*/\\[\\]]"),Af=function(){this.Ca=this},Rf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return o(e,t),e.prototype.Na=function(t){if(2!==t.$a)throw 1===t.$a?t.ka(this.Fa+"() can only appear at the top level of your update data"):t.ka(this.Fa+"() cannot be used with set() unless you pass {merge:true}");return t.Oe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Af),Df=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return o(e,t),e.prototype.Na=function(t){return new qc(t.path,Mc.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Af),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Fa=e,r.xa=n,r}return o(e,t),e.prototype.Na=function(t){var e=new Gf({$a:3,methodName:this.Fa,Ma:!0},t.s,t.serializer,t.ignoreUndefinedProperties),n=this.xa.map((function(t){return Yf(t,e)})),r=new Lc(n);return new qc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Af),Lf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Fa=e,r.xa=n,r}return o(e,t),e.prototype.Na=function(t){var e=new Gf({$a:3,methodName:this.Fa,Ma:!0},t.s,t.serializer,t.ignoreUndefinedProperties),n=this.xa.map((function(t){return Yf(t,e)})),r=new Fc(n);return new qc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Af),Ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Fa=e,r.La=n,r}return o(e,t),e.prototype.Na=function(t){var e=new Gf({$a:3,methodName:this.Fa},t.s,t.serializer,t.ignoreUndefinedProperties),n=Yf(this.La,e),r=new Uc(t.serializer,n);return new qc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Af),Uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.delete=function(){return sf("FieldValue.delete",arguments),new jf(new Rf("FieldValue.delete"))},e.serverTimestamp=function(){return sf("FieldValue.serverTimestamp",arguments),new jf(new Df("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cf("FieldValue.arrayUnion",arguments,1),new jf(new Mf("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cf("FieldValue.arrayRemove",arguments,1),new jf(new Lf("FieldValue.arrayRemove",t))},e.increment=function(t){return hf("FieldValue.increment","number",1,t),uf("FieldValue.increment",arguments,1),new jf(new Ff("FieldValue.increment",t))},e}(Af),jf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ca=e,n.Fa=e.Fa,n}return o(e,t),e.prototype.Na=function(t){return this.Ca.Na(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.Ca.isEqual(t.Ca)},e}(Uf),Vf=function(){function t(t,e){if(uf("GeoPoint",arguments,2),hf("GeoPoint","number",1,t),hf("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Ys($s.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ys($s.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Oa=t,this.Ba=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Oa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Ba},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Oa===t.Oa&&this.Ba===t.Ba},t.prototype.T=function(t){return js(this.Oa,t.Oa)||js(this.Ba,t.Ba)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new ac(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=/^__.*__$/,zf=function(t,e,n){this.qa=t,this.Ua=e,this.Qa=n},Wf=function(){function t(t,e,n){this.data=t,this.Oe=e,this.fieldTransforms=n}return t.prototype.Wa=function(t,e){var n=[];return null!==this.Oe?n.push(new Hc(t,this.data,this.Oe,e)):n.push(new Qc(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Gc(t,this.fieldTransforms)),n},t}(),Qf=function(){function t(t,e,n){this.data=t,this.Oe=e,this.fieldTransforms=n}return t.prototype.Wa=function(t,e){var n=[new Hc(t,this.data,this.Oe,e)];return this.fieldTransforms.length>0&&n.push(new Gc(t,this.fieldTransforms)),n},t}();function Hf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ds()}}var Gf=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ja(),this.fieldTransforms=i||[],this.Oe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$a",{get:function(){return this.settings.$a},enumerable:!0,configurable:!0}),t.prototype.Ka=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Oe)},t.prototype.Ga=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ka({path:n,Ma:!1});return r.za(t),r},t.prototype.Ha=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ka({path:n,Ma:!1});return r.ja(),r},t.prototype.Ya=function(t){return this.Ka({path:void 0,Ma:!0})},t.prototype.ka=function(t){var e=!this.path||this.path._()?"":" (found in field "+this.path.toString()+")";return new Ys($s.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Oe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.ja=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.za(this.path.get(t))},t.prototype.za=function(t){if(0===t.length)throw this.ka("Document fields must not be empty");if(Hf(this.$a)&&Bf.test(t))throw this.ka('Document fields cannot begin and end with "__"')},t}(),$f=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||qf(t)}return t.prototype.Ja=function(t,e,n){void 0===n&&(n={});var r=this.Xa(n.merge||n.mergeFields?2:0,t);Jf("Data must be an object, but it was:",r,e);var i,o,a=Kf(e,r);if(n.merge)i=new Vc(r.Oe),o=r.fieldTransforms;else if(n.mergeFields){for(var s=[],u=0,c=n.mergeFields;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Nf)h=l.Sa;else{if("string"!=typeof l)throw Ds();h=tp(t,l)}if(!r.contains(h))throw new Ys($s.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");ep(s,h)||s.push(h)}i=new Vc(s),o=r.fieldTransforms.filter((function(t){return i.ze(t.field)}))}else i=null,o=r.fieldTransforms;return new Wf(new Kc(a),i,o)},t.prototype.Za=function(t,e){var n=this.Xa(1,t);Jf("Data must be an object, but it was:",n,e);var r=[],i=new Xc;Qs(e,(function(e,o){var a=tp(t,e),s=n.Ha(a);if(o instanceof Af&&o.Ca instanceof Rf)r.push(a);else{var u=Yf(o,s);null!=u&&(r.push(a),i.set(a,u))}}));var o=new Vc(r);return new Qf(i.ss(),o,n.fieldTransforms)},t.prototype.tu=function(t,e,n,r){var i=this.Xa(1,t),o=[Zf(t,e)],a=[n];if(r.length%2!=0)throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Zf(t,r[s])),a.push(r[s+1]);for(var u=[],c=new Xc,l=o.length-1;l>=0;--l)if(!ep(u,o[l])){var h=o[l],f=a[l],p=i.Ha(h);if(f instanceof Af&&f.Ca instanceof Rf)u.push(h);else{var d=Yf(f,p);null!=d&&(u.push(h),c.set(h,d))}}var y=new Vc(u);return new Qf(c.ss(),y,i.fieldTransforms)},t.prototype.Xa=function(t,e){return new Gf({$a:t,methodName:e,path:eu.k,Ma:!1},this.s,this.serializer,this.ignoreUndefinedProperties)},t.prototype.eu=function(t,e,n){return void 0===n&&(n=!1),Yf(e,this.Xa(n?4:3,t))},t}();function Yf(t,e){if(Xf(t))return Jf("Unsupported field value:",e,t),Kf(t,e);if(t instanceof Af)return function(t,e){if(!Hf(e.$a))throw e.ka(t.Fa+"() can only be used with update() and set()");if(!e.path)throw e.ka(t.Fa+"() is not currently supported inside arrays");var n=t.Na(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Oe.push(e.path),t instanceof Array){if(e.settings.Ma&&4!==e.$a)throw e.ka("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Yf(o[i],e.Ya(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return function(t,e){return ou(e)?sc(e):uc(t,e)}(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ks.fromDate(t);return{timestampValue:cc(e.serializer,n)}}if(t instanceof Ks){var r=new Ks(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cc(e.serializer,r)}}if(t instanceof Vf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof If)return{bytesValue:lc(e.serializer,t)};if(t instanceof zf){var i=e.s,o=t.qa;if(!o.isEqual(i))throw e.ka("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:dc(t.qa||e.s,t.Ua.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.ka("Unsupported field value: "+bf(t))}(t,e)}function Kf(t,e){var n={};return Hs(t)?e.path&&e.path.length>0&&e.Oe.push(e.path):Qs(t,(function(t,r){var i=Yf(r,e.Ga(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Xf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ks||t instanceof Vf||t instanceof If||t instanceof zf||t instanceof Af)}function Jf(t,e,n){if(!Xf(n)||!mf(n)){var r=bf(n);throw"an object"===r?e.ka(t+" a custom object"):e.ka(t+" "+r)}}function Zf(t,e){if(e instanceof Nf)return e.Sa;if("string"==typeof e)return tp(t,e);throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function tp(t,e){try{return function(t){if(t.search(Of)>=0)throw new Ys($s.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Pf.bind.apply(Pf,f([void 0],t.split("."))))}catch(e){throw new Ys($s.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Sa}catch(e){var n=(r=e)instanceof Error?r.message:r.toString();throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var r}function ep(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var np=function(){function t(t){this.uid=t}return t.prototype.fo=function(){return null!=this.uid},t.prototype.su=function(){return this.fo()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();np.UNAUTHENTICATED=new np(null),np.nu=new np("google-credentials-uid"),np.iu=new np("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rp=function(t,e){this.user=e,this.type="OAuth",this.ru={},this.ru.Authorization="Bearer "+t},ip=function(){function t(){this.ou=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.hu=function(){},t.prototype.au=function(t){this.ou=t,t(np.UNAUTHENTICATED)},t.prototype.uu=function(){this.ou=null},t}(),op=function(){function t(t){var e=this;this.cu=null,this.currentUser=np.UNAUTHENTICATED,this.lu=!1,this._u=0,this.ou=null,this.forceRefresh=!1,this.cu=function(){e._u++,e.currentUser=e.fu(),e.lu=!0,e.ou&&e.ou(e.currentUser)},this._u=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.cu):(this.cu(null),t.get().then((function(t){e.auth=t,e.cu&&e.auth.addAuthTokenListener(e.cu)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this._u,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t._u!==e?(Os("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ms("string"==typeof n.accessToken),new rp(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.hu=function(){this.forceRefresh=!0},t.prototype.au=function(t){this.ou=t,this.lu&&t(this.currentUser)},t.prototype.uu=function(){this.auth&&this.auth.removeAuthTokenListener(this.cu),this.cu=null,this.ou=null},t.prototype.fu=function(){var t=this.auth&&this.auth.getUid();return Ms(null===t||"string"==typeof t),new np(t)},t}(),ap=function(){function t(t,e){this.du=t,this.wu=e,this.type="FirstParty",this.user=np.iu}return Object.defineProperty(t.prototype,"ru",{get:function(){var t={"X-Goog-AuthUser":this.wu},e=this.du.auth.Tu([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),sp=function(){function t(t,e){this.du=t,this.wu=e}return t.prototype.getToken=function(){return Promise.resolve(new ap(this.du,this.wu))},t.prototype.au=function(t){t(np.iu)},t.prototype.uu=function(){},t.prototype.hu=function(){},t}(),up=function(){function t(t,e,n,r,i,o){this.Wn=t,this.Eu=n,this.Iu=r,this.Au=i,this.listener=o,this.state=0,this.Ru=0,this.mu=null,this.stream=null,this.Zo=new Pl(t,e)}return t.prototype.Pu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Vu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.gu()},t.prototype.stop=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Pu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pu=function(){this.state=0,this.Zo.reset()},t.prototype.yu=function(){var t=this;this.Vu()&&null===this.mu&&(this.mu=this.Wn.ei(this.Eu,6e4,(function(){return t.bu()})))},t.prototype.vu=function(t){this.Su(),this.stream.send(t)},t.prototype.bu=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.Vu()?[2,this.close(0)]:[2]}))}))},t.prototype.Su=function(){this.mu&&(this.mu.cancel(),this.mu=null)},t.prototype.close=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return this.Su(),this.Zo.cancel(),this.Ru++,3!==t?this.Zo.reset():e&&e.code===$s.RESOURCE_EXHAUSTED?(As(e.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.Zo.Xn()):e&&e.code===$s.UNAUTHENTICATED&&this.Au.hu(),null!==this.stream&&(this.Du(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Cu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Du=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Fu(this.Ru),n=this.Ru;this.Au.getToken().then((function(e){t.Ru===n&&t.Nu(e)}),(function(n){e((function(){var e=new Ys($s.UNKNOWN,"Fetching auth token failed: "+n.message);return t.$u(e)}))}))},t.prototype.Nu=function(t){var e=this,n=this.Fu(this.Ru);this.stream=this.ku(t),this.stream.xu((function(){n((function(){return e.state=2,e.listener.xu()}))})),this.stream.Cu((function(t){n((function(){return e.$u(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.gu=function(){var t=this;this.state=4,this.Zo.Zn((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.$u=function(t){return Os("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Fu=function(t){var e=this;return function(n){e.Wn.Sr((function(){return e.Ru===t?n():(Os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),cp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return o(e,t),e.prototype.ku=function(t){return this.Iu.Mu("Listen",t)},e.prototype.onMessage=function(t){this.Zo.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ds()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=hc(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?$s.UNKNOWN:fu(t.code);return new Ys(e,t.message||"")}(a);n=new Mu(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=gc(t,u.document.name),l=pc(u.document.updateTime),h=new Kc({mapValue:{fields:u.document.fields}}),f=new tl(c,l,h,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new Ru(p,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;var y=e.documentDelete;y.document;var v=gc(t,y.document),g=y.readTime?pc(y.readTime):Xs.min(),m=new el(v,g),b=y.removedTargetIds||[];n=new Ru([],b,m.key,m)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var _=gc(t,w.document),E=w.removedTargetIds||[];n=new Ru([],E,_,null)}else{if(!("filter"in e))return Ds();e.filter;var T=e.filter;T.targetId;var x=T.count||0,S=new lu(x),C=T.targetId;n=new Du(C,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Xs.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Xs.min():e.readTime?pc(e.readTime):Xs.min()}(t);return this.listener.Lu(e,n)},e.prototype.Ou=function(t){var e={};e.database=wc(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=bl(r)?{documents:Sc(t,r)}:{query:Cc(t,r)}).targetId=e.targetId,e.resumeToken.G()>0&&(n.resumeToken=lc(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ds()}}(0,e.Y);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.vu(e)},e.prototype.Bu=function(t){var e={};e.database=wc(this.serializer),e.removeTarget=t,this.vu(e)},e}(up),lp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.qu=!1,a.lastStreamToken=au.H,a}return o(e,t),Object.defineProperty(e.prototype,"Uu",{get:function(){return this.qu},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.qu=!1,this.lastStreamToken=au.H,t.prototype.start.call(this)},e.prototype.Du=function(){this.qu&&this.Qu([])},e.prototype.ku=function(t){return this.Iu.Mu("Write",t)},e.prototype.onMessage=function(t){if(Ms(!!t.streamToken),this.lastStreamToken=hc(this.serializer,t.streamToken),this.qu){this.Zo.reset();var e=function(t,e){return t&&t.length>0?(Ms(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?pc(t.updateTime):pc(e);n.isEqual(Xs.min())&&(n=pc(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Bc(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=pc(t.commitTime);return this.listener.Wu(n,e)}return Ms(!t.writeResults||0===t.writeResults.length),this.qu=!0,this.listener.ju()},e.prototype.Ku=function(){var t={};t.database=wc(this.serializer),this.vu(t)},e.prototype.Qu=function(t){var e=this,n={streamToken:lc(this.serializer,this.lastStreamToken),writes:t.map((function(t){return Tc(e.serializer,t)}))};this.vu(n)},e}(up),hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Iu=e,i.credentials=n,i.serializer=r,i.zu=!1,i}return o(e,t),e.prototype.Hu=function(){if(this.zu)throw new Ys($s.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Yu=function(t,e){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Yu(t,e,r)})).catch((function(t){throw t.code===$s.UNAUTHENTICATED&&n.credentials.hu(),t}))},e.prototype.Ju=function(t,e){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Ju(t,e,r)})).catch((function(t){throw t.code===$s.UNAUTHENTICATED&&n.credentials.hu(),t}))},e}((function(){this.Gu=void 0})),fp=function(){function t(t){this.Xu=t,this.Zu=new Map,this.mutations=[],this.tc=!1,this.ec=null,this.sc=new Set}return t.prototype.nc=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:if(this.ic(),this.mutations.length>0)throw new Ys($s.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a;return u(this,(function(s){switch(s.label){case 0:return n=Ls(t),r={database:wc(n.serializer),documents:e.map((function(t){return vc(n.serializer,t)}))},[4,n.Ju("BatchGetDocuments",r)];case 1:return i=s.sent(),o=new Map,i.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ms(!!e.found),e.found.name,e.found.updateTime;var n=gc(t,e.found.name),r=pc(e.found.updateTime),i=new Kc({mapValue:{fields:e.found.fields}});return new tl(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ms(!!e.missing),Ms(!!e.readTime);var n=gc(t,e.missing),r=pc(e.readTime);return new el(n,r)}(t,e):Ds()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Ms(!!e),a.push(e)})),a)]}}))}))}(this.Xu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof el||t instanceof tl?n.rc(t):Ds()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.Wa(t,this.Ue(t))),this.sc.add(t)},t.prototype.update=function(t,e){try{this.write(e.Wa(t,this.oc(t)))}catch(t){this.ec=t}this.sc.add(t)},t.prototype.delete=function(t){this.write([new $c(t,this.Ue(t))]),this.sc.add(t)},t.prototype.commit=function(){return s(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:if(this.ic(),this.ec)throw this.ec;return t=this.Zu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new nu(Zs.$(n));e.mutations.push(new Yc(r,e.Ue(r)))})),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return n=Ls(t),r={database:wc(n.serializer),writes:e.map((function(t){return Tc(n.serializer,t)}))},[4,n.Yu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.Xu,this.mutations)];case 1:return n.sent(),this.tc=!0,[2]}}))}))},t.prototype.rc=function(t){var e;if(t instanceof tl)e=t.version;else{if(!(t instanceof el))throw Ds();e=Xs.min()}var n=this.Zu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ys($s.ABORTED,"Document version changed between two reads.")}else this.Zu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Zu.get(t.toString());return!this.sc.has(t)&&e?zc.updateTime(e):zc.Qe()},t.prototype.oc=function(t){var e=this.Zu.get(t.toString());if(!this.sc.has(t)&&e){if(e.isEqual(Xs.min()))throw new Ys($s.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zc.updateTime(e)}return zc.exists(!0)},t.prototype.write=function(t){this.ic(),this.mutations=this.mutations.concat(t)},t.prototype.ic=function(){},t}(),pp=function(){function t(t,e){this.Oo=t,this.hc=e,this.state="Unknown",this.ac=0,this.uc=null,this.cc=!0}return t.prototype.lc=function(){var t=this;0===this.ac&&(this._c("Unknown"),this.uc=this.Oo.ei("online_state_timeout",1e4,(function(){return t.uc=null,t.fc("Backend didn't respond within 10 seconds."),t._c("Offline"),Promise.resolve()})))},t.prototype.dc=function(t){"Online"===this.state?this._c("Unknown"):(this.ac++,this.ac>=1&&(this.wc(),this.fc("Connection failed 1 times. Most recent error: "+t.toString()),this._c("Offline")))},t.prototype.set=function(t){this.wc(),this.ac=0,"Online"===t&&(this.cc=!1),this._c(t)},t.prototype._c=function(t){t!==this.state&&(this.state=t,this.hc(t))},t.prototype.fc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.cc?(As(e),this.cc=!1):Os("OnlineStateTracker",e)},t.prototype.wc=function(){null!==this.uc&&(this.uc.cancel(),this.uc=null)},t}(),dp=function(){function t(t,e,n,r,i){var o=this;this.Tc=t,this.Xu=e,this.Oo=n,this.Ec=[],this.Ic=new Map,this.Ac=null,this.Rc=new Set,this.mc=i,this.mc.Pc((function(t){n.Sr((function(){return s(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Vc()?(Os("RemoteStore","Restarting streams for network reachability change."),[4,this.gc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.pc=new pp(n,r),this.yc=function(t,e,n){var r=Ls(t);return new cp(e,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.bc.bind(this),Cu:this.vc.bind(this),Lu:this.Sc.bind(this)}),this.Dc=function(t,e,n){var r=Ls(t);return new lp(e,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.Cc.bind(this),Cu:this.Fc.bind(this),ju:this.Nc.bind(this),Wu:this.Wu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Rc.delete(0),this.$c()},t.prototype.$c=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Vc()?(this.kc()?this.xc():this.pc.set("Unknown"),[4,this.Mc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Rc.add(0),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Offline"),[2]}}))}))},t.prototype.Lc=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.Dc.stop()];case 1:return t.sent(),[4,this.yc.stop()];case 2:return t.sent(),this.Ec.length>0&&(Os("RemoteStore","Stopping write stream with "+this.Ec.length+" pending writes"),this.Ec=[]),this.Oc(),[2]}}))}))},t.prototype.Ur=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Os("RemoteStore","RemoteStore shutting down."),this.Rc.add(5),[4,this.Lc()];case 1:return t.sent(),this.mc.Ur(),this.pc.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ic.has(t.targetId)||(this.Ic.set(t.targetId,t),this.kc()?this.xc():this.yc.Vu()&&this.Bc(t))},t.prototype.qc=function(t){this.Ic.delete(t),this.yc.Vu()&&this.Uc(t),0===this.Ic.size&&(this.yc.Vu()?this.yc.yu():this.Vc()&&this.pc.set("Unknown"))},t.prototype.Me=function(t){return this.Ic.get(t)||null},t.prototype.xe=function(t){return this.Qc.xe(t)},t.prototype.Bc=function(t){this.Ac.de(t.targetId),this.yc.Ou(t)},t.prototype.Uc=function(t){this.Ac.de(t),this.yc.Bu(t)},t.prototype.xc=function(){this.Ac=new Fu(this),this.yc.start(),this.pc.lc()},t.prototype.kc=function(){return this.Vc()&&!this.yc.Pu()&&this.Ic.size>0},t.prototype.Vc=function(){return 0===this.Rc.size},t.prototype.Oc=function(){this.Ac=null},t.prototype.bc=function(){return s(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){return this.Ic.forEach((function(e,n){t.Bc(e)})),[2]}))}))},t.prototype.vc=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.Oc(),this.kc()?(this.pc.dc(t),this.xc()):this.pc.set("Unknown"),[2]}))}))},t.prototype.Sc=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:if(this.pc.set("Online"),!(t instanceof Mu&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.Wc(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),Os("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.jc(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ru?this.Ac.Pe(t):t instanceof Du?this.Ac.De(t):this.Ac.pe(t),e.isEqual(Xs.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.Tc.xi()];case 8:return r=o.sent(),e.o(r)>=0?[4,this.Kc(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Os("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,this.jc(i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.jc=function(t,e){return s(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){switch(r.label){case 0:if(!jh(t))throw t;return this.Rc.add(1),[4,this.Lc()];case 1:return r.sent(),this.pc.set("Offline"),e||(e=function(){return n.Tc.xi()}),this.Oo.Cr((function(){return s(n,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Os("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Rc.delete(1),[4,this.$c()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Gc=function(t){var e=this;return t().catch((function(n){return e.jc(n,t)}))},t.prototype.Kc=function(t){var e=this,n=this.Ac.Ne(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.G()>0){var i=e.Ic.get(r);i&&e.Ic.set(r,i.Z(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.Ic.get(t);if(n){e.Ic.set(t,n.Z(au.H,n.J)),e.Uc(t);var r=new cu(n.target,t,1,n.sequenceNumber);e.Bc(r)}})),this.Qc.na(n)},t.prototype.Wc=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.Ic.has(i)?[4,this.Qc.zc(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.Ic.delete(i),this.Ac.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.Mc=function(){return s(this,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){switch(r.label){case 0:t=this.Ec.length>0?this.Ec[this.Ec.length-1].batchId:-1,r.label=1;case 1:if(!this.Hc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.Tc.ha(t)];case 3:return null===(e=r.sent())?(0===this.Ec.length&&this.Dc.yu(),[3,7]):(t=e.batchId,this.Yc(e),[3,6]);case 4:return n=r.sent(),[4,this.jc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Jc()&&this.Xc(),[2]}}))}))},t.prototype.Hc=function(){return this.Vc()&&this.Ec.length<10},t.prototype.Zc=function(){return this.Ec.length},t.prototype.Yc=function(t){this.Ec.push(t),this.Dc.Vu()&&this.Dc.Uu&&this.Dc.Qu(t.mutations)},t.prototype.Jc=function(){return this.Vc()&&!this.Dc.Pu()&&this.Ec.length>0},t.prototype.Xc=function(){this.Dc.start()},t.prototype.Cc=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.Dc.Ku(),[2]}))}))},t.prototype.Nc=function(){return s(this,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){for(t=0,e=this.Ec;t<e.length;t++)n=e[t],this.Dc.Qu(n.mutations);return[2]}))}))},t.prototype.Wu=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return n=this.Ec.shift(),r=_l.from(n,t,e),[4,this.Gc((function(){return i.Qc.tl(r)}))];case 1:return o.sent(),[4,this.Mc()];case 2:return o.sent(),[2]}}))}))},t.prototype.Fc=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t&&this.Dc.Uu?[4,this.el(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Jc()&&this.Xc(),[2]}}))}))},t.prototype.el=function(t){return s(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return hu(n=t.code)&&n!==$s.ABORTED?(e=this.Ec.shift(),this.Dc.pu(),[4,this.Gc((function(){return r.Qc.sl(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.Mc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.nl=function(){return new fp(this.Xu)},t.prototype.gc=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Rc.add(4),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Unknown"),this.Rc.delete(4),[4,this.$c()];case 2:return t.sent(),[2]}}))}))},t.prototype.il=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.Oo.ah(),Os("RemoteStore","RemoteStore received new credentials"),this.Rc.add(3),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Unknown"),[4,this.Qc.il(t)];case 2:return e.sent(),this.Rc.delete(3),[4,this.$c()];case 3:return e.sent(),[2]}}))}))},t.prototype.rl=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t?(this.Rc.delete(2),[4,this.$c()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Rc.add(2),[4,this.Lc()]);case 3:e.sent(),this.pc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e){return"firestore_clients_"+t+"_"+e}function vp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.fo()&&(r+="_"+e.uid),r}function gp(t,e){return"firestore_targets_"+t+"_"+e}var mp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ol=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new Ys(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(As("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.hl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ol=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Ys(r.error.code,r.error.message)),i?new t(e,r.state,o):(As("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.hl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ol=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ku(),a=0;i&&a<r.activeTargetIds.length;++a)i=ou(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(As("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_p=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ol=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(As("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ep=function(){function t(){this.activeTargetIds=ku()}return t.prototype.al=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ul=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.hl=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tp=function(){function t(t,e,n,r,i){this.window=t,this.Wn=e,this.persistenceKey=n,this.cl=r,this.Qc=null,this.hc=null,this.On=null,this.ll=this._l.bind(this),this.fl=new pu(js),this.pr=!1,this.dl=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.wl=yp(this.persistenceKey,this.cl),this.Tl=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.fl=this.fl.et(this.cl,new Ep),this.El=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Il=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Al=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Rl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ll)}return t._r=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,c,l,h,f=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.Qc.Gr()];case 1:for(t=u.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.cl&&(i=this.getItem(yp(this.persistenceKey,r)))&&(o=wp.ol(r,i))&&(this.fl=this.fl.et(o.clientId,o));for(this.ml(),(a=this.storage.getItem(this.Rl))&&(s=this.Pl(a))&&this.Vl(s),c=0,l=this.dl;c<l.length;c++)h=l[c],this._l(h);return this.dl=[],this.window.addEventListener("unload",(function(){return f.Ur()})),this.pr=!0,[2]}}))}))},t.prototype.Un=function(t){this.setItem(this.Tl,JSON.stringify(t))},t.prototype.gl=function(){return this.pl(this.fl)},t.prototype.yl=function(t){var e=!1;return this.fl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.bl=function(t){this.vl(t,"pending")},t.prototype.Sl=function(t,e,n){this.vl(t,e,n),this.Dl(t)},t.prototype.Cl=function(t){var e="not-current";if(this.yl(t)){var n=this.storage.getItem(gp(this.persistenceKey,t));if(n){var r=bp.ol(t,n);r&&(e=r.state)}}return this.Fl.al(t),this.ml(),e},t.prototype.Nl=function(t){this.Fl.ul(t),this.ml()},t.prototype.$l=function(t){return this.Fl.activeTargetIds.has(t)},t.prototype.kl=function(t){this.removeItem(gp(this.persistenceKey,t))},t.prototype.xl=function(t,e,n){this.Ml(t,e,n)},t.prototype.Hh=function(t,e,n){var r=this;e.forEach((function(t){r.Dl(t)})),this.currentUser=t,n.forEach((function(t){r.bl(t)}))},t.prototype.Ll=function(t){this.Ol(t)},t.prototype.Ur=function(){this.pr&&(this.window.removeEventListener("storage",this.ll),this.removeItem(this.wl),this.pr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Os("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Os("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Os("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype._l=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Os("SharedClientState","EVENT",n.key,n.newValue),n.key===this.wl)return void As("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Wn.Cr((function(){return s(e,void 0,void 0,(function(){var t,e,r,i,o,a;return u(this,(function(s){if(this.pr){if(null!==n.key)if(this.El.test(n.key)){if(null==n.newValue)return t=this.Bl(n.key),[2,this.ql(t,null)];if(e=this.Ul(n.key,n.newValue))return[2,this.ql(e.clientId,e)]}else if(this.Il.test(n.key)){if(null!==n.newValue&&(r=this.Ql(n.key,n.newValue)))return[2,this.Wl(r)]}else if(this.Al.test(n.key)){if(null!==n.newValue&&(i=this.jl(n.key,n.newValue)))return[2,this.Kl(i)]}else if(n.key===this.Rl){if(null!==n.newValue&&(o=this.Pl(n.newValue)))return[2,this.Vl(o)]}else n.key===this.Tl&&(a=function(t){var e=Il.Qn;if(null!=t)try{var n=JSON.parse(t);Ms("number"==typeof n),e=n}catch(t){As("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Il.Qn&&this.On(a)}else this.dl.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Fl",{get:function(){return this.fl.get(this.cl)},enumerable:!0,configurable:!0}),t.prototype.ml=function(){this.setItem(this.wl,this.Fl.hl())},t.prototype.vl=function(t,e,n){var r=new mp(this.currentUser,t,e,n),i=vp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.hl())},t.prototype.Dl=function(t){var e=vp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ol=function(t){var e={clientId:this.cl,onlineState:t};this.storage.setItem(this.Rl,JSON.stringify(e))},t.prototype.Ml=function(t,e,n){var r=gp(this.persistenceKey,t),i=new bp(t,e,n);this.setItem(r,i.hl())},t.prototype.Bl=function(t){var e=this.El.exec(t);return e?e[1]:null},t.prototype.Ul=function(t,e){var n=this.Bl(t);return wp.ol(n,e)},t.prototype.Ql=function(t,e){var n=this.Il.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mp.ol(new np(i),r,e)},t.prototype.jl=function(t,e){var n=this.Al.exec(t),r=Number(n[1]);return bp.ol(r,e)},t.prototype.Pl=function(t){return _p.ol(t)},t.prototype.Wl=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Qc.Gl(t.batchId,t.state,t.error)]:(Os("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Kl=function(t){return this.Qc.zl(t.targetId,t.state,t.error)},t.prototype.ql=function(t,e){var n=this,r=e?this.fl.et(t,e):this.fl.remove(t),i=this.pl(this.fl),o=this.pl(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.Qc.Hl(a,s).then((function(){n.fl=r}))},t.prototype.Vl=function(t){this.fl.get(t.clientId)&&this.hc(t.onlineState)},t.prototype.pl=function(t){var e=ku();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),xp=function(){function t(){this.Yl=new Ep,this.Jl={},this.Qc=null,this.hc=null,this.On=null}return t.prototype.bl=function(t){},t.prototype.Sl=function(t,e,n){},t.prototype.Cl=function(t){return this.Yl.al(t),this.Jl[t]||"not-current"},t.prototype.xl=function(t,e,n){this.Jl[t]=e},t.prototype.Nl=function(t){this.Yl.ul(t)},t.prototype.$l=function(t){return this.Yl.activeTargetIds.has(t)},t.prototype.kl=function(t){delete this.Jl[t]},t.prototype.gl=function(){return this.Yl.activeTargetIds},t.prototype.yl=function(t){return this.Yl.activeTargetIds.has(t)},t.prototype.start=function(){return this.Yl=new Ep,Promise.resolve()},t.prototype.Hh=function(t,e,n){},t.prototype.Ll=function(t){},t.prototype.Ur=function(){},t.prototype.Un=function(t){},t}(),Sp=function(t){this.key=t},Cp=function(t){this.key=t},kp=function(){function t(t,e){this.query=t,this.Xl=e,this.Zl=null,this.Ht=!1,this.t_=Su(),this.Ot=Su(),this.e_=new Iu(t.Ds.bind(t))}return Object.defineProperty(t.prototype,"s_",{get:function(){return this.Xl},enumerable:!0,configurable:!0}),t.prototype.n_=function(t,e){var n=this,r=e?e.i_:new Nu,i=e?e.e_:this.e_,o=e?e.Ot:this.Ot,a=i,s=!1,u=this.query.ks()&&i.size===this.query.limit?i.last():null,c=this.query.xs()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var l=i.get(t),h=e instanceof tl?e:null;h&&(h=n.query.matches(h)?h:null);var f=!!l&&n.Ot.has(l.key),p=!!h&&(h.Xe||n.Ot.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.r_(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.query.Ds(h,u)>0||c&&n.query.Ds(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.ks()||this.query.xs())for(;a.size>this.query.limit;){var l=this.query.ks()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{e_:a,i_:r,o_:s,Ot:o}},t.prototype.r_=function(t,e){return t.Xe&&e.hasCommittedMutations&&!e.Xe},t.prototype.wn=function(t,e,n){var r=this,i=this.e_;this.e_=t.e_,this.Ot=t.Ot;var o=t.i_.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ds()}};return n(t)-n(e)}(t.type,e.type)||r.query.Ds(t.doc,e.doc)})),this.h_(n);var a=e?this.a_():[],s=0===this.t_.size&&this.Ht?1:0,u=s!==this.Zl;return this.Zl=s,0!==o.length||u?{snapshot:new Pu(this.query,t.e_,i,o,t.Ot,0===s,u,!1),u_:a}:{u_:a}},t.prototype.c_=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.wn({e_:this.e_,i_:new Nu,Ot:this.Ot,o_:!1},!1)):{u_:[]}},t.prototype.l_=function(t){return!this.Xl.has(t)&&!!this.e_.has(t)&&!this.e_.get(t).Xe},t.prototype.h_=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Xl=e.Xl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Xl=e.Xl.delete(t)})),this.Ht=t.Ht)},t.prototype.a_=function(){var t=this;if(!this.Ht)return[];var e=this.t_;this.t_=Su(),this.e_.forEach((function(e){t.l_(e.key)&&(t.t_=t.t_.add(e.key))}));var n=[];return e.forEach((function(e){t.t_.has(e)||n.push(new Cp(e))})),this.t_.forEach((function(t){e.has(t)||n.push(new Sp(t))})),n},t.prototype.__=function(t){this.Xl=t._a,this.t_=Su();var e=this.n_(t.documents);return this.wn(e,!0)},t.prototype.f_=function(){return Pu.Ut(this.query,this.e_,this.Ot,0===this.Zl)},t}(),Ip=function(){function t(t,e,n,r){this.Oo=t,this.Xu=e,this.updateFunction=n,this.Uo=r,this.d_=5,this.Zo=new Pl(this.Oo,"transaction_retry")}return t.prototype.w_=function(){this.T_()},t.prototype.T_=function(){var t=this;this.Zo.Zn((function(){return s(t,void 0,void 0,(function(){var t,e,n=this;return u(this,(function(r){return t=new fp(this.Xu),(e=this.E_(t))&&e.then((function(e){n.Oo.Sr((function(){return t.commit().then((function(){n.Uo.resolve(e)})).catch((function(t){n.I_(t)}))}))})).catch((function(t){n.I_(t)})),[2]}))}))}))},t.prototype.E_=function(t){try{var e=this.updateFunction(t);return!ru(e)&&e.catch&&e.then?e:(this.Uo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Uo.reject(t),null}},t.prototype.I_=function(t){var e=this;this.d_>0&&this.A_(t)?(this.d_-=1,this.Oo.Sr((function(){return e.T_(),Promise.resolve()}))):this.Uo.reject(t)},t.prototype.A_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!hu(e)}return!1},t}(),Np=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Pp=function(t){this.key=t,this.R_=!1},Op=function(){function t(t,e,n,r,i,o){this.Tc=t,this.m_=e,this.Xu=n,this.P_=r,this.currentUser=i,this.V_=o,this.g_=null,this.p_=new Gs((function(t){return t.canonicalId()}),(function(t,e){return t.isEqual(e)})),this.y_=new Map,this.b_=[],this.v_=new pu(nu.P),this.S_=new Map,this.D_=new of,this.C_={},this.F_=new Map,this.N_=th.Ci(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"k_",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.g_=t},t.prototype.listen=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o;return u(this,(function(a){switch(a.label){case 0:return this.x_("listen()"),(r=this.p_.get(t))?(e=r.targetId,this.P_.Cl(e),n=r.view.f_(),[3,4]):[3,1];case 1:return[4,this.Tc.ua(t.We())];case 2:return i=a.sent(),o=this.P_.Cl(i.targetId),e=i.targetId,[4,this.M_(t,e,"current"===o)];case 3:n=a.sent(),this.k_&&this.m_.listen(i),a.label=4;case 4:return[2,n]}}))}))},t.prototype.M_=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,a,s,c;return u(this,(function(u){switch(u.label){case 0:return[4,this.Tc.la(t,!0)];case 1:return r=u.sent(),i=new kp(t,r._a),o=i.n_(r.documents),a=Au.zt(e,n&&"Offline"!==this.onlineState),s=i.wn(o,this.k_,a),this.L_(e,s.u_),c=new Np(t,e,i),[2,(this.p_.set(t,c),this.y_.has(e)?this.y_.get(e).push(t):this.y_.set(e,[t]),s.snapshot)]}}))}))},t.prototype.qc=function(t){return s(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return this.x_("unlisten()"),e=this.p_.get(t),(n=this.y_.get(e.targetId)).length>1?[2,(this.y_.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.p_.delete(t))]:this.k_?(this.P_.Nl(e.targetId),this.P_.yl(e.targetId)?[3,2]:[4,this.Tc.ca(e.targetId,!1).then((function(){r.P_.kl(e.targetId),r.m_.qc(e.targetId),r.O_(e.targetId)})).catch(rf)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.O_(e.targetId),[4,this.Tc.ca(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:this.x_("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.Tc.Zh(t)];case 2:return n=o.sent(),this.P_.bl(n.batchId),this.B_(n.batchId,e),[4,this.q_(n.on)];case 3:return o.sent(),[4,this.m_.Mc()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),i=$h(r,"Failed to persist write"),e.reject(i),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Ip(t,this.Xu,e,n).w_()},t.prototype.na=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:this.x_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.na(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.S_.get(e);r&&(Ms(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.R_=!0:t.Jt.size>0?Ms(r.R_):t.Xt.size>0&&(Ms(r.R_),r.R_=!1))})),[4,this.q_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,rf(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.c_=function(t,e){this.x_("applyOnlineStateChange()");var n=[];this.p_.forEach((function(e,r){var i=r.view.c_(t);i.snapshot&&n.push(i.snapshot)})),this.g_.U_(t),this.g_.Lu(n),this.onlineState=t},t.prototype.zc=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s=this;return u(this,(function(u){switch(u.label){case 0:return this.x_("rejectListens()"),this.P_.xl(t,"rejected",e),n=this.S_.get(t),(r=n&&n.key)?(i=(i=new pu(nu.P)).et(r,new el(r,Xs.min())),o=Su().add(r),a=new Ou(Xs.min(),new Map,new vu(js),i,o),[4,this.na(a)]):[3,2];case 1:return u.sent(),this.v_=this.v_.remove(r),this.S_.delete(t),this.Q_(),[3,4];case 2:return[4,this.Tc.ca(t,!1).then((function(){return s.O_(t,e)})).catch(rf)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))},t.prototype.tl=function(t){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:this.x_("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.ta(t)];case 2:return n=r.sent(),this.W_(e,null),this.j_(e),this.P_.Sl(e,"acknowledged"),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,rf(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.sl=function(t,e){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:this.x_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.sa(t)];case 2:return n=r.sent(),this.W_(t,e),this.j_(t),this.P_.Sl(t,"rejected",e),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,rf(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.K_=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){switch(o.label){case 0:this.m_.Vc()||Os("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.Tc.Ao()];case 2:return-1===(e=o.sent())?[2,void t.resolve()]:((n=this.F_.get(e)||[]).push(t),this.F_.set(e,n),[3,4]);case 3:return r=o.sent(),i=$h(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}}))}))},t.prototype.j_=function(t){(this.F_.get(t)||[]).forEach((function(t){t.resolve()})),this.F_.delete(t)},t.prototype.G_=function(t){this.F_.forEach((function(e){e.forEach((function(e){e.reject(new Ys($s.CANCELLED,t))}))})),this.F_.clear()},t.prototype.B_=function(t,e){var n=this.C_[this.currentUser.su()];n||(n=new pu(js)),n=n.et(t,e),this.C_[this.currentUser.su()]=n},t.prototype.W_=function(t,e){var n=this.C_[this.currentUser.su()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.C_[this.currentUser.su()]=n}},t.prototype.O_=function(t,e){var n=this;void 0===e&&(e=null),this.P_.Nl(t);for(var r=0,i=this.y_.get(t);r<i.length;r++){var o=i[r];this.p_.delete(o),e&&this.g_.z_(o,e)}this.y_.delete(t),this.k_&&this.D_.ga(t).forEach((function(t){n.D_.tr(t)||n.H_(t)}))},t.prototype.H_=function(t){var e=this.v_.get(t);null!==e&&(this.m_.qc(e),this.v_=this.v_.remove(t),this.S_.delete(e),this.Q_())},t.prototype.L_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Sp?(this.D_.Hi(i.key,t),this.Y_(i)):i instanceof Cp?(Os("SyncEngine","Document no longer in limbo: "+i.key),this.D_.Ji(i.key,t),this.D_.tr(i.key)||this.H_(i.key)):Ds()}},t.prototype.Y_=function(t){var e=t.key;this.v_.get(e)||(Os("SyncEngine","New document in limbo: "+e),this.b_.push(e),this.Q_())},t.prototype.Q_=function(){for(;this.b_.length>0&&this.v_.size<this.V_;){var t=this.b_.shift(),e=this.N_.next();this.S_.set(e,new Pp(t)),this.v_=this.v_.et(t,e),this.m_.listen(new cu(rl.As(t.path).We(),e,2,Il.Qn))}},t.prototype.J_=function(){return this.v_},t.prototype.X_=function(){return this.b_},t.prototype.q_=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o=this;return u(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.p_.forEach((function(a,s){i.push(Promise.resolve().then((function(){var e=s.view.n_(t);return e.o_?o.Tc.la(s.query,!1).then((function(t){var n=t.documents;return s.view.n_(n,e)})):e})).then((function(t){var i=e&&e.Qt.get(s.targetId),a=s.view.wn(t,o.k_,i);if(o.L_(s.targetId,a.u_),a.snapshot){o.k_&&o.P_.xl(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=kl.Ln(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.g_.Lu(n),[4,this.Tc.oa(r)];case 2:return a.sent(),[2]}}))}))},t.prototype.x_=function(t){},t.prototype.il=function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(Os("SyncEngine","User change. New user:",t.su()),[4,this.Tc.Hh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.G_("'waitForPendingWrites' promise is rejected due to a user change."),this.P_.Hh(t,e.Jh,e.Xh),[4,this.q_(e.Yh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.m_.enableNetwork()},t.prototype.disableNetwork=function(){return this.m_.disableNetwork()},t.prototype.xe=function(t){var e=this.S_.get(t);if(e&&e.R_)return Su().add(e.key);var n=Su(),r=this.y_.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=o[i],s=this.p_.get(a);n=n.Ct(s.view.s_)}return n},t}(),Ap=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,o,a)||this).Tc=e,s.Z_=void 0,s}return o(e,t),Object.defineProperty(e.prototype,"k_",{get:function(){return!0===this.Z_},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.Tc.vr(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.Tc.vr(!1),t.prototype.disableNetwork.call(this)},e.prototype.tf=function(t){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.Tc.la(t.query,!0)];case 1:return e=r.sent(),n=t.view.__(e),[2,(this.Z_&&this.L_(t.targetId,n.u_),n)]}}))}))},e.prototype.c_=function(e,n){this.k_&&0===n&&(t.prototype.c_.call(this,e,n),this.P_.Ll(e)),this.k_||1!==n||t.prototype.c_.call(this,e,n)},e.prototype.Gl=function(t,e,n){return s(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return this.x_("applyBatchState()"),[4,this.Tc.da(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.m_.Mc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.W_(t,n||null),this.Tc.wa(t)):Ds(),i.label=4;case 4:return[4,this.q_(r)];case 5:return i.sent(),[3,7];case 6:Os("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.rl=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c=this;return u(this,(function(u){switch(u.label){case 0:return!0!==t||!0===this.Z_?[3,3]:(e=this.P_.gl(),[4,this.ef(e.F(),!0)]);case 1:return n=u.sent(),this.Z_=!0,[4,this.m_.rl(!0)];case 2:for(u.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.m_.listen(o);return[3,7];case 3:return!1!==t||!1===this.Z_?[3,7]:(a=[],s=Promise.resolve(),this.y_.forEach((function(t,e){c.P_.$l(e)?a.push(e):s=s.then((function(){return c.O_(e),c.Tc.ca(e,!0)})),c.m_.qc(e)})),[4,s]);case 4:return u.sent(),[4,this.ef(a,!1)];case 5:return u.sent(),this.sf(),this.Z_=!1,[4,this.m_.rl(!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},e.prototype.sf=function(){var t=this;this.S_.forEach((function(e,n){t.m_.qc(n)})),this.D_.pa(),this.S_=new Map,this.v_=new pu(nu.P)},e.prototype.ef=function(t,e){return s(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c,l,h,f,p,d;return u(this,(function(u){switch(u.label){case 0:e=[],n=[],r=0,i=t,u.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.y_.get(o))&&0!==s.length?[4,this.Tc.ua(s[0].We())]:[3,7]):[3,13];case 2:a=u.sent(),c=0,l=s,u.label=3;case 3:return c<l.length?(h=l[c],f=this.p_.get(h),[4,this.tf(f)]):[3,6];case 4:(p=u.sent()).snapshot&&n.push(p.snapshot),u.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,this.Tc.Ta(o)];case 8:return d=u.sent(),[4,this.Tc.ua(d)];case 9:return a=u.sent(),[4,this.M_(this.nf(d),o,!1)];case 10:u.sent(),u.label=11;case 11:e.push(a),u.label=12;case 12:return r++,[3,1];case 13:return[2,(this.g_.Lu(n),e)]}}))}))},e.prototype.nf=function(t){return new rl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.Gr=function(){return this.Tc.Gr()},e.prototype.zl=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return this.Z_?(Os("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.y_.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Tc.Ri()];case 3:return r=o.sent(),i=Ou.Gt(t,"current"===e),[4,this.q_(r,i)];case 4:return o.sent(),[3,8];case 5:return[4,this.Tc.ca(t,!0)];case 6:return o.sent(),this.O_(t,n),[3,8];case 7:Ds(),o.label=8;case 8:return[2]}}))}))},e.prototype.Hl=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,l,h,f,p=this;return u(this,(function(d){switch(d.label){case 0:if(!this.Z_)return[3,10];n=0,r=t,d.label=1;case 1:return n<r.length?(i=r[n],this.y_.has(i)?(Os("SyncEngine","Adding an already active target "+i),[3,5]):[4,this.Tc.Ta(i)]):[3,6];case 2:return o=d.sent(),[4,this.Tc.ua(o)];case 3:return a=d.sent(),[4,this.M_(this.nf(o),a.targetId,!1)];case 4:d.sent(),this.m_.listen(a),d.label=5;case 5:return n++,[3,1];case 6:s=function(t){return u(this,(function(e){switch(e.label){case 0:return c.y_.has(t)?[4,c.Tc.ca(t,!1).then((function(){p.m_.qc(t),p.O_(t)})).catch(rf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,l=0,h=e,d.label=7;case 7:return l<h.length?(f=h[l],[5,s(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},e}(Op),Rp=function(){this.if=void 0,this.rf=[]},Dp=function(){function t(t){this.Qc=t,this.hf=new Gs((function(t){return t.canonicalId()}),(function(t,e){return t.isEqual(e)})),this.onlineState="Unknown",this.af=new Set,this.Qc.subscribe(this)}return t.prototype.listen=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o,a;return u(this,(function(s){switch(s.label){case 0:if(e=t.query,n=!1,(r=this.hf.get(e))||(n=!0,r=new Rp),!n)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),i=r,[4,this.Qc.listen(e)];case 2:return i.if=s.sent(),[3,4];case 3:return o=s.sent(),a=$h(o,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(a)];case 4:return this.hf.set(e,r),r.rf.push(t),t.c_(this.onlineState),r.if&&t.uf(r.if)&&this.cf(),[2]}}))}))},t.prototype.qc=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){return e=t.query,n=!1,(r=this.hf.get(e))&&(i=r.rf.indexOf(t))>=0&&(r.rf.splice(i,1),n=0===r.rf.length),n?[2,(this.hf.delete(e),this.Qc.qc(e))]:[2]}))}))},t.prototype.Lu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.hf.get(o);if(a){for(var s=0,u=a.rf;s<u.length;s++)u[s].uf(i)&&(e=!0);a.if=i}}e&&this.cf()},t.prototype.z_=function(t,e){var n=this.hf.get(t);if(n)for(var r=0,i=n.rf;r<i.length;r++)i[r].onError(e);this.hf.delete(t)},t.prototype.U_=function(t){this.onlineState=t;var e=!1;this.hf.forEach((function(n,r){for(var i=0,o=r.rf;i<o.length;i++)o[i].c_(t)&&(e=!0)})),e&&this.cf()},t.prototype.lf=function(t){this.af.add(t),t.next()},t.prototype._f=function(t){this.af.delete(t)},t.prototype.cf=function(){this.af.forEach((function(t){t.next()}))},t}(),Mp=function(){function t(t,e,n){this.query=t,this.ff=e,this.df=!1,this.wf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.uf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pu(t.query,t.docs,t.Lt,e,t.Ot,t.fromCache,t.Bt,!0)}var o=!1;return this.df?this.Tf(t)&&(this.ff.next(t),o=!0):this.Ef(t,this.onlineState)&&(this.If(t),o=!0),this.wf=t,o},t.prototype.onError=function(t){this.ff.error(t)},t.prototype.c_=function(t){this.onlineState=t;var e=!1;return this.wf&&!this.df&&this.Ef(this.wf,t)&&(this.If(this.wf),e=!0),e},t.prototype.Ef=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Af&&n||t.docs._()&&"Offline"!==e)},t.prototype.Tf=function(t){if(t.docChanges.length>0)return!0;var e=this.wf&&this.wf.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.If=function(t){t=Pu.Ut(t.query,t.docs,t.Ot,t.fromCache),this.df=!0,this.ff.next(t)},t}(),Lp=function(){function t(){}return t.prototype.zh=function(t){this.Rf=t},t.prototype.Sn=function(t,e,n,r){var i=this;return e.Ss()||n.isEqual(Xs.min())?this.mf(t,e):this.Rf.yn(t,r).next((function(o){var a=i.Pf(e,o);return(e.ks()||e.xs())&&i.o_(e.ws,a,r,n)?i.mf(t,e):(Ps()<=Z.DEBUG&&Os("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Rf.Sn(t,e,n).next((function(t){return a.forEach((function(e){t=t.et(e.key,e)})),t})))}))},t.prototype.Pf=function(t,e){var n=new vu((function(e,n){return t.Ds(e,n)}));return e.forEach((function(e,r){r instanceof tl&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.o_=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.mf=function(t,e){return Ps()<=Z.DEBUG&&Os("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.Rf.Sn(t,e,Xs.min())},t}(),Fp=function(){function t(t,e){this.mn=t,this.Fi=e,this.Rn=[],this.Vf=1,this.gf=new vu(af.Ia)}return t.prototype.do=function(t){return El.resolve(0===this.Rn.length)},t.prototype.wo=function(t,e,n,r){var i=this.Vf;this.Vf++,this.Rn.length>0&&this.Rn[this.Rn.length-1];var o=new wl(i,e,n,r);this.Rn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.gf=this.gf.add(new af(u.key,i)),this.mn.ri(t,u.key.path.p())}return El.resolve(o)},t.prototype.To=function(t,e){return El.resolve(this.pf(e))},t.prototype.Io=function(t,e){var n=e+1,r=this.yf(n),i=r<0?0:r;return El.resolve(this.Rn.length>i?this.Rn[i]:null)},t.prototype.Ao=function(){return El.resolve(0===this.Rn.length?-1:this.Vf-1)},t.prototype.Ro=function(t){return El.resolve(this.Rn.slice())},t.prototype.Vn=function(t,e){var n=this,r=new af(e,0),i=new af(e,Number.POSITIVE_INFINITY),o=[];return this.gf.vt([r,i],(function(t){var e=n.pf(t.ba);o.push(e)})),El.resolve(o)},t.prototype.vn=function(t,e){var n=this,r=new vu(js);return e.forEach((function(t){var e=new af(t,0),i=new af(t,Number.POSITIVE_INFINITY);n.gf.vt([e,i],(function(t){r=r.add(t.ba)}))})),El.resolve(this.bf(r))},t.prototype.$n=function(t,e){var n=e.path,r=n.length+1,i=n;nu.W(i)||(i=i.child(""));var o=new af(new nu(i),0),a=new vu(js);return this.gf.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(a=a.add(t.ba)),!0)}),o),El.resolve(this.bf(a))},t.prototype.bf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.pf(t);null!==r&&n.push(r)})),n},t.prototype.Po=function(t,e){var n=this;Ms(0===this.vf(e.batchId,"removed")),this.Rn.shift();var r=this.gf;return El.forEach(e.mutations,(function(i){var o=new af(i.key,e.batchId);return r=r.delete(o),n.Fi.oo(t,i.key)})).next((function(){n.gf=r}))},t.prototype.Vo=function(t){},t.prototype.tr=function(t,e){var n=new af(e,0),r=this.gf.Dt(n);return El.resolve(e.isEqual(r&&r.key))},t.prototype.po=function(t){return this.Rn.length,El.resolve()},t.prototype.vf=function(t,e){return this.yf(t)},t.prototype.yf=function(t){return 0===this.Rn.length?0:t-this.Rn[0].batchId},t.prototype.pf=function(t){var e=this.yf(t);return e<0||e>=this.Rn.length?null:this.Rn[e]},t}(),Up=function(){function t(t,e){this.mn=t,this.Sf=e,this.docs=new pu(nu.P),this.size=0}return t.prototype.un=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Sf(e);return this.docs=this.docs.et(r,{fi:e,size:a,readTime:n}),this.size+=a-o,this.mn.ri(t,r.path.p())},t.prototype.ln=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._n=function(t,e){var n=this.docs.get(e);return El.resolve(n?n.fi:null)},t.prototype.getEntries=function(t,e){var n=this,r=wu();return e.forEach((function(t){var e=n.docs.get(t);r=r.et(t,e?e.fi:null)})),El.resolve(r)},t.prototype.Sn=function(t,e,n){for(var r=Eu(),i=new nu(e.path.child("")),o=this.docs.ut(i);o.wt();){var a=o.dt(),s=a.key,u=a.value,c=u.fi,l=u.readTime;if(!e.path.D(s.path))break;l.o(n)<=0||c instanceof tl&&e.matches(c)&&(r=r.et(c.key,c))}return El.resolve(r)},t.prototype.Df=function(t,e){return El.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Vi=function(e){return new t.gi(this)},t.prototype.yi=function(t){return El.resolve(this.size)},t}();Up.gi=function(t){function e(e){var n=this;return(n=t.call(this)||this).bi=e,n}return o(e,t),e.prototype.wn=function(t){var e=this,n=[];return this.on.forEach((function(r,i){i?n.push(e.bi.un(t,i,e.readTime)):e.bi.ln(r)})),El.nn(n)},e.prototype.fn=function(t,e){return this.bi._n(t,e)},e.prototype.dn=function(t,e){return this.bi.getEntries(t,e)},e}(Tl);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jp=function(){function t(t){this.persistence=t,this.Cf=new Gs((function(t){return gl(t)}),ml),this.lastRemoteSnapshotVersion=Xs.min(),this.highestTargetId=0,this.Ff=0,this.Nf=new of,this.targetCount=0,this.$f=th.Di()}return t.prototype.ye=function(t,e){return this.Cf.forEach((function(t,n){return e(n)})),El.resolve()},t.prototype.xi=function(t){return El.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Mi=function(t){return El.resolve(this.Ff)},t.prototype.Ni=function(t){return this.highestTargetId=this.$f.next(),El.resolve(this.highestTargetId)},t.prototype.Li=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ff&&(this.Ff=e),El.resolve()},t.prototype.Bi=function(t){this.Cf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.$f=new th(e),this.highestTargetId=e),t.sequenceNumber>this.Ff&&(this.Ff=t.sequenceNumber)},t.prototype.Oi=function(t,e){return this.Bi(e),this.targetCount+=1,El.resolve()},t.prototype.Ui=function(t,e){return this.Bi(e),El.resolve()},t.prototype.Qi=function(t,e){return this.Cf.delete(e.target),this.Nf.ga(e.targetId),this.targetCount-=1,El.resolve()},t.prototype.ji=function(t,e,n){var r=this,i=0,o=[];return this.Cf.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Cf.delete(a),o.push(r.Wi(t,s.targetId)),i++)})),El.nn(o).next((function(){return i}))},t.prototype.Ki=function(t){return El.resolve(this.targetCount)},t.prototype.Gi=function(t,e){var n=this.Cf.get(e)||null;return El.resolve(n)},t.prototype.zi=function(t,e,n){return this.Nf.ma(e,n),El.resolve()},t.prototype.Yi=function(t,e,n){this.Nf.Va(e,n);var r=this.persistence.Fi,i=[];return r&&e.forEach((function(e){i.push(r.oo(t,e))})),El.nn(i)},t.prototype.Wi=function(t,e){return this.Nf.ga(e),El.resolve()},t.prototype.Xi=function(t,e){var n=this.Nf.ya(e);return El.resolve(n)},t.prototype.tr=function(t,e){return El.resolve(this.Nf.tr(e))},t}(),Vp=function(){function t(t){var e=this;this.kf={},this.rr=new Il(0),this.or=!1,this.or=!0,this.Fi=t(this),this.Tr=new jp(this),this.mn=new Ml,this.An=new Up(this.mn,(function(t){return e.Fi.xf(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ur=function(){return this.or=!1,Promise.resolve()},Object.defineProperty(t.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),t.prototype.yr=function(){},t.prototype.Xr=function(){return this.mn},t.prototype.zr=function(t){var e=this.kf[t.su()];return e||(e=new Fp(this.mn,this.Fi),this.kf[t.su()]=e),e},t.prototype.Yr=function(){return this.Tr},t.prototype.Jr=function(){return this.An},t.prototype.runTransaction=function(t,e,n){var r=this;Os("MemoryPersistence","Starting transaction:",t);var i=new qp(this.rr.next());return this.Fi.Mf(),n(i).next((function(t){return r.Fi.Lf(i).next((function(){return t}))})).en().then((function(t){return i.In(),t}))},t.prototype.Of=function(t,e){return El.rn(Object.values(this.kf).map((function(n){return function(){return n.tr(t,e)}})))},t}(),qp=function(t){function e(e){var n=this;return(n=t.call(this)||this).sr=e,n}return o(e,t),e}(Sl),Bp=function(){function t(t){this.persistence=t,this.Bf=new of,this.qf=null}return t.Uf=function(e){return new t(e)},Object.defineProperty(t.prototype,"Qf",{get:function(){if(this.qf)return this.qf;throw Ds()},enumerable:!0,configurable:!0}),t.prototype.Hi=function(t,e,n){return this.Bf.Hi(n,e),this.Qf.delete(n),El.resolve()},t.prototype.Ji=function(t,e,n){return this.Bf.Ji(n,e),this.Qf.add(n),El.resolve()},t.prototype.oo=function(t,e){return this.Qf.add(e),El.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Bf.ga(e.targetId).forEach((function(t){return n.Qf.add(t)}));var r=this.persistence.Yr();return r.Xi(t,e.targetId).next((function(t){t.forEach((function(t){return n.Qf.add(t)}))})).next((function(){return r.Qi(t,e)}))},t.prototype.Mf=function(){this.qf=new Set},t.prototype.Lf=function(t){var e=this,n=this.persistence.Jr().Vi();return El.forEach(this.Qf,(function(r){return e.Wf(t,r).next((function(t){t||n.ln(r)}))})).next((function(){return e.qf=null,n.apply(t)}))},t.prototype.co=function(t,e){var n=this;return this.Wf(t,e).next((function(t){t?n.Qf.delete(e):n.Qf.add(e)}))},t.prototype.xf=function(t){return 0},t.prototype.Wf=function(t,e){var n=this;return El.rn([function(){return El.resolve(n.Bf.tr(e))},function(){return n.persistence.Yr().tr(t,e)},function(){return n.persistence.Of(t,e)}])},t}(),zp=function(){function t(t){this.jf=t.jf,this.Kf=t.Kf}return t.prototype.xu=function(t){this.Gf=t},t.prototype.Cu=function(t){this.zf=t},t.prototype.onMessage=function(t){this.Hf=t},t.prototype.close=function(){this.Kf()},t.prototype.send=function(t){this.jf(t)},t.prototype.Yf=function(){this.Gf()},t.prototype.Jf=function(t){this.zf(t)},t.prototype.Xf=function(t){this.Hf(t)},t}(),Wp={BatchGetDocuments:"batchGet",Commit:"commit"},Qp="gl-js/ fire/"+Is,Hp=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.Zf=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.td=function(t,e){if(e)for(var n in e.ru)e.ru.hasOwnProperty(n)&&(t[n]=e.ru[n]);t["X-Goog-Api-Client"]=Qp},t.prototype.Yu=function(t,e,n){var r=this,i=this.ed(t);return new Promise((function(o,a){var s=new ks;s.listenOnce(Ss.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case xs.NO_ERROR:var e=s.getResponseJson();Os("Connection","XHR received:",JSON.stringify(e)),o(e);break;case xs.TIMEOUT:Os("Connection",'RPC "'+t+'" timed out'),a(new Ys($s.DEADLINE_EXCEEDED,"Request time out"));break;case xs.HTTP_ERROR:var n=s.getStatus();if(Os("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values($s).indexOf(e)>=0?e:$s.UNKNOWN}(r.status);a(new Ys(i,r.message))}else a(new Ys($s.UNKNOWN,"Server responded with status "+s.getStatus()))}else Os("Connection",'RPC "'+t+'" failed'),a(new Ys($s.UNAVAILABLE,"Connection failed."));break;default:Ds()}}finally{Os("Connection",'RPC "'+t+'" completed.')}}));var u=Object.assign({},e);delete u.database;var c=JSON.stringify(u);Os("Connection","XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.td(l,n),s.send(i,"POST",c,l,15)}))},t.prototype.Ju=function(t,e,n){return this.Yu(t,e,n)},t.prototype.Mu=function(t,e){var n,r,i=[this.Zf,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ts(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.td(a.initMessageHeaders,e),x()||C()||T().indexOf("Electron/")>=0||((r=T()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||T().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=i.join("");Os("Connection","Creating WebChannel: "+s+" "+a);var u=o.createWebChannel(s,a),c=!1,l=!1,h=new zp({jf:function(t){l?Os("Connection","Not sending because WebChannel is closed:",t):(c||(Os("Connection","Opening WebChannel transport."),u.open(),c=!0),Os("Connection","WebChannel sending:",t),u.send(t))},Kf:function(){return u.close()}}),p=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(Cs.EventType.OPEN,(function(){l||Os("Connection","WebChannel transport opened.")})),p(Cs.EventType.CLOSE,(function(){l||(l=!0,Os("Connection","WebChannel transport closed"),h.Jf())})),p(Cs.EventType.ERROR,(function(t){l||(l=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ns.logLevel<=Z.WARN){var r=e.map(Rs);Ns.warn.apply(Ns,f(["Firestore ("+Is+"): "+t],r))}}("Connection","WebChannel transport errored:",t),h.Jf(new Ys($s.UNAVAILABLE,"The operation could not be completed")))})),p(Cs.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Ms(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Os("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=su[t];if(void 0!==e)return fu(e)}(o),s=i.message;void 0===a&&(a=$s.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Jf(new Ys(a,s)),u.close()}else Os("Connection","WebChannel received:",n),h.Xf(n)}})),setTimeout((function(){h.Yf()}),0),h},t.prototype.ed=function(t){var e=Wp[t];return this.Zf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),Gp=function(){function t(){var t=this;this.sd=function(){return t.nd()},this.rd=function(){return t.od()},this.hd=[],this.ad()}return t.prototype.Pc=function(t){this.hd.push(t)},t.prototype.Ur=function(){window.removeEventListener("online",this.sd),window.removeEventListener("offline",this.rd)},t.prototype.ad=function(){window.addEventListener("online",this.sd),window.addEventListener("offline",this.rd)},t.prototype.nd=function(){Os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.hd;t<e.length;t++)(0,e[t])(0)},t.prototype.od=function(){Os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.hd;t<e.length;t++)(0,e[t])(1)},t._r=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$p=function(){function t(){}return t.prototype.Pc=function(t){},t.prototype.Ur=function(){},t}(),Yp="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Kp=function(){function t(){}return t.prototype.initialize=function(t){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:return this.P_=this.ud(t),this.persistence=this.ld(t),[4,this.persistence.start()];case 1:return n.sent(),this._d=this.fd(t),this.Tc=this.dd(t),this.m_=this.wd(t),this.Qc=this.Td(t),this.Ed=this.Id(t),this.P_.hc=function(t){return e.Qc.c_(t,1)},this.m_.Qc=this.Qc,[4,this.Tc.start()];case 2:return n.sent(),[4,this.P_.start()];case 3:return n.sent(),[4,this.m_.start()];case 4:return n.sent(),[4,this.m_.rl(this.Qc.k_)];case 5:return n.sent(),[2]}}))}))},t.prototype.Id=function(t){return new Dp(this.Qc)},t.prototype.fd=function(t){return null},t.prototype.dd=function(t){return new ef(this.persistence,new Lp,t.Ad)},t.prototype.ld=function(t){if(t.md.Rd)throw new Ys($s.FAILED_PRECONDITION,Yp);return new Vp(Bp.Uf)},t.prototype.wd=function(t){var e=this;return new dp(this.Tc,t.Xu,t.Oo,(function(t){return e.Qc.c_(t,0)}),Gp._r()?new Gp:new $p)},t.prototype.ud=function(t){return new xp},t.prototype.Td=function(t){return new Op(this.Tc,this.m_,t.Xu,this.P_,t.Ad,t.V_)},t.prototype.clearPersistence=function(t){throw new Ys($s.FAILED_PRECONDITION,Yp)},t}(),Xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initialize=function(e){return s(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.gr((function(t){return s(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.Qc.rl(t)];case 1:return e.sent(),this._d&&(t&&!this._d.pr?this._d.start(this.Tc):t||this._d.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.dd=function(t){return new nf(this.persistence,new Lp,t.Ad)},e.prototype.Td=function(t){var e=new Ap(this.Tc,this.m_,t.Xu,this.P_,t.Ad,t.V_);return this.P_ instanceof Tp&&(this.P_.Qc=e),e},e.prototype.fd=function(t){var e=this.persistence.Fi.eo;return new Zh(e,t.Oo)},e.prototype.ld=function(t){var e=sh.to(t.Pd),n=qf(t.Pd.s);return new sh(t.md.synchronizeTabs,e,t.clientId,Jh.ph(t.md.cacheSizeBytes),t.Oo,Qh(),"undefined"!=typeof document?document:null,n,this.P_,t.md.ir)},e.prototype.ud=function(t){if(t.md.Rd&&t.md.synchronizeTabs){var e=Qh();if(!Tp._r(e))throw new Ys($s.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sh.to(t.Pd);return new Tp(e,t.Oo,n,t.clientId,t.Ad)}return new xp},e.prototype.clearPersistence=function(t){var e=sh.to(t);return sh.clearPersistence(e)},e}(Kp),Jp=function(){function t(t,e,n){this.Pd=t,this.credentials=e,this.Oo=n,this.clientId=Us.t()}return t.prototype.start=function(t,e){var n=this;this.Hu();var r=new Nl,i=new Nl,o=!1;return this.credentials.au((function(a){if(!o)return o=!0,Os("FirestoreClient","Initializing. user=",a.uid),n.Vd(t,e,a,i).then(r.resolve,r.reject);n.Oo.Cr((function(){return n.m_.il(a)}))})),this.Oo.Sr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.Hu(),this.Oo.enqueue((function(){return t.Qc.enableNetwork()}))},t.prototype.Vd=function(t,e,n,r){return s(this,void 0,void 0,(function(){var i,o,a,c,l,h=this;return u(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,(l=this.Pd,Promise.resolve(new Hp(l)))];case 1:return i=f.sent(),o=qf(this.Pd.s),a=function(t,e,n){return new hp(t,e,n)}(i,this.credentials,o),[4,t.initialize({Oo:this.Oo,Pd:this.Pd,Xu:a,clientId:this.clientId,Ad:n,V_:100,md:e})];case 2:return f.sent(),this.persistence=t.persistence,this.P_=t.P_,this.Tc=t.Tc,this.m_=t.m_,this.Qc=t.Qc,this._d=t._d,this.gd=t.Ed,this.persistence.yr((function(){return s(h,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(c=f.sent(),r.reject(c),!this.pd(c))throw c;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),this.Vd(new Kp,{Rd:!1},n,r))];case 4:return[2]}}))}))},t.prototype.pd=function(t){return"FirebaseError"===t.name?t.code===$s.FAILED_PRECONDITION||t.code===$s.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Hu=function(){if(this.Oo.eh)throw new Ys($s.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Hu(),this.Oo.enqueue((function(){return t.Qc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Oo.oh((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this._d&&this._d.stop(),[4,this.m_.Ur()];case 1:return t.sent(),[4,this.P_.Ur()];case 2:return t.sent(),[4,this.persistence.Ur()];case 3:return t.sent(),this.credentials.uu(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Hu();var e=new Nl;return this.Oo.Sr((function(){return t.Qc.K_(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Hu();var i=new Mp(t,e,n);return this.Oo.Sr((function(){return r.gd.listen(i)})),i},t.prototype.qc=function(t){var e=this;this.yd||this.Oo.Sr((function(){return e.gd.qc(t)}))},t.prototype.bd=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return this.Hu(),e=new Nl,[4,this.Oo.enqueue((function(){return s(n,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.Tc.aa(t)];case 1:return(n=o.sent())instanceof tl?e.resolve(n):n instanceof el?e.resolve(null):e.reject(new Ys($s.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=$h(r,"Failed to get document '"+t+" from cache"),e.reject(i),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.vd=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return this.Hu(),e=new Nl,[4,this.Oo.enqueue((function(){return s(n,void 0,void 0,(function(){var n,r,i,o,a,s;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.Tc.la(t,!0)];case 1:return n=u.sent(),r=new kp(t,n._a),i=r.n_(n.documents),o=r.wn(i,!1),e.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=$h(a,"Failed to execute query '"+t+" against cache"),e.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.Hu();var n=new Nl;return this.Oo.Sr((function(){return e.Qc.write(t,n)})),n.promise},t.prototype.s=function(){return this.Pd.s},t.prototype.lf=function(t){var e=this;this.Hu(),this.Oo.Sr((function(){return e.gd.lf(t),Promise.resolve()}))},t.prototype._f=function(t){var e=this;this.yd||this.Oo.Sr((function(){return e.gd._f(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"yd",{get:function(){return this.Oo.eh},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Hu();var n=new Nl;return this.Oo.Sr((function(){return e.Qc.runTransaction(e.Oo,t,n),Promise.resolve()})),n.promise},t}(),Zp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Sd(this.observer.next,t)},t.prototype.error=function(t){this.Sd(this.observer.error,t)},t.prototype.Dd=function(){this.muted=!0},t.prototype.Sd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ed=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Cd=n,this.Fd=r}return t.prototype.Nd=function(t){switch(zu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ku(t.integerValue||t.doubleValue);case 3:return this.$d(t.timestampValue);case 4:return this.kd(t);case 5:return t.stringValue;case 6:return new If(Xu(t.bytesValue));case 7:return this.xd(t.referenceValue);case 8:return this.Md(t.geoPointValue);case 9:return this.Ld(t.arrayValue);case 10:return this.Od(t.mapValue);default:throw Ds()}},t.prototype.Od=function(t){var e=this,n={};return Qs(t.fields||{},(function(t,r){n[t]=e.Nd(r)})),n},t.prototype.Md=function(t){return new Vf(Ku(t.latitude),Ku(t.longitude))},t.prototype.Ld=function(t){var e=this;return(t.values||[]).map((function(t){return e.Nd(t)}))},t.prototype.kd=function(t){switch(this.Cd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Vu(n)?t(n):n}(t);return null==e?null:this.Nd(e);case"estimate":return this.$d(qu(t));default:return null}},t.prototype.$d=function(t){var e=Yu(t),n=new Ks(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.xd=function(t){var e=Zs.$(t);Ms(Dc(e));var n=new zs(e.get(1),e.get(3)),r=new nu(e.g(5));return n.isEqual(this.s)||As("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Fd(r)},t}(),nd=Jh.vh,rd=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ys($s.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else pf("settings","non-empty string","host",t.host),this.host=t.host,df("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(_f("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),df("settings","object","credentials",t.credentials),this.credentials=t.credentials,df("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),df("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?As("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&As("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,df("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Jh.Dh;else{if(t.cacheSizeBytes!==nd&&t.cacheSizeBytes<Jh.Sh)throw new Ys($s.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Jh.Sh);this.cacheSizeBytes=t.cacheSizeBytes}df("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),id=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new Kp),this.Bd=null,this.qd=new Gh,this.INTERNAL={delete:function(){return s(i,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Ud(),[4,this.Qd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.Bd=o,this.qa=t.Wd(o),this.jd=o.name,this.Kd=new op(n)}else{var a=e;if(!a.projectId)throw new Ys($s.INVALID_ARGUMENT,"Must provide projectId");this.qa=new zs(a.projectId,a.database),this.jd="[DEFAULT]",this.Kd=new ip}this.Gd=r,this.zd=new rd({})}return Object.defineProperty(t.prototype,"Hd",{get:function(){return this.Yd||(this.Yd=new $f(this.qa,this.zd.ignoreUndefinedProperties)),this.Yd},enumerable:!0,configurable:!0}),t.prototype.settings=function(t){uf("Firestore.settings",arguments,1),hf("Firestore.settings","object",1,t);var e=new rd(t);if(this.Qd&&!this.zd.isEqual(e))throw new Ys($s.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.zd=e,void 0!==e.credentials&&(this.Kd=function(t){if(!t)return new ip;switch(t.type){case"gapi":var e=t.Jd;return Ms(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new sp(e,t.wu||"0");case"provider":return t.Jd;default:throw new Ys($s.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Ud(),this.Qd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Ud(),this.Qd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Qd)throw new Ys($s.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&As("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new Ys($s.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Xd(this.Gd,{Rd:!0,cacheSizeBytes:this.zd.cacheSizeBytes,synchronizeTabs:r,ir:i})},t.prototype.clearPersistence=function(){return s(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){if(void 0!==this.Qd&&!this.Qd.yd)throw new Ys($s.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Nl,[2,(this.qd.sh((function(){return s(e,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.Zd(),[4,this.Gd.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"tw",{get:function(){return this.Ud(),this.Qd.yd},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Ud(),this.Qd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.Ud(),td(t))return this.ew(t);hf("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.ew(e)},t.prototype.ew=function(t){var e=this,n=new Zp({next:function(){t.next&&t.next()},error:function(t){throw Ds()}});return this.Qd.lf(n),function(){n.Dd(),e.Qd._f(n)}},t.prototype.Ud=function(){return this.Qd||this.Xd(new Kp,{Rd:!1}),this.Qd},t.prototype.Zd=function(){return new Bs(this.qa,this.jd,this.zd.host,this.zd.ssl,this.zd.forceLongPolling)},t.prototype.Xd=function(t,e){var n=this.Zd();return this.Qd=new Jp(n,this.Kd,this.qd),this.Qd.start(t,e)},t.Wd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Ys($s.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new Ys($s.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new zs(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Bd)throw new Ys($s.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bd},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return uf("Firestore.collection",arguments,1),hf("Firestore.collection","non-empty string",1,t),this.Ud(),new pd(Zs.$(t),this,null)},t.prototype.doc=function(t){return uf("Firestore.doc",arguments,1),hf("Firestore.doc","non-empty string",1,t),this.Ud(),sd.sw(Zs.$(t),this,null)},t.prototype.collectionGroup=function(t){if(uf("Firestore.collectionGroup",arguments,1),hf("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new Ys($s.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Ud(),new hd(new rl(Zs.k,t),this,null)},t.prototype.runTransaction=function(t){var e=this;return uf("Firestore.runTransaction",arguments,1),hf("Firestore.runTransaction","function",1,t),this.Ud().transaction((function(n){return t(new od(e,n))}))},t.prototype.batch=function(){return this.Ud(),new ad(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(Ps()){case Z.DEBUG:return"debug";case Z.ERROR:return"error";case Z.SILENT:return"silent";case Z.WARN:return"warn";case Z.INFO:return"info";case Z.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){var e;uf("Firestore.setLogLevel",arguments,1),vf("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,Ns.setLogLevel(e)},t.prototype.nw=function(){return this.zd.timestampsInSnapshots},t}(),od=function(){function t(t,e){this.iw=t,this.rw=e}return t.prototype.get=function(t){var e=this;uf("Transaction.get",arguments,1);var n=gd("Transaction.get",t,this.iw);return this.rw.nc([n.Ua]).then((function(t){if(!t||1!==t.length)return Ds();var r=t[0];if(r instanceof el)return new cd(e.iw,n.Ua,null,!1,!1,n.Qa);if(r instanceof tl)return new cd(e.iw,n.Ua,r,!1,!1,n.Qa);throw Ds()}))},t.prototype.set=function(t,e,n){lf("Transaction.set",arguments,2,3);var r=gd("Transaction.set",t,this.iw);n=dd("Transaction.set",n);var i=bd(r.Qa,e,"Transaction.set"),o=i[0],a=i[1],s=this.iw.Hd.Ja(a,o,n);return this.rw.set(r.Ua,s),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Pf?(cf("Transaction.update",arguments,3),r=gd("Transaction.update",t,this.iw),i=this.iw.Hd.tu("Transaction.update",e,n,o)):(uf("Transaction.update",arguments,2),r=gd("Transaction.update",t,this.iw),i=this.iw.Hd.Za("Transaction.update",e)),this.rw.update(r.Ua,i),this},t.prototype.delete=function(t){uf("Transaction.delete",arguments,1);var e=gd("Transaction.delete",t,this.iw);return this.rw.delete(e.Ua),this},t}(),ad=function(){function t(t){this.iw=t,this.ow=[],this.hw=!1}return t.prototype.set=function(t,e,n){lf("WriteBatch.set",arguments,2,3),this.aw();var r=gd("WriteBatch.set",t,this.iw);n=dd("WriteBatch.set",n);var i=bd(r.Qa,e,"WriteBatch.set"),o=i[0],a=i[1],s=this.iw.Hd.Ja(a,o,n);return this.ow=this.ow.concat(s.Wa(r.Ua,zc.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.aw(),"string"==typeof e||e instanceof Pf?(cf("WriteBatch.update",arguments,3),r=gd("WriteBatch.update",t,this.iw),i=this.iw.Hd.tu("WriteBatch.update",e,n,o)):(uf("WriteBatch.update",arguments,2),r=gd("WriteBatch.update",t,this.iw),i=this.iw.Hd.Za("WriteBatch.update",e)),this.ow=this.ow.concat(i.Wa(r.Ua,zc.exists(!0))),this},t.prototype.delete=function(t){uf("WriteBatch.delete",arguments,1),this.aw();var e=gd("WriteBatch.delete",t,this.iw);return this.ow=this.ow.concat(new $c(e.Ua,zc.Qe())),this},t.prototype.commit=function(){return this.aw(),this.hw=!0,this.ow.length>0?this.iw.Ud().write(this.ow):Promise.resolve()},t.prototype.aw=function(){if(this.hw)throw new Ys($s.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.qa,e,r)||this).Ua=e,i.firestore=n,i.Qa=r,i.Qd=i.firestore.Ud(),i}return o(e,t),e.sw=function(t,n,r){if(t.length%2!=0)throw new Ys($s.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new e(new nu(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pd(this.Ua.path.p(),this.firestore,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ua.path.N()},enumerable:!0,configurable:!0}),e.prototype.collection=function(t){if(uf("DocumentReference.collection",arguments,1),hf("DocumentReference.collection","non-empty string",1,t),!t)throw new Ys($s.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Zs.$(t);return new pd(this.Ua.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Ef("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Ua.isEqual(t.Ua)&&this.Qa===t.Qa},e.prototype.set=function(t,e){lf("DocumentReference.set",arguments,1,2),e=dd("DocumentReference.set",e);var n=bd(this.Qa,t,"DocumentReference.set"),r=n[0],i=n[1],o=this.firestore.Hd.Ja(i,r,e);return this.Qd.write(o.Wa(this.Ua,zc.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Pf?(cf("DocumentReference.update",arguments,2),n=this.firestore.Hd.tu("DocumentReference.update",t,e,r)):(uf("DocumentReference.update",arguments,1),n=this.firestore.Hd.Za("DocumentReference.update",t)),this.Qd.write(n.Wa(this.Ua,zc.exists(!0)))},e.prototype.delete=function(){return uf("DocumentReference.delete",arguments,0),this.Qd.write([new $c(this.Ua,zc.Qe())])},e.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];lf("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||td(t[i])||(_f("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),df("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return td(t[i])?n=t[i]:(hf("DocumentReference.onSnapshot","function",i,t[i]),ff("DocumentReference.onSnapshot","function",i+1,t[i+1]),ff("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.uw(o,n)},e.prototype.uw=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Zp({next:function(t){if(e.next){var r=t.docs.get(n.Ua);e.next(new cd(n.firestore,n.Ua,r,t.fromCache,t.hasPendingWrites,n.Qa))}},error:r}),o=this.Qd.listen(rl.As(this.Ua.path),i,t);return function(){i.Dd(),n.Qd.qc(o)}},e.prototype.get=function(t){var e=this;return lf("DocumentReference.get",arguments,0,1),vd("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Ud().bd(e.Ua).then((function(t){n(new cd(e.firestore,e.Ua,t,!0,t instanceof tl&&t.Xe,e.Qa))}),r):e.cw(n,r,t)}))},e.prototype.cw=function(t,e,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new Ys($s.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new Ys($s.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},e.prototype.withConverter=function(t){return new e(this.Ua,this.firestore,t)},e}(zf),ud=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),cd=function(){function t(t,e,n,r,i,o){this.iw=t,this.Ua=e,this.lw=n,this._w=r,this.fw=i,this.Qa=o}return t.prototype.data=function(t){var e=this;if(lf("DocumentSnapshot.data",arguments,0,1),t=yd("DocumentSnapshot.data",t),this.lw){if(this.Qa){var n=new ld(this.iw,this.Ua,this.lw,this._w,this.fw,null);return this.Qa.fromFirestore(n,t)}return new ed(this.iw.qa,this.iw.nw(),t.serverTimestamps||"none",(function(t){return new sd(t,e.iw,null)})).Nd(this.lw.fs())}},t.prototype.get=function(t,e){var n=this;if(lf("DocumentSnapshot.get",arguments,1,2),e=yd("DocumentSnapshot.get",e),this.lw){var r=this.lw.data().field(Zf("DocumentSnapshot.get",t));if(null!==r)return new ed(this.iw.qa,this.iw.nw(),e.serverTimestamps||"none",(function(t){return new sd(t,n.iw,n.Qa)})).Nd(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new sd(this.Ua,this.iw,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ud(this.fw,this._w)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ef("isEqual","DocumentSnapshot",1,e);return this.iw===e.iw&&this._w===e._w&&this.Ua.isEqual(e.Ua)&&(null===this.lw?null===e.lw:this.lw.isEqual(e.lw))&&this.Qa===e.Qa},t}(),ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(cd),hd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.qa,n.Hd,e)||this).dw=e,i.firestore=n,i.Qa=r,i}return o(e,t),e.prototype.where=function(t,n,r){uf("Query.where",arguments,3),wf("Query.where",3,r);var i=vf("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=Zf("Query.where",t),a=this.ww(o,i,r);return new e(this.dw.Ps(a),this.firestore,this.Qa)},e.prototype.orderBy=function(t,n){var r;if(lf("Query.orderBy",arguments,1,2),ff("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Ys($s.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Zf("Query.orderBy",t),o=this.Aw(i,r);return new e(this.dw.Vs(o),this.firestore,this.Qa)},e.prototype.limit=function(t){return uf("Query.limit",arguments,1),hf("Query.limit","number",1,t),Tf("Query.limit",1,t),new e(this.dw.gs(t),this.firestore,this.Qa)},e.prototype.limitToLast=function(t){return uf("Query.limitToLast",arguments,1),hf("Query.limitToLast","number",1,t),Tf("Query.limitToLast",1,t),new e(this.dw.ps(t),this.firestore,this.Qa)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cf("Query.startAt",arguments,1);var i=this.pw("Query.startAt",t,n,!0);return new e(this.dw.ys(i),this.firestore,this.Qa)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cf("Query.startAfter",arguments,1);var i=this.pw("Query.startAfter",t,n,!1);return new e(this.dw.ys(i),this.firestore,this.Qa)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cf("Query.endBefore",arguments,1);var i=this.pw("Query.endBefore",t,n,!0);return new e(this.dw.bs(i),this.firestore,this.Qa)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cf("Query.endAt",arguments,1);var i=this.pw("Query.endAt",t,n,!1);return new e(this.dw.bs(i),this.firestore,this.Qa)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Ef("isEqual","Query",1,t);return this.firestore===t.firestore&&this.dw.isEqual(t.dw)&&this.Qa===t.Qa},e.prototype.withConverter=function(t){return new e(this.dw,this.firestore,t)},e.prototype.pw=function(t,e,n,r){if(wf(t,1,e),e instanceof cd)return uf(t,f([e],n),1),this.mw(t,e.lw,r);var i=[e].concat(n);return this.Pw(t,i,r)},e.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];lf("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||td(t[i])||(_f("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),df("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),td(t[i])?n=t[i]:(hf("Query.onSnapshot","function",i,t[i]),ff("Query.onSnapshot","function",i+1,t[i+1]),ff("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Vw(this.dw),this.uw(r,n)},e.prototype.uw=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Zp({next:function(t){e.next&&e.next(new fd(n.firestore,n.dw,t,n.Qa))},error:r}),o=this.firestore.Ud(),a=o.listen(this.dw,i,t);return function(){i.Dd(),o.qc(a)}},e.prototype.get=function(t){var e=this;return lf("Query.get",arguments,0,1),vd("Query.get",t),this.Vw(this.dw),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Ud().vd(e.dw).then((function(t){n(new fd(e.firestore,e.dw,t,e.Qa))}),r):e.cw(n,r,t)}))},e.prototype.cw=function(t,e,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new Ys($s.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},e}(function(){function t(t,e,n){this.qa=t,this.Hd=e,this.dw=n}return t.prototype.ww=function(t,e,n){var r;if(t.L()){if("array-contains"===e||"array-contains-any"===e)throw new Ys($s.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.Tw(n,e);for(var i=[],o=0,a=n;o<a.length;o++){var s=a[o];i.push(this.Ew(s))}r={arrayValue:{values:i}}}else r=this.Ew(n)}else"in"!==e&&"array-contains-any"!==e||this.Tw(n,e),r=this.Hd.eu("Query.where",n,"in"===e);var u=il.create(t,e,r);return this.Iw(u),u},t.prototype.Aw=function(t,e){if(null!==this.dw.startAt)throw new Ys($s.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.dw.endAt)throw new Ys($s.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new dl(t,e);return this.Rw(n),n},t.prototype.mw=function(t,e,n){if(!e)throw new Ys($s.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.dw.orderBy;i<o.length;i++){var a=o[i];if(a.field.L())r.push(Ju(this.qa,e.key));else{var s=e.field(a.field);if(Vu(s))throw new Ys($s.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.N();throw new Ys($s.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new ll(r,n)},t.prototype.Pw=function(t,e,n){var r=this.dw.ds;if(e.length>r.length)throw new Ys($s.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.L()){if("string"!=typeof a)throw new Ys($s.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this.dw.Bs()&&-1!==a.indexOf("/"))throw new Ys($s.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.dw.path.child(Zs.$(a));if(!nu.W(s))throw new Ys($s.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new nu(s);i.push(Ju(this.qa,u))}else{var c=this.Hd.eu(t,a);i.push(c)}}return new ll(i,n)},t.prototype.Vw=function(t){if(t.xs()&&0===t.ds.length)throw new Ys($s.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.Ew=function(t){if("string"==typeof t){if(""===t)throw new Ys($s.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.dw.Bs()&&-1!==t.indexOf("/"))throw new Ys($s.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.dw.path.child(Zs.$(t));if(!nu.W(e))throw new Ys($s.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Ju(this.qa,new nu(e))}if(t instanceof zf)return Ju(this.qa,t.Ua);throw new Ys($s.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bf(t)+".")},t.prototype.Tw=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Ys($s.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ys($s.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new Ys($s.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new Ys($s.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Iw=function(t){if(t instanceof il){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Ms()){var o=this.dw.Rs();if(null!==o&&!o.isEqual(t.field))throw new Ys($s.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this.dw.ms();null!==a&&this.gw(t.field,a)}else if(i||r){var s=null;if(i&&(s=this.dw.Ls(n)),null===s&&r&&(s=this.dw.Ls(e)),null!=s)throw s===t.op?new Ys($s.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ys($s.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.Rw=function(t){if(null===this.dw.ms()){var e=this.dw.Rs();null!==e&&this.gw(e,t.field)}},t.prototype.gw=function(t,e){if(!e.isEqual(t))throw new Ys($s.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}()),fd=function(){function t(t,e,n,r){this.iw=t,this.yw=e,this.bw=n,this.Qa=r,this.vw=null,this.Sw=null,this.metadata=new ud(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.bw.docs._()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bw.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;lf("QuerySnapshot.forEach",arguments,1,2),hf("QuerySnapshot.forEach","function",1,t),this.bw.docs.forEach((function(r){t.call(e,n.Dw(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new hd(this.yw,this.iw,this.Qa)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(_f("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),df("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.bw.qt)throw new Ys($s.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vw&&this.Sw===e||(this.vw=function(t,e,n,r){if(n.Lt._()){var i=0;return n.docChanges.map((function(e){var o=new ld(t,e.doc.key,e.doc,n.fromCache,n.Ot.has(e.doc.key),r);return e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.Lt;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new ld(t,e.doc.key,e.doc,n.fromCache,n.Ot.has(e.doc.key),r),a=-1,s=-1;return 0!==e.type&&(a=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(s=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:md(e.type),doc:i,oldIndex:a,newIndex:s}}))}(this.iw,e,this.bw,this.Qa),this.Sw=e),this.vw},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ef("isEqual","QuerySnapshot",1,e);return this.iw===e.iw&&this.yw.isEqual(e.yw)&&this.bw.isEqual(e.bw)&&this.Qa===e.Qa},t.prototype.Dw=function(t){return new ld(this.iw,t.key,t,this.metadata.fromCache,this.bw.Ot.has(t.key),this.Qa)},t}(),pd=function(t){function e(e,n,r){var i=this;if((i=t.call(this,rl.As(e),n,r)||this).Cw=e,e.length%2!=1)throw new Ys($s.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.N()+" has "+e.length);return i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.dw.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.dw.path.p();return t._()?null:new sd(new nu(t),this.firestore,null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.dw.path.N()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){lf("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Us.t()),hf("CollectionReference.doc","non-empty string",1,t);var e=Zs.$(t);return sd.sw(this.dw.path.child(e),this.firestore,this.Qa)},e.prototype.add=function(t){uf("CollectionReference.add",arguments,1),hf("CollectionReference.add","object",1,this.Qa?this.Qa.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Cw,this.firestore,t)},e}(hd);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){if(void 0===e)return{merge:!1};if(_f(t,e,["merge","mergeFields"]),df(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+bf(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Ys($s.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+bf(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Pf}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new Ys($s.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function yd(t,e){return void 0===e?{}:(_f(t,e,["serverTimestamps"]),yf(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function vd(t,e){ff(t,"object",1,e),e&&(_f(t,e,["source"]),yf(t,0,"source",e.source,["default","server","cache"]))}function gd(t,e,n){if(e instanceof zf){if(e.firestore!==n)throw new Ys($s.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Ef(t,"DocumentReference",1,e)}function md(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ds()}}function bd(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var wd=["length","name"];function _d(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Ys($s.INVALID_ARGUMENT,t)}for(var r=0,i=Object.getOwnPropertyNames(t);r<i.length;r++){var o=i[r];-1===wd.indexOf(o)&&(n[o]=t[o])}return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed=_d(id,"Use firebase.firestore() instead."),Td=_d(od,"Use firebase.firestore().runTransaction() instead."),xd=_d(ad,"Use firebase.firestore().batch() instead."),Sd=_d(sd,"Use firebase.firestore().doc() instead."),Cd=_d(cd),kd=_d(ld),Id=_d(hd),Nd=_d(fd),Pd=_d(pd,"Use firebase.firestore().collection() instead."),Od=_d(Uf,"Use FieldValue.<field>() instead."),Ad=_d(If,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Rd={Firestore:Ed,GeoPoint:Vf,Timestamp:Ks,Blob:Ad,Transaction:Td,WriteBatch:xd,DocumentReference:Sd,DocumentSnapshot:Cd,Query:Id,QueryDocumentSnapshot:kd,QuerySnapshot:Nd,CollectionReference:Pd,FieldPath:Pf,FieldValue:Od,setLogLevel:id.setLogLevel,CACHE_SIZE_UNLIMITED:nd};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){if(t instanceof Array){var e=[];return t.forEach((function(t){e.push(t)})),e.map((function(t){return Dd(t)}))}if("object"==typeof t&&t!=={}){var n=a({},t);return Object.keys(n).forEach((function(t){n[t]=Dd(n[t])})),n}return t}!function(t){!function(t,e){t.INTERNAL.registerComponent(new $("firestore",(function(t){return function(t,e){return new id(t,e,new Xp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Rd)))}(t),t.registerVersion("@firebase/firestore","1.15.5")}(bt);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
bt.registerVersion("firebase","7.15.5","app");var Md=function(){function t(t,e,n){this.label=t,this.action=e,this.args=void 0,this.metadata={},this.artifacts={extra:[]},this.eventType=void 0,this.complex=!1,this.prov=n}return t.prototype.addLabel=function(t){return this.label=t,this},t.prototype.addAction=function(t){return this.action=t,this},t.prototype.addArgs=function(t){return this.args=t,this},t.prototype.addMetadata=function(t){return this.metadata=t,this},t.prototype.addArtifacts=function(t){return this.artifacts=t,this},t.prototype.addExtra=function(t){return this.artifacts.extra.push({time:Date.now(),e:t}),this},t.prototype.addEventType=function(t){return this.eventType=t,this},t.prototype.alwaysStoreState=function(t){return this.complex=t,this},t.prototype.isEphemeral=function(t){return this.ephemeral=t,this},t.prototype.applyAction=function(){this.prov.applyAction(this.label,this.action,this.args,this.metadata,this.artifacts,this.eventType,this.complex,this.ephemeral)},t}();n(45).applyChange;function Ld(t){return"parent"in t&&"state"in t}function Fd(t){return"parent"in t}function Ud(){var t=(new Date).getTime();return t+=(new Date).valueOf(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}function jd(){return(new Date).getTime()}var Vd=n(45).diff;function qd(t,e){return Vd(t,e)}var Bd=n(45).applyChange;function zd(t,e){var n=Dd(t),r=t.nodes[e];if(!r)throw new Error("No such node exists");return n.current=r.id,n}function Wd(){var t={},e={};return{addGlobalObserver:function(e){t.GLOBAL||(t.GLOBAL=[]),t.GLOBAL.push(e)},addObserver:function(e,n){var r=e.join("|");t[r]||(t[r]=[]),t[r].push(n)},addArtifactObserver:function(t){e.ARTIFACT||(e.ARTIFACT=[]),e.ARTIFACT.push(t)},callEvents:function(n,r,i){if(Fd(i)&&function(t){if(e.ARTIFACT&&e.ARTIFACT.length>0&&Fd(t)&&t.artifacts.extra){var n=t.artifacts.extra||[];e.ARTIFACT.forEach((function(t){return t(n)}))}}(i),0!==n.length){!function(e){t.GLOBAL&&t.GLOBAL.length>0&&t.GLOBAL.forEach((function(t){return t(e)}))}(r);var o=[];n.forEach((function(e){var n=e.path,i=[],a=n.join("|");o.includes(a)||(o.push(a),n.forEach((function(t){0===i.length?i.push(t):i.push([i.reverse()[0],t].join("|"))})),i.reverse().forEach((function(e){t[e]&&t[e].forEach((function(t){return t(r)}))})))}))}}}}var Qd=n(45).applyChange,Hd=n(97).decompressFromEncodedURIComponent,Gd=n(97).compressToEncodedURIComponent;function $d(t,e,n,r){void 0===e&&(e=!0),void 0===n&&(n=!1);var i,o,s,u,c,l=function(t){var e,n={id:Ud(),label:"Root",metadata:{createdOn:jd(),type:"Root"},children:[],state:t,getState:function(){return t},ephemeral:!1};return{nodes:(e={},e[n.id]=n,e),root:n.id,current:n.id}}(t),h=Dd(t),p=Wd(),d=void 0;function y(t){var e=l.nodes[l.current].getState(),n=qd(t,e);p.callEvents(n||[],e,l.nodes[l.current])}function v(t,e,n){l=function(t,e,n){var r=Dd(t),i=r.current,o=(Dd(t.nodes[i].getState()),t.nodes[i]),a=void 0,s="",u=!0;Fd(o)?Ld(o)?(a=o.getState(),s=o.id):(a=t.nodes[o.lastStateNode].getState(),s=o.lastStateNode):(u=!1,a=o.getState(),s=o.id);var c=n,l=t.current,h=qd(a,c);void 0===h&&(h=[]),u&&Object.keys(a).length/2<h.length&&(u=!1);var f=u?function(t,e,n,i){return{id:Ud(),label:"Import Node",metadata:{createdOn:jd()},artifacts:{diffs:n,extra:[]},parent:t,children:[],lastStateNode:e,diffs:n,getState:function(){var t=Dd(r.nodes[e].getState()),i=n;return 0===i.length||i.forEach((function(e){Bd(t,null,e)})),t},ephemeral:!1}}(l,s,h):function(t,e,n,r){return{id:Ud(),label:"Import Node",metadata:{createdOn:jd()},artifacts:{diffs:n,extra:[]},parent:t,children:[],state:e,getState:function(){return e},ephemeral:!1}}(l,c,h);return r.nodes[f.id]=f,r.nodes[i].children.push(f.id),r.current=f.id,r}(l,0,t),void 0!==e&&(l.nodes[l.current].label=e),void 0!==n&&(l.nodes[l.current].metadata=n)}function g(t){if(e){var n=new URL(window.location.href),r=new URLSearchParams(n.search);r.delete("provState");r.set("provState",t),window.history.replaceState({},"",n.pathname+"?"+r)}}function m(t){var e={},n=l.nodes[l.current].getState();t?Object.keys(n).forEach((function(t){var r,i=h[t],o=n[t];JSON.stringify(i)!==JSON.stringify(o)&&(e=a(a({},e),((r={})[t]=n[t],r)))})):e=a({},n);var r=e;return""+Gd(JSON.stringify(r))}return n&&r&&(u=r,c=0===bt.apps.length?bt.initializeApp(u):bt.app(),d={config:u,app:c,db:bt.database(c)},o=null==d?void 0:d.db,s=[],i=function(t){for(var e=""+t.root,n=[],r=0,i=Object.keys(t.nodes);r<i.length;r++){var a=i[r];s.includes(a)||(n.push(a),s.push(a))}n.forEach((function(n){var r=JSON.parse(JSON.stringify(t.nodes[n]));o.ref(e+"/nodes/"+n).set(r).then((function(){Date.now(),t.current})).catch((function(t){throw console.log(t),new Error("Something went wrong while logging.")}))}))}),{graph:function(){return Dd(l)},current:function(){return Dd(l.nodes[l.current])},root:function(){return Dd(l.nodes[l.root])},addAction:function(t,e){return new Md(t,e,this)},applyAction:function(t,e,r,o,s,u,c,h){void 0===o&&(o={}),void 0===c&&(c=!1),void 0===h&&(h=!1);var p=Dd(l.nodes[l.current].getState());return u&&(o.type=u),l=function(t,e,n,r,i,o,s,u){void 0===u&&(u={});var c=Dd(t),l=c.current,h=Dd(t.nodes[l].getState()),p=t.nodes[l],d=void 0,y="",v=!0;Fd(p)?Ld(p)?(d=p.getState(),y=p.id):(d=t.nodes[p.lastStateNode].getState(),y=p.lastStateNode):(v=!1,d=p.getState(),y=p.id);var g=o?n.apply(void 0,f([h],o)):n(h),m=t.current,b=qd(d,g);void 0===b&&(b=[]),v&&Object.keys(d).length/2<b.length&&(v=!1);var w=v&&!r?function(t,n,r,i){return{id:Ud(),label:e,metadata:a({createdOn:jd()},s),artifacts:a({diffs:r,extra:[]},u),parent:t,children:[],lastStateNode:n,diffs:r,getState:function(){var t=Dd(c.nodes[n].getState()),e=r;return 0===e.length||e.forEach((function(e){Bd(t,null,e)})),t},ephemeral:i}}(m,y,b,i):function(t,n,r,i){return{id:Ud(),label:e,metadata:a({createdOn:jd()},s),artifacts:a({diffs:r,extra:[]},u),parent:t,children:[],state:n,getState:function(){return n},ephemeral:i}}(m,g,b,i);return c.nodes[w.id]=w,c.nodes[l].children.push(w.id),c.current=w.id,c}(l,t,e,c,h,r,o,s),y(p),g(m(!1)),n&&i(l),l.nodes[l.current].getState()},goToNode:function(t){var e=Dd(l.nodes[l.current].getState());l=zd(l,t),y(e),g(m(!1))},addExtraToNodeArtifact:function(t,e){l=function(t,e,n){var r=Dd(t),i=r.nodes[e];if(!Fd(i))throw new Error("Cannot add artifacts to Root Node");return i.artifacts.extra.push({time:jd(),e:n}),r}(l,t,e),p.callEvents([],l.nodes[t].getState(),l.nodes[t])},addAnnotationToNode:function(t,e){l=function(t,e,n){var r=Dd(t),i=r.nodes[e];if(!Fd(i))throw new Error("Cannot add annotation to Root Node");return i.artifacts.annotation=n,r}(l,t,e),p.callEvents([],l.nodes[t].getState(),l.nodes[t])},getExtraFromArtifact:function(t){return function(t,e){var n=t.nodes[e];if(Fd(n))return n.artifacts.extra;throw new Error("Root does not have artifacts")}(l,t)},goBackOneStep:function(){var t=Dd(l.nodes[l.current].getState()),e=l.nodes[l.current];if(!Fd(e))throw new Error("Already at root");l=zd(l,e.parent),y(t),g(m(!1))},goBackNSteps:function(t){for(var e=Dd(l.nodes[l.current].getState()),n=t,r=Dd(l);t>0;){var i=r.nodes[r.current];if(!Fd(i))throw new Error("Cannot go back "+n+" steps. Reached root after "+(n-t)+" steps");r=zd(l,i.parent),t--}l=r,y(e),g(m(!1))},goBackToNonEphemeral:function(){for(var t=Dd(l.nodes[l.current].getState()),e=Dd(l),n=e.nodes[e.current];;){if(!Fd(n)){e=zd(e,e.root);break}if(!(e=zd(l,n.parent)).nodes[e.current].ephemeral)break;n=e.nodes[e.current]}l=e,y(t),g(m(!1))},goForwardToNonEphemeral:function(){for(var t=Dd(l.nodes[l.current].getState()),e=Dd(l),n=e.nodes[e.current];;){if(!(n.children.length>0))throw new Error("Already at the latest node in this branch or no non ephemeral nodes later");if(!(e=zd(e,n.children.reverse()[0])).nodes[e.current].ephemeral)break;n=e.nodes[e.current]}l=e,y(t),g(m(!1))},goForwardOneStep:function(){var t=Dd(l.nodes[l.current].getState()),e=l.nodes[l.current];if(!(e.children.length>0))throw new Error("Already at the latest node in this branch");l=zd(l,e.children.reverse()[0]),y(t),g(m(!1))},reset:function(){var t=Dd(l.nodes[l.current].getState());l=zd(l,l.root),y(t),g(m(!1))},done:function(){if(e){var t=Dd(l.nodes[l.current].getState());!function(){if(!window||!window.location||!window.location.href)throw new Error("Please use in a browser environment, or set loadFromUrl parameter in initProvenance to false");var t=new URL(window.location.href),e=new URLSearchParams(t.search);if(null!==e.get("provState")){var n=e.get("provState");v(JSON.parse(Hd(n)))}}(),y(t)}},addObserver:function(t,e){var n=l.nodes[l.current].getState();t.forEach((function(e){if(!Object.keys(n).includes(e))throw new Error("Path "+t.join(".")+" does not exist");n=n[e]})),p.addObserver(t,e)},addGlobalObserver:function(t){p.addGlobalObserver(t)},addArtifactObserver:function(t){p.addArtifactObserver(t)},exportState:function(t){return void 0===t&&(t=!1),m(t)},importState:function(t){var e=Dd(l.nodes[l.current].getState()),n=JSON.parse(Hd(t.replace("||","")));v(a(a({},l.nodes[l.current].getState()),n)),y(e)},importLinearStates:function(t,e,n){for(var r=0;r<t.length;r++){var i=Dd(l.nodes[l.current].getState());void 0!==e&&void 0!==n?v(t[r],e[r],n[r]):v(t[r]),y(i)}},exportProvenanceGraph:function(){return JSON.stringify(l)},getDiffFromNode:function(t){var e=l.nodes[t];if(Fd(e)){var n=qd(l.nodes[e.parent].getState(),e.getState());return void 0===n?[]:n}return console.log("Cannot get diff from root node"),[]},importProvenanceGraph:function(t){var e=Dd(l.nodes[l.current].getState());l=JSON.parse(t);var n=function(t){var e=l.nodes[t];if("diffs"in e){var n=Dd(l.nodes[e.lastStateNode].state),r=e.diffs;return 0===r.length||r.forEach((function(t){Qd(n,null,t)})),{value:n}}var i=Dd(e.state);e.getState=function(){return i}};for(var r in l.nodes){var i=n(r);if("object"==typeof i)return i.value}y(e)}}}}).call(this,n(33),n(221))},function(t,e,n){var r=n(130),i=n(40),o=n(330),a=n(4),s=n(116);t.exports=function(t,e,n){var u=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}},,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(9).Symbol;t.exports=r},function(t,e,n){var r=n(263),i=n(11),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(4),i=n(78),o=n(276),a=n(117);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(296),i=n(312),o=n(37),a=n(4),s=n(314);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";var r=n(136),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,n,r){var i;(!(e in t)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)c(t,o[s],e[o[s]],n[o[s]])};l.supportsDescriptors=!!u,t.exports=l},function(t,e,n){var r=n(122),i=n(17),o=n(85),a=n(79),s=n(291),u=Math.max;t.exports=function(t,e,n,c){t=i(t)?t:s(t),n=n&&!c?a(n):0;var l=t.length;return n<0&&(n=u(l+n,0)),o(t)?n<=l&&t.indexOf(e,n)>-1:!!l&&r(t,e,n)>-1}},,,function(t,e,n){var r,i;i=function(t){var e=["N","E","A","D"];function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function c(t){var e=typeof t;return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function l(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}function h(t){var e=0,n=c(t);if("array"===n)return t.forEach((function(t){e+=h(t)})),e+l("[type: array, hash: "+e+"]");if("object"===n){for(var r in t)if(t.hasOwnProperty(r)){var i="[ type: object, key: "+r+", value hash: "+h(t[r])+"]";e+=l(i)}return e}return e+l("[ type: "+n+" ; value: "+t+"]")}function f(t,e,n,r,u,l,p,d){n=n||[],p=p||[];var y=(u=u||[]).slice(0);if(null!=l){if(r){if("function"==typeof r&&r(y,l))return;if("object"==typeof r){if(r.prefilter&&r.prefilter(y,l))return;if(r.normalize){var v=r.normalize(y,l,t,e);v&&(t=v[0],e=v[1])}}}y.push(l)}"regexp"===c(t)&&"regexp"===c(e)&&(t=t.toString(),e=e.toString());var g,m,b,w,_=typeof t,E=typeof e,T="undefined"!==_||p&&p.length>0&&p[p.length-1].lhs&&Object.getOwnPropertyDescriptor(p[p.length-1].lhs,l),x="undefined"!==E||p&&p.length>0&&p[p.length-1].rhs&&Object.getOwnPropertyDescriptor(p[p.length-1].rhs,l);if(!T&&x)n.push(new o(y,e));else if(!x&&T)n.push(new a(y,t));else if(c(t)!==c(e))n.push(new i(y,t,e));else if("date"===c(t)&&t-e!=0)n.push(new i(y,t,e));else if("object"===_&&null!==t&&null!==e){for(g=p.length-1;g>-1;--g)if(p[g].lhs===t){w=!0;break}if(w)t!==e&&n.push(new i(y,t,e));else{if(p.push({lhs:t,rhs:e}),Array.isArray(t)){for(d&&(t.sort((function(t,e){return h(t)-h(e)})),e.sort((function(t,e){return h(t)-h(e)}))),g=e.length-1,m=t.length-1;g>m;)n.push(new s(y,g,new o(void 0,e[g--])));for(;m>g;)n.push(new s(y,m,new a(void 0,t[m--])));for(;g>=0;--g)f(t[g],e[g],n,r,y,g,p,d)}else{var S=Object.keys(t),C=Object.keys(e);for(g=0;g<S.length;++g)b=S[g],(w=C.indexOf(b))>=0?(f(t[b],e[b],n,r,y,b,p,d),C[w]=null):f(t[b],void 0,n,r,y,b,p,d);for(g=0;g<C.length;++g)(b=C[g])&&f(void 0,e[b],n,r,y,b,p,d)}p.length=p.length-1}}else t!==e&&("number"===_&&isNaN(t)&&isNaN(e)||n.push(new i(y,t,e)))}function p(t,e,n,r,i){var o=[];if(f(t,e,o,r,null,null,null,i),n)for(var a=0;a<o.length;++a)n(o[a]);return o}function d(t,e,n,r){var i=p(t,e,r?function(t){t&&r.push(t)}:void 0,n);return r||(i.length?i:void 0)}function y(t,n,r){if(void 0===r&&n&&~e.indexOf(n.kind)&&(r=n),t&&r&&r.kind){for(var i=t,o=-1,a=r.path?r.path.length-1:0;++o<a;)void 0===i[r.path[o]]&&(i[r.path[o]]=void 0!==r.path[o+1]&&"number"==typeof r.path[o+1]?[]:{}),i=i[r.path[o]];switch(r.kind){case"A":r.path&&void 0===i[r.path[o]]&&(i[r.path[o]]=[]),function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":e=u(e,n);break;case"E":case"N":e[n]=r.rhs}return e}(r.path?i[r.path[o]]:i,r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}}return n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(d,{diff:{value:d,enumerable:!0},orderIndependentDiff:{value:function(t,e,n,r){var i=r?function(t){t&&r.push(t)}:void 0,o=p(t,e,i,n,!0);return r||(o.length?o:void 0)},enumerable:!0},observableDiff:{value:p,enumerable:!0},orderIndependentObservableDiff:{value:function(t,e,n,r,i,o,a){return f(t,e,n,r,i,o,a,!0)},enumerable:!0},orderIndepHash:{value:h,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&p(t,e,(function(r){n&&!n(t,e,r)||y(t,e,r)}))},enumerable:!0},applyChange:{value:y,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":case"E":o[r.path[i]]=r.lhs;break;case"N":delete o[r.path[i]]}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":case"E":e[n]=r.lhs;break;case"N":e=u(e,n)}return e}(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),d.DeepDiff=d,t&&(t.DeepDiff=d),d}(this),void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r=n(227),i=n(228),o=n(229),a=n(230),s=n(231);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(34);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(25)(Object,"create");t.exports=r},function(t,e,n){var r=n(251);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){(function(t){var r=n(9),i=n(264),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(74)(t))},function(t,e,n){var r=n(265),i=n(77),o=n(266),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(37),i=n(112),o=n(114);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(15),i=n(11);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(38),i=n(27);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(127),i=n(295)(r);t.exports=i},function(t,e,n){var r=n(72),i=n(299),o=n(300);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},,,,,,,,,,function(t,e,n){var r=n(46),i=n(232),o=n(233),a=n(234),s=n(235),u=n(236);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(25)(n(9),"Map");t.exports=r},function(t,e,n){var r=n(243),i=n(250),o=n(252),a=n(253),s=n(254);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(103);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(17),i=n(11);t.exports=function(t){return i(t)&&r(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(4),i=n(55),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(124);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(122);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(15),i=n(106),o=n(11),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(t,e,n){var r=n(72);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(15),i=n(4),o=n(11);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},function(t,e,n){"use strict";for(var r=function(t){return null!==t&&!Array.isArray(t)&&"object"==typeof t},i={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},o=0;o<24;o+=1)i[112+o]="F"+(o+1);for(var a=0;a<26;a+=1){var s=a+65;i[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var u={codes:i,getCode:function(t){return r(t)?t.keyCode||t.which||this[t.key]:this[t]},getKey:function(t){var e=r(t);if(e&&t.key)return t.key;var n=i[e?t.keyCode||t.which:t];return Array.isArray(n)&&(n=e?n[t.shiftKey?1:0]:n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};u.Spacebar=u[" "],u.Digit0=u[0],u.Digit1=u[1],u.Digit2=u[2],u.Digit3=u[3],u.Digit4=u[4],u.Digit5=u[5],u.Digit6=u[6],u.Digit7=u[7],u.Digit8=u[8],u.Digit9=u[9],u.Tilde=u["~"],u.GraveAccent=u["`"],u.ExclamationPoint=u["!"],u.AtSign=u["@"],u.PoundSign=u["#"],u.PercentSign=u["%"],u.Caret=u["^"],u.Ampersand=u["&"],u.PlusSign=u["+"],u.MinusSign=u["-"],u.EqualsSign=u["="],u.DivisionSign=u["/"],u.MultiplicationSign=u["*"],u.Comma=u[","],u.Decimal=u["."],u.Colon=u[":"],u.Semicolon=u[";"],u.Pipe=u["|"],u.BackSlash=u["\\"],u.QuestionMark=u["?"],u.SingleQuote=u["'"],u.DoubleQuote=u['"'],u.LeftCurlyBrace=u["{"],u.RightCurlyBrace=u["}"],u.LeftParenthesis=u["("],u.RightParenthesis=u[")"],u.LeftAngleBracket=u["<"],u.RightAngleBracket=u[">"],u.LeftSquareBracket=u["["],u.RightSquareBracket=u["]"],t.exports=u},function(t,e,n){var r=n(334),i=n(124),o=n(125);t.exports=function(t,e,n){return e=i(e),void 0===n?(n=e,e=0):n=i(n),t=o(t),r(t,e,n)}},function(t,e,n){"use strict";(function(t){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var i=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:u(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?l:10===t?h:l||h}function p(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function d(t){return null!==t.parentNode?d(t.parentNode):t}function y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(u):u;var c=d(t);return c.host?y(c.host,e):y(t,d(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(e,"top"),i=v(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function m(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function b(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function w(t){var e=t.body,n=t.documentElement,r=f(10)&&getComputedStyle(n);return{height:b("Height",e,n,r),width:b("Width",e,n,r)}}var _=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function S(t){return x({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=v(t,"top"),r=v(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?w(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,u=o.height||t.clientHeight||i.height,c=t.offsetWidth-s,l=t.offsetHeight-u;if(c||l){var h=a(t);c-=m(h,"x"),l-=m(h,"y"),i.width-=c,i.height-=l}return S(i)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===e.nodeName,o=C(t),s=C(e),c=u(t),l=a(e),h=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=S({top:o.top-s.top-h,left:o.left-s.left-p,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var y=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);d.top-=h-y,d.bottom-=h-y,d.left-=p-v,d.right-=p-v,d.marginTop=y,d.marginLeft=v}return(r&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(d=g(d,e)),d}function I(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=k(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:v(n),s=e?0:v(n,"left"),u={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return S(u)}function N(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===a(t,"position"))return!0;var n=s(t);return!!n&&N(n)}function P(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function O(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?P(t):y(t,c(e));if("viewport"===r)o=I(a,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=u(s(e))).nodeName&&(l=t.ownerDocument.documentElement):l="window"===r?t.ownerDocument.documentElement:r;var h=k(l,a,i);if("HTML"!==l.nodeName||N(a))o=h;else{var f=w(t.ownerDocument),p=f.height,d=f.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=d+h.left}}var v="number"==typeof(n=n||0);return o.left+=v?n:n.left||0,o.top+=v?n:n.top||0,o.right-=v?n:n.right||0,o.bottom-=v?n:n.bottom||0,o}function A(t){return t.width*t.height}function R(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=O(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map((function(t){return x({key:t},s[t],{area:A(s[t])})})).sort((function(t,e){return e.area-t.area})),c=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,h=t.split("-")[1];return l+(h?"-"+h:"")}function D(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?P(e):y(e,c(n));return k(n,i,r)}function M(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function F(t,e,n){n=n.split("-")[0];var r=M(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=e[a]+e[u]/2-r[u]/2,i[s]=n===s?e[s]-r[c]:e[L(s)],i}function U(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function j(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=U(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&o(n)&&(e.offsets.popper=S(e.offsets.popper),e.offsets.reference=S(e.offsets.reference),e=n(e,t))})),e}function V(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=R(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=F(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=j(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function q(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function B(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function z(){return this.state.isDestroyed=!0,q(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function W(t){var e=t.ownerDocument;return e?e.defaultView:window}function Q(t,e,n,r){n.updateBound=r,W(t).addEventListener("resize",n.updateBound,{passive:!0});var i=u(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),o||t(u(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=Q(this.reference,this.options,this.state,this.scheduleUpdate))}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,W(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function $(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Y(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&$(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var K=n&&/Firefox/i.test(navigator.userAgent);function X(t,e,n){var r=U(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=J.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(t),r=Z.slice(n+1).concat(Z.slice(0,n));return e?r.reverse():r}var et="flip",nt="clockwise",rt="counterclockwise";function it(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(U(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){$(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var ot={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:T({},u,o[u]),end:T({},u,o[u]+o[c]-a[c])};t.offsets.popper=x({},a,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=$(+n)?[+n,0]:it(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var r=B("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=O(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=u;var c=e.priority,l=t.offsets.popper,h={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),T({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),T({},n,r)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=x({},l,h[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(t.offsets.popper[u]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!X(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,u=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",h=c?"Top":"Left",f=h.toLowerCase(),p=c?"left":"top",d=c?"bottom":"right",y=M(r)[l];u[d]-y<s[f]&&(t.offsets.popper[f]-=s[f]-(u[d]-y)),u[f]+y>s[d]&&(t.offsets.popper[f]+=u[f]+y-s[d]),t.offsets.popper=S(t.offsets.popper);var v=u[f]+u[l]/2-y/2,g=a(t.instance.popper),m=parseFloat(g["margin"+h]),b=parseFloat(g["border"+h+"Width"]),w=v-t.offsets.popper[f]-m-b;return w=Math.max(Math.min(s[l]-y,w),0),t.arrowElement=r,t.offsets.arrow=(T(n={},f,Math.round(w)),T(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(q(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=O(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=L(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case et:a=[r,i];break;case nt:a=tt(r);break;case rt:a=tt(r,!0);break;default:a=e.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],i=L(r);var c=t.offsets.popper,l=t.offsets.reference,h=Math.floor,f="left"===r&&h(c.right)>h(l.left)||"right"===r&&h(c.left)<h(l.right)||"top"===r&&h(c.bottom)>h(l.top)||"bottom"===r&&h(c.top)<h(l.bottom),p=h(c.left)<h(n.left),d=h(c.right)>h(n.right),y=h(c.top)<h(n.top),v=h(c.bottom)>h(n.bottom),g="left"===r&&p||"right"===r&&d||"top"===r&&y||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(m&&"start"===o&&p||m&&"end"===o&&d||!m&&"start"===o&&y||!m&&"end"===o&&v),w=!!e.flipVariationsByContent&&(m&&"start"===o&&d||m&&"end"===o&&p||!m&&"start"===o&&v||!m&&"end"===o&&y),_=b||w;(f||g||_)&&(t.flipped=!0,(f||g)&&(r=a[u+1]),_&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=x({},t.offsets.popper,F(t.instance.popper,t.offsets.reference,t.placement)),t=j(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=L(e),t.offsets.popper=S(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!X(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=U(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=U(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=p(t.instance.popper),u=C(s),c={position:i.position},l=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?l||h||u%2==c%2?o:a:s,p=e?o:s;return{left:f(u%2==1&&c%2==1&&!h&&e?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(t,window.devicePixelRatio<2||!K),h="bottom"===n?"top":"bottom",f="right"===r?"left":"right",d=B("transform"),y=void 0,v=void 0;if(v="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,y="right"===f?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&d)c[d]="translate3d("+y+"px, "+v+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,m="right"===f?-1:1;c[h]=v*g,c[f]=y*m,c.willChange=h+", "+f}var b={"x-placement":t.placement};return t.attributes=x({},b,t.attributes),t.styles=x({},c,t.styles),t.arrowStyles=x({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Y(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&Y(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=D(i,e,t,n.positionFixed),a=R(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),Y(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},at=function(){function t(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=x({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},t.Defaults.modifiers,a.modifiers)).forEach((function(e){r.options.modifiers[e]=x({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return x({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&o(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return E(t,[{key:"update",value:function(){return V.call(this)}},{key:"destroy",value:function(){return z.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();at.Utils=("undefined"!=typeof window?window:t).PopperUtils,at.placements=J,at.Defaults=ot,e.a=at}).call(this,n(33))},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(0)),i=o(n(361));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||i.default,t.exports=e.default},,,,,,,,function(t,e,n){var r,i=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var n=o._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":o._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var a=e.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(e){if(null==e)return o.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var a=[];return n.forEach((function(e){a.push(t(e))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return o._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,o,a={},s={},u="",c="",l="",h=2,f=3,p=2,d=[],y=0,v=0;for(o=0;o<t.length;o+=1)if(u=t.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=f++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)y<<=1,v==e-1?(v=0,d.push(n(y)),y=0):v++;for(i=l.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}else{for(i=1,r=0;r<p;r++)y=y<<1|i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}0==--h&&(h=Math.pow(2,p),p++),delete s[l]}else for(i=a[l],r=0;r<p;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1;0==--h&&(h=Math.pow(2,p),p++),a[c]=f++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)y<<=1,v==e-1?(v=0,d.push(n(y)),y=0):v++;for(i=l.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}else{for(i=1,r=0;r<p;r++)y=y<<1|i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}0==--h&&(h=Math.pow(2,p),p++),delete s[l]}else for(i=a[l],r=0;r<p;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1;0==--h&&(h=Math.pow(2,p),p++)}for(i=2,r=0;r<p;r++)y=y<<1|1&i,v==e-1?(v=0,d.push(n(y)),y=0):v++,i>>=1;for(;;){if(y<<=1,v==e-1){d.push(n(y));break}v++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,o,a,s,u,c,l,h=[],f=4,p=4,d=3,y="",v=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)h[i]=i;for(a=0,u=Math.pow(2,2),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;l=t(a);break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;l=t(a);break;case 2:return""}for(h[3]=l,o=l,v.push(l);;){if(g.index>e)return"";for(a=0,u=Math.pow(2,d),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(l=a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;h[p++]=t(a),l=p-1,f--;break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;h[p++]=t(a),l=p-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),h[l])y=h[l];else{if(l!==p)return null;y=o+o.charAt(0)}v.push(y),h[p++]=o+y.charAt(0),o=y,0==--f&&(f=Math.pow(2,d),d++)}}};return o}();void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e){},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(33))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(73),i=n(34);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e,n){var r=n(25),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(255)();t.exports=r},function(t,e,n){var r=n(9).Uint8Array;t.exports=r},function(t,e,n){var r=n(107)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(73),i=n(34),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(111),i=n(270),o=n(17);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(269),i=n(36),o=n(4),a=n(51),s=n(53),u=n(52),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),h=!n&&!l&&a(t),f=!n&&!l&&!h&&u(t),p=n||l||h||f,d=p?r(t.length,String):[],y=d.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}},function(t,e,n){var r=n(113),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(273),i=n(274)(r);t.exports=i},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(34),i=n(17),o=n(53),a=n(10);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(118);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(35),i=n(39),o=n(4),a=n(55),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(284),i=n(120);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(38),i=n(36),o=n(4),a=n(53),s=n(76),u=n(27);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,h=!1;++c<l;){var f=u(e[c]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++c!=l?h:!!(l=null==t?0:t.length)&&s(l)&&a(f,l)&&(o(t)||i(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(123),i=n(289),o=n(290);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(125);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(10),i=n(55),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(50),i=n(293),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(104),i=n(18);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(298),i=n(11);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(58),i=n(130),o=n(59);t.exports=function(t,e,n,a,s,u){var c=1&n,l=t.length,h=e.length;if(l!=h&&!(c&&h>l))return!1;var f=u.get(t);if(f&&u.get(e))return f==e;var p=-1,d=!0,y=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++p<l;){var v=t[p],g=e[p];if(a)var m=c?a(g,v,p,e,t,u):a(v,g,p,t,e,u);if(void 0!==m){if(m)continue;d=!1;break}if(y){if(!i(e,(function(t,e){if(!o(y,e)&&(v===t||s(v,t,n,a,u)))return y.push(e)}))){d=!1;break}}else if(v!==g&&!s(v,g,n,a,u)){d=!1;break}}return u.delete(t),u.delete(e),d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(308),i=n(71),o=n(309),a=n(133),s=n(310),u=n(15),c=n(101),l=c(r),h=c(i),f=c(o),p=c(a),d=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=y},function(t,e,n){var r=n(25)(n(9),"Set");t.exports=r},function(t,e,n){var r=n(10);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(137),o=Object.keys,a=o?function(t){return o(t)}:n(350),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){"use strict";var r=n(139),i=n(354),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o);t.exports=function(){return s(r,a,arguments)},t.exports.apply=function(){return s(r,o,arguments)}},function(t,e,n){"use strict";var r=n(353);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";(function(e){var r=e.Symbol,i=n(355);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,n(33))},function(t,e,n){"use strict";var r=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){"use strict";var r=n(141);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},function(t,e,n){"use strict";var r=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var r=n(143),i=n(41).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},function(t,e,n){var r=n(226),i=n(272)((function(t,e,n){r(t,e,n)}));t.exports=i},function(t,e,n){var r=n(281),i=n(285)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},function(t,e,n){var r=n(294),i=n(57),o=n(40),a=n(317),s=n(4);t.exports=function(t,e,n){var u=s(t)?r:a,c=arguments.length<3;return u(t,o(e,4),n,c,i)}},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=t[c],h=e[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},function(t,e,n){var r=n(115),i=n(322),o=n(37),a=Object.prototype.toString,s=i((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=a.call(e)),t[e]=n}),r(o));t.exports=s},function(t,e,n){"use strict";t.exports=n(324)},function(t,e,n){var r=n(328)(n(329));t.exports=r},function(t,e,n){var r=n(331);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(15),i=n(11);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(15),i=n(11);t.exports=function(t){return!0===t||!1===t||i(t)&&"[object Boolean]"==r(t)}},function(t,e,n){t.exports=n(335)},function(t,e){t.exports=function(t){return void 0===t}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e,n){var r=n(136),i=n(351),o=n(352),a=n(357),s=n(358),u=n(360),c=Date.prototype.getTime;function l(t,e,n){var p=n||{};return!!(p.strict?o(t,e):t===e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?p.strict?o(t,e):t==e:function(t,e,n){var o,p;if(typeof t!=typeof e)return!1;if(h(t)||h(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var d=a(t),y=a(e);if(d!==y)return!1;if(d||y)return t.source===e.source&&s(t)===s(e);if(u(t)&&u(e))return c.call(t)===c.call(e);var v=f(t),g=f(e);if(v!==g)return!1;if(v||g){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;try{var m=r(t),b=r(e)}catch(t){return!1}if(m.length!==b.length)return!1;for(m.sort(),b.sort(),o=m.length-1;o>=0;o--)if(m[o]!=b[o])return!1;for(o=m.length-1;o>=0;o--)if(p=m[o],!l(t[p],e[p],n))return!1;return!0}(t,e,p))}function h(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(98),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}function _(){}function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var T=E.prototype=new _;T.constructor=E,r(T,w.prototype),T.isPureReactComponent=!0;var x={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:x.current}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var N=/\/+/g,P=[];function O(t,e,n,r){if(P.length){var i=P.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function A(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function R(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+D(s=e[c],c);u+=t(s,l,r,i)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=v&&e[v]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+D(s,c++),r,i);else if("object"===s)throw r=""+e,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function D(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function M(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(N,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),R(t,L,e=O(e,o,r,i)),A(e)}var U={current:null};function j(){var t=U.current;if(null===t)throw Error(g(321));return t}var V={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;R(t,M,e=O(null,null,e,n)),A(e)},count:function(t){return R(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!I(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=s,e.Profiler=c,e.PureComponent=E,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null==t)throw Error(g(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=x.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)S.call(e,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return j().useCallback(t,e)},e.useContext=function(t,e){return j().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return j().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return j().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return j().useLayoutEffect(t,e)},e.useMemo=function(t,e){return j().useMemo(t,e)},e.useReducer=function(t,e,n){return j().useReducer(t,e,n)},e.useRef=function(t){return j().useRef(t)},e.useState=function(t){return j().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var r=n(224);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){var r=n(70),i=n(102),o=n(104),a=n(256),s=n(10),u=n(110),c=n(108);t.exports=function t(e,n,l,h,f){e!==n&&o(n,(function(o,u){if(f||(f=new r),s(o))a(e,n,u,l,t,h,f);else{var p=h?h(c(e,u),o,u+"",e,n,f):void 0;void 0===p&&(p=o),i(e,u,p)}}),u)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(47),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(47);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(47);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(47);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(46);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(46),i=n(71),o=n(72);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(28),i=n(240),o=n(10),a=n(101),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(35),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,i=n(241),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(9)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(244),i=n(46),o=n(71);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(245),i=n(246),o=n(247),a=n(248),s=n(249);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(48);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(48),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(48),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(48);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(49);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(49);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(49);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(49);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(102),i=n(257),o=n(258),a=n(260),s=n(261),u=n(36),c=n(4),l=n(75),h=n(51),f=n(28),p=n(10),d=n(83),y=n(52),v=n(108),g=n(267);t.exports=function(t,e,n,m,b,w,_){var E=v(t,n),T=v(e,n),x=_.get(T);if(x)r(t,n,x);else{var S=w?w(E,T,n+"",t,e,_):void 0,C=void 0===S;if(C){var k=c(T),I=!k&&h(T),N=!k&&!I&&y(T);S=T,k||I||N?c(E)?S=E:l(E)?S=a(E):I?(C=!1,S=i(T,!0)):N?(C=!1,S=o(T,!0)):S=[]:d(T)||u(T)?(S=E,u(E)?S=g(E):p(E)&&!f(E)||(S=s(T))):C=!1}C&&(_.set(T,S),b(S,T,m,w,_),_.delete(T)),r(t,n,S)}}},function(t,e,n){(function(t){var r=n(9),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(74)(t))},function(t,e,n){var r=n(259);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(105);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(262),i=n(106),o=n(50);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(10),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(15),i=n(11);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(15),i=n(76),o=n(11),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){(function(t){var r=n(100),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(74)(t))},function(t,e,n){var r=n(268),i=n(110);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(109),i=n(73);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(10),i=n(50),o=n(271),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(54),i=n(116);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}},function(t,e,n){var r=n(115),i=n(103),o=n(37),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(113),i=n(38),o=n(278),a=n(279),s=n(27);t.exports=function(t,e,n){e=i(e,t);var u=null==(t=a(t,e))?t:t[s(o(e))];return null==u?void 0:r(u,t,n)}},function(t,e,n){var r=n(277),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(84);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(56),i=n(280);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(282),i=n(119);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},function(t,e,n){var r=n(56),i=n(283),o=n(38);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&i(u,o(c,t),l)}return u}},function(t,e,n){var r=n(109),i=n(38),o=n(53),a=n(10),s=n(27);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,h=l-1,f=t;null!=f&&++c<l;){var p=s(e[c]),d=n;if(c!=h){var y=f[p];void 0===(d=u?u(y,p,f):void 0)&&(d=a(y)?y:o(e[c+1])?[]:{})}r(f,p,d),f=f[p]}return t}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(286),i=n(112),o=n(114);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(287);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(121),i=n(288);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(35),i=n(36),o=n(4),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(292),i=n(18);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(39);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e,n){var r=n(107)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e,n){var r=n(17);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(297),i=n(311),o=n(135);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(70),i=n(128);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var l=(c=n[a])[0],h=t[l],f=c[1];if(u&&c[2]){if(void 0===h&&!(l in t))return!1}else{var p=new r;if(o)var d=o(h,f,l,t,e,p);if(!(void 0===d?i(f,h,3,o,p):d))return!1}}return!0}},function(t,e,n){var r=n(70),i=n(129),o=n(301),a=n(303),s=n(132),u=n(4),c=n(51),l=n(52),h="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,d,y){var v=u(t),g=u(e),m=v?"[object Array]":s(t),b=g?"[object Array]":s(e),w=(m="[object Arguments]"==m?h:m)==h,_=(b="[object Arguments]"==b?h:b)==h,E=m==b;if(E&&c(t)){if(!c(e))return!1;v=!0,w=!1}if(E&&!w)return y||(y=new r),v||l(t)?i(t,e,n,p,d,y):o(t,e,m,n,p,d,y);if(!(1&n)){var T=w&&f.call(t,"__wrapped__"),x=_&&f.call(e,"__wrapped__");if(T||x){var S=T?t.value():t,C=x?e.value():e;return y||(y=new r),d(S,C,n,p,y)}}return!!E&&(y||(y=new r),a(t,e,n,p,d,y))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(35),i=n(105),o=n(34),a=n(129),s=n(302),u=n(80),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),t.size!=e.size&&!d)return!1;var y=f.get(t);if(y)return y==e;r|=2,f.set(t,e);var v=a(p(t),p(e),r,c,h,f);return f.delete(t),v;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(304),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!u)return!1;for(var h=l;h--;){var f=c[h];if(!(u?f in e:i.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var y=u;++h<l;){var v=t[f=c[h]],g=e[f];if(o)var m=u?o(g,v,f,e,t,s):o(v,g,f,t,e,s);if(!(void 0===m?v===g||a(v,g,n,o,s):m)){d=!1;break}y||(y="constructor"==f)}if(d&&!y){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(d=!1)}return s.delete(t),s.delete(e),d}},function(t,e,n){var r=n(305),i=n(306),o=n(18);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(121),i=n(4);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(131),i=n(307),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(25)(n(9),"DataView");t.exports=r},function(t,e,n){var r=n(25)(n(9),"Promise");t.exports=r},function(t,e,n){var r=n(25)(n(9),"WeakMap");t.exports=r},function(t,e,n){var r=n(134),i=n(18);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(128),i=n(313),o=n(119),a=n(78),s=n(134),u=n(135),c=n(27);t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(56);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(315),i=n(316),o=n(78),a=n(27);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(56);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}},function(t,e,n){var r=n(319),i=n(54),o=n(75),a=i((function(t,e){return o(t)?r(t,e):[]}));t.exports=a},function(t,e,n){var r=n(58),i=n(81),o=n(82),a=n(39),s=n(77),u=n(59);t.exports=function(t,e,n,c){var l=-1,h=i,f=!0,p=t.length,d=[],y=e.length;if(!p)return d;n&&(e=a(e,s(n))),c?(h=o,f=!1):e.length>=200&&(h=u,f=!1,e=new r(e));t:for(;++l<p;){var v=t[l],g=null==n?v:n(v);if(v=c||0!==v?v:0,f&&g==g){for(var m=y;m--;)if(e[m]===g)continue t;d.push(v)}else h(e,g,c)||d.push(v)}return d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(321);n(5);var i=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var p=function(){function t(e){a(this,t),c(this,"handlers",void 0),this.handlers=e.slice(0)}return u(t,[{key:"addHandlers",value:function(e){for(var n=this.handlers.slice(0),r=e.length,i=0;i<r;i+=1)n.push(e[i]);return new t(n)}},{key:"dispatchEvent",value:function(t,e){var n=this.handlers.length-1;if(e){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](t));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(t)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===e.indexOf(o)&&n.push(o)}return new t(n)}}]),t}();function d(t){var e=new Map;return t.forEach((function(t,n){e.set(n,t)})),e}function y(t){return Array.isArray(t)?t:[t]}function v(t){return"document"===t?document:"window"===t?window:function(t){return null!==t&&"object"===o(t)&&t.hasOwnProperty("current")}(t)?t.current||document:t||document}var g=function(){function t(e,n){a(this,t),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=e}return u(t,[{key:"addHandlers",value:function(e,n){var r=d(this.handlerSets);if(r.has(e)){var i=r.get(e);r.set(e,i.addHandlers(n))}else r.set(e,new p(n));return new t(this.poolName,r)}},{key:"dispatchEvent",value:function(t,e){var n=this.handlerSets.get(t),r="default"===this.poolName;n&&n.dispatchEvent(e,r)}},{key:"hasHandlers",value:function(t){if(!t)return this.handlerSets.size>0;var e=this.handlerSets.get(t);return!!e&&e.hasHandlers()}},{key:"removeHandlers",value:function(e,n){var r=d(this.handlerSets);if(!r.has(e))return new t(this.poolName,r);var i=r.get(e).removeHandlers(n);return i.hasHandlers()?r.set(e,i):r.delete(e),new t(this.poolName,r)}}]),t}();c(g,"createByType",(function(t,e,n){var r=new Map;return r.set(e,new p(n)),new g(t,r)}));var m=function(){function t(e){var n=this;a(this,t),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(t){return function(e){n.pools.forEach((function(n){n.dispatchEvent(t,e)}))}})),this.target=e}return u(t,[{key:"addHandlers",value:function(t,e,n){if(this.pools.has(t)){var r=this.pools.get(t);this.pools.set(t,r.addHandlers(e,n))}else this.pools.set(t,g.createByType(t,e,n));this.handlers.has(e)||this.addTargetHandler(e)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(t,e,n){if(this.pools.has(t)){var r=this.pools.get(t).removeHandlers(e,n);r.hasHandlers()?this.pools.set(t,r):this.pools.delete(t);var i=!1;this.pools.forEach((function(t){return i=i||t.hasHandlers(e)})),i||this.removeTargetHandler(e)}}},{key:"addTargetHandler",value:function(t){var e=this.createEmitter(t);this.handlers.set(t,e),this.target.addEventListener(t,e,!0)}},{key:"removeTargetHandler",value:function(t){this.handlers.has(t)&&(this.target.removeEventListener(t,this.handlers.get(t),!0),this.handlers.delete(t))}}]),t}(),b=new(function(){function t(){var e=this;a(this,t),c(this,"targets",new Map),c(this,"getTarget",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=v(t);if(e.targets.has(r))return e.targets.get(r);if(!n)return null;var i=new m(r);return e.targets.set(r,i),i})),c(this,"removeTarget",(function(t){e.targets.delete(v(t))}))}return u(t,[{key:"sub",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,a=n.pool,s=void 0===a?"default":a;this.getTarget(o).addHandlers(s,t,y(e))}}},{key:"unsub",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,a=n.pool,s=void 0===a?"default":a,u=this.getTarget(o,!1);u&&(u.removeHandlers(s,t,y(e)),u.hasHandlers()||this.removeTarget(o))}}}]),t}()),w=function(t){function e(){return a(this,e),f(this,h(e).apply(this,arguments))}return l(e,i.PureComponent),u(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(t){this.unsubscribe(t),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(t){var e=t.name,n=t.on,r=t.pool,i=t.target;b.sub(e,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(t){var e=t.name,n=t.on,r=t.pool,i=t.target;b.unsub(e,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),e}();c(w,"defaultProps",{pool:"default",target:"document"}),w.propTypes={},e.instance=b,e.default=w},function(t,e,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r=n(323);t.exports=function(t,e){return function(n,i){return r(n,t,e(i),{})}}},function(t,e,n){var r=n(127);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,n(t),r,o)})),i}},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case v:case c:return t;default:return e}}case o:return e}}}function T(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return T(t)||E(t)===h},e.isConcurrentMode=T,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===v},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===u||t===s||t===d||t===y||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===m)},e.typeOf=E},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(98),o=n(326);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var u=!1,c=null,l=!1,h=null,f={onError:function(t){u=!0,c=t}};function p(t,e,n,r,i,o,a,l,h){u=!1,c=null,s.apply(f,arguments)}var d=null,y=null,v=null;function g(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),function(t,e,n,r,i,o,s,f,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var y=c;u=!1,c=null,l||(l=!0,h=y)}}(r,e,void 0,t),t.currentTarget=null}var m=null,b={};function w(){if(m)for(var t in b){var e=b[t],n=m.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!E[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in E[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;if(T.hasOwnProperty(u))throw Error(a(99,u));T[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&_(c[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function _(t,e,n){if(x[t])throw Error(a(100,t));x[t]=e,S[t]=e.eventTypes[n].dependencies}var E=[],T={},x={},S={};function C(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(a(102,e));b[e]=r,n=!0}}n&&w()}var k=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),I=null,N=null,P=null;function O(t){if(t=y(t)){if("function"!=typeof I)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),I(t.stateNode,t.type,e))}}function A(t){N?P?P.push(t):P=[t]:N=t}function R(){if(N){var t=N,e=P;if(P=N=null,O(t),e)for(t=0;t<e.length;t++)O(e[t])}}function D(t,e){return t(e)}function M(t,e,n,r,i){return t(e,n,r,i)}function L(){}var F=D,U=!1,j=!1;function V(){null===N&&null===P||(L(),R())}function q(t,e,n){if(j)return t(e,n);j=!0;try{return F(t,e,n)}finally{j=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},Q={};function H(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){G[t]=new H(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];G[e]=new H(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){G[t]=new H(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){G[t]=new H(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){G[t]=new H(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){G[t]=new H(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){G[t]=new H(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){G[t]=new H(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){G[t]=new H(t,5,!1,t.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace($,Y);G[e]=new H(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace($,Y);G[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace($,Y);G[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){G[t]=new H(t,1,!1,t.toLowerCase(),null,!1)})),G.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){G[t]=new H(t,1,!1,t.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(t,e,n,r){var i=G.hasOwnProperty(e)?G[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!z.call(Q,t)||!z.call(W,t)&&(B.test(t)?Q[t]=!0:(W[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,rt=Z?Symbol.for("react.strict_mode"):60108,it=Z?Symbol.for("react.profiler"):60114,ot=Z?Symbol.for("react.provider"):60109,at=Z?Symbol.for("react.context"):60110,st=Z?Symbol.for("react.concurrent_mode"):60111,ut=Z?Symbol.for("react.forward_ref"):60112,ct=Z?Symbol.for("react.suspense"):60113,lt=Z?Symbol.for("react.suspense_list"):60120,ht=Z?Symbol.for("react.memo"):60115,ft=Z?Symbol.for("react.lazy"):60116,pt=Z?Symbol.for("react.block"):60121,dt="function"==typeof Symbol&&Symbol.iterator;function yt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case ct:return"Suspense";case lt:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return vt(t.type);case pt:return vt(t.render);case ft:if(t=1===t._status?t._result:null)return vt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=vt(t.type);n=null,r&&(n=vt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Et(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function xt(t,e){null!=(e=e.checked)&&X(t,"checked",e,!1)}function St(t,e){xt(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?kt(t,e.type,n):e.hasOwnProperty("defaultValue")&&kt(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ct(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function kt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function It(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ot(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function At(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Dt="http://www.w3.org/1999/xhtml",Mt="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ut,jt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Mt||"innerHTML"in t)t.innerHTML=e;else{for((Ut=Ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function qt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:qt("Animation","AnimationEnd"),animationiteration:qt("Animation","AnimationIteration"),animationstart:qt("Animation","AnimationStart"),transitionend:qt("Transition","TransitionEnd")},zt={},Wt={};function Qt(t){if(zt[t])return zt[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Wt)return zt[t]=n[e];return t}k&&(Wt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Ht=Qt("animationend"),Gt=Qt("animationiteration"),$t=Qt("animationstart"),Yt=Qt("transitionend"),Kt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"==typeof WeakMap?WeakMap:Map);function Jt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)g(t,e[r],n[r]);else e&&g(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(l)throw t=h,l=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!k)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var le=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function fe(t,e,n,r){if(le.length){var i=le.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<E.length;u++){var c=E[u];c&&(c=c.extractEvents(r,e,o,i,a))&&(s=re(s,c))}se(s)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":$e(e,"scroll",!0);break;case"focus":case"blur":$e(e,"focus",!0),$e(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&$e(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Kt.indexOf(t)&&Ge(t,e)}n.set(t,null)}}var ye,ve,ge,me=!1,be=[],we=null,_e=null,Ee=null,Te=new Map,xe=new Map,Se=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ke="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ne(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(e.pointerId)}}function Pe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ie(e,n,r,i,o),null!==e&&(null!==(e=In(e))&&ve(e)),t):(t.eventSystemFlags|=r,t)}function Oe(t){var e=kn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ge(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ae(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=In(e);return null!==n&&ve(n),t.blockedOn=e,!1}return!0}function Re(t,e,n){Ae(t)&&n.delete(e)}function De(){for(me=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=In(t.blockedOn))&&ye(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Ae(we)&&(we=null),null!==_e&&Ae(_e)&&(_e=null),null!==Ee&&Ae(Ee)&&(Ee=null),Te.forEach(Re),xe.forEach(Re)}function Me(t,e){t.blockedOn===e&&(t.blockedOn=null,me||(me=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,De)))}function Le(t){function e(e){return Me(e,t)}if(0<be.length){Me(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Me(we,t),null!==_e&&Me(_e,t),null!==Ee&&Me(Ee,t),Te.forEach(e),xe.forEach(e),n=0;n<Se.length;n++)(r=Se[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Oe(n),null===n.blockedOn&&Se.shift()}var Fe={},Ue=new Map,je=new Map,Ve=["abort","abort",Ht,"animationEnd",Gt,"animationIteration",$t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Yt,"transitionEnd","waiting","waiting"];function qe(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},je.set(r,e),Ue.set(r,o),Fe[i]=o}}qe("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qe(Ve,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ze=0;ze<Be.length;ze++)je.set(Be[ze],0);var We=o.unstable_UserBlockingPriority,Qe=o.unstable_runWithPriority,He=!0;function Ge(t,e){$e(e,t,!1)}function $e(t,e,n){var r=je.get(e);switch(void 0===r?2:r){case 0:r=Ye.bind(null,e,1,t);break;case 1:r=Ke.bind(null,e,1,t);break;default:r=Xe.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Ye(t,e,n,r){U||L();var i=Xe,o=U;U=!0;try{M(i,t,e,n,r)}finally{(U=o)||V()}}function Ke(t,e,n,r){Qe(We,Xe.bind(null,t,e,n,r))}function Xe(t,e,n,r){if(He)if(0<be.length&&-1<Ce.indexOf(t))t=Ie(null,t,e,n,r),be.push(t);else{var i=Je(t,e,n,r);if(null===i)Ne(t,r);else if(-1<Ce.indexOf(t))t=Ie(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=Pe(we,t,e,n,r,i),!0;case"dragenter":return _e=Pe(_e,t,e,n,r,i),!0;case"mouseover":return Ee=Pe(Ee,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Te.set(o,Pe(Te.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xe.set(o,Pe(xe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Ne(t,r),t=fe(t,r,null,e);try{q(pe,t)}finally{he(t)}}}}function Je(t,e,n,r){if(null!==(n=kn(n=ue(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=fe(t,r,n,e);try{q(pe,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Dt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=S[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function cn(){}function ln(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=ln();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=ln((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yn=null,vn=null;function gn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function En(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+Tn,Sn="__reactEventHandlers$"+Tn,Cn="__reactContainere$"+Tn;function kn(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[xn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=En(t);null!==t;){if(n=t[xn])return n;t=En(t)}return e}n=(t=n).parentNode}return null}function In(t){return!(t=t[xn]||t[Cn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Nn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Pn(t){return t[Sn]||null}function On(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function An(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}function Rn(t,e,n){(e=An(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Dn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=On(e);for(e=n.length;0<e--;)Rn(n[e],"captured",t);for(e=0;e<n.length;e++)Rn(n[e],"bubbled",t)}}function Mn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=An(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Ln(t){t&&t.dispatchConfig.registrationName&&Mn(t._targetInst,null,t)}function Fn(t){ie(t,Dn)}var Un=null,jn=null,Vn=null;function qn(){if(Vn)return Vn;var t,e,n=jn,r=n.length,i="value"in Un?Un.value:Un.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Vn=i.slice(t,1<e?1-e:void 0)}function Bn(){return!0}function zn(){return!1}function Wn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Bn:zn,this.isPropagationStopped=zn,this}function Qn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Hn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Gn(t){t.eventPool=[],t.getPooled=Qn,t.release=Hn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){this.isPersistent=Bn},isPersistent:zn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Gn(n),n},Gn(Wn);var $n=Wn.extend({data:null}),Yn=Wn.extend({data:null}),Kn=[9,13,27,32],Xn=k&&"CompositionEvent"in window,Jn=null;k&&"documentMode"in document&&(Jn=document.documentMode);var Zn=k&&"TextEvent"in window&&!Jn,tr=k&&(!Xn||Jn&&8<Jn&&11>=Jn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Kn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if(Xn)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ar?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=qn()):(jn="value"in(Un=r)?Un.value:Un.textContent,ar=!0)),o=$n.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(t=Zn?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!Xn&&ir(t,e)?(t=qn(),Vn=jn=Un=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Yn.getPooled(nr.beforeInput,e,n,r)).data=t,Fn(e)):e=null,null===i?e:null===e?i:[i,e]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ur[t.type]:"textarea"===e}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Wn.getPooled(lr.change,t,e,n)).type="change",A(n),Fn(t),t}var fr=null,pr=null;function dr(t){se(t)}function yr(t){if(_t(Nn(t)))return t}function vr(t,e){if("change"===t)return e}var gr=!1;function mr(){fr&&(fr.detachEvent("onpropertychange",br),pr=fr=null)}function br(t){if("value"===t.propertyName&&yr(pr))if(t=hr(pr,t,ue(t)),U)se(t);else{U=!0;try{D(dr,t)}finally{U=!1,V()}}}function wr(t,e,n){"focus"===t?(mr(),pr=n,(fr=e).attachEvent("onpropertychange",br)):"blur"===t&&mr()}function _r(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return yr(pr)}function Er(t,e){if("click"===t)return yr(e)}function Tr(t,e){if("input"===t||"change"===t)return yr(e)}k&&(gr=ce("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:lr,_isInputEventSupported:gr,extractEvents:function(t,e,n,r){var i=e?Nn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(cr(i))if(gr)a=Tr;else{a=_r;var s=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Er);if(a&&(a=a(t,e)))return hr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&kt(i,"number",i.value)}},Sr=Wn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cr[t])&&!!e[t]}function Ir(){return kr}var Nr=0,Pr=0,Or=!1,Ar=!1,Rr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Nr;return Nr=t.screenX,Or?"mousemove"===t.type?t.screenX-e:0:(Or=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pr;return Pr=t.screenY,Ar?"mousemove"===t.type?t.screenY-e:0:(Ar=!0,0)}}),Dr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Mr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?kn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Rr,u=Mr.mouseLeave,c=Mr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Dr,u=Mr.pointerLeave,c=Mr.pointerEnter,l="pointer");if(t=null==a?o:Nn(a),o=null==e?o:Nn(e),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(c,e,n,r)).type=l+"enter",n.target=o,n.relatedTarget=t,l=e,(r=a)&&l)t:{for(c=l,a=0,t=s=r;t;t=On(t))a++;for(t=0,e=c;e;e=On(e))t++;for(;0<a-t;)s=On(s),a--;for(;0<t-a;)c=On(c),t--;for(;a--;){if(s===c||s===c.alternate)break t;s=On(s),c=On(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=On(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=On(l);for(l=0;l<s.length;l++)Mn(s[l],"bubbled",u);for(l=r.length;0<l--;)Mn(r[l],"captured",n);return 0==(64&i)?[u]:[u,n]}};var Fr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Ur=Object.prototype.hasOwnProperty;function jr(t,e){if(Fr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(e,n[r])||!Fr(t[n[r]],e[n[r]]))return!1;return!0}var Vr=k&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Br=null,zr=null,Wr=null,Qr=!1;function Hr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Qr||null==Br||Br!==ln(n)?null:("selectionStart"in(n=Br)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&jr(Wr,n)?null:(Wr=n,(t=Wn.getPooled(qr.select,zr,t,e)).type="select",t.target=Br,Fn(t),t))}var Gr={eventTypes:qr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Nn(e):window,t){case"focus":(cr(i)||"true"===i.contentEditable)&&(Br=i,zr=e,Wr=null);break;case"blur":Wr=zr=Br=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Hr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Hr(n,r)}return null}},$r=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Wn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kr=Sr.extend({relatedTarget:null});function Xr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=Sr.extend({key:function(t){if(t.key){var e=Jr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Xr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(t){return"keypress"===t.type?Xr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Xr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=Rr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),ri=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=Ue.get(t);if(!i)return null;switch(t){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Ht:case Gt:case $t:t=$r;break;case Yt:t=ri;break;case"scroll":t=Sr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Dr;break;default:t=Wn}return Fn(e=t.getPooled(i,e,n,r)),e}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),d=Pn,y=In,v=Nn,C({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:xr,SelectEventPlugin:Gr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function ci(t,e){si++,ai[si]=t.current,t.current=e}var li={},hi={current:li},fi={current:!1},pi=li;function di(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function yi(t){return null!=(t=t.childContextTypes)}function vi(){ui(fi),ui(hi)}function gi(t,e,n){if(hi.current!==li)throw Error(a(168));ci(hi,e),ci(fi,n)}function mi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,vt(e)||"Unknown",o));return i({},n,{},r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,pi=hi.current,ci(hi,t),ci(fi,fi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=mi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(fi),ui(hi),ci(hi,t)):ui(fi),ci(fi,n)}var _i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,xi=o.unstable_requestPaint,Si=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Ai={},Ri=o.unstable_shouldYield,Di=void 0!==xi?xi:function(){},Mi=null,Li=null,Fi=!1,Ui=Si(),ji=1e4>Ui?Si:function(){return Si()-Ui};function Vi(){switch(Ci()){case ki:return 99;case Ii:return 98;case Ni:return 97;case Pi:return 96;case Oi:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return ki;case 98:return Ii;case 97:return Ni;case 96:return Pi;case 95:return Oi;default:throw Error(a(332))}}function Bi(t,e){return t=qi(t),_i(t,e)}function zi(t,e,n){return t=qi(t),Ei(t,e,n)}function Wi(t){return null===Mi?(Mi=[t],Li=Ei(ki,Hi)):Mi.push(t),Ai}function Qi(){if(null!==Li){var t=Li;Li=null,Ti(t)}Hi()}function Hi(){if(!Fi&&null!==Mi){Fi=!0;var t=0;try{var e=Mi;Bi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(e){throw null!==Mi&&(Mi=Mi.slice(t+1)),Ei(ki,Qi),e}finally{Fi=!1}}}function Gi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function $i(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Yi={current:null},Ki=null,Xi=null,Ji=null;function Zi(){Ji=Xi=Ki=null}function to(t){var e=Yi.current;ui(Yi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Ki=t,Ji=Xi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Pa=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Xi){if(null===Ki)throw Error(a(308));Xi=e,Ki.dependencies={expirationTime:0,firstContext:e,responders:null}}else Xi=Xi.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.alternate;null!==n&&ao(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,h=null,f=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var y={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=y,h=c):p=p.next=y,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ou(s,d.suspenseConfig);t:{var v=t,g=d;switch(s=e,y=n,g.tag){case 1:if("function"==typeof(v=g.payload)){c=v.call(y,c,s);break t}c=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=g.payload)?v.call(y,c,s):v))break t;c=i({},c,s);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=c:p.next=f,o.baseState=h,o.baseQueue=p,au(l),t.expirationTime=l,t.memoizedState=c}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var fo=K.ReactCurrentBatchConfig,po=(new r.Component).refs;function yo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Hs(),i=fo.suspense;(i=so(r=Gs(r,t,i),i)).payload=e,null!=n&&(i.callback=n),uo(t,i),$s(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Hs(),i=fo.suspense;(i=so(r=Gs(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),uo(t,i),$s(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Hs(),r=fo.suspense;(r=so(n=Gs(n,t,r),r)).tag=2,null!=e&&(r.callback=e),uo(t,r),$s(t,n)}};function go(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!jr(n,r)||!jr(i,o))}function mo(t,e,n){var r=!1,i=li,o=e.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=yi(e)?pi:hi.current,o=(r=null!=(r=e.contextTypes))?di(t,i):li),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=yi(e)?pi:hi.current,i.context=di(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(yo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var _o=Array.isArray;function Eo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function To(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function xo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Cu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Nu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Eo(t,e,n),r.return=t,r):((r=ku(n.type,n.key,n.props,null,t.mode,r)).ref=Eo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Pu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Iu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Nu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=ku(e.type,e.key,e.props,null,t.mode,n)).ref=Eo(t,null,e),n.return=t,n;case et:return(e=Pu(e,t.mode,n)).return=t,e}if(_o(e)||yt(e))return(e=Iu(e,t.mode,n,null)).return=t,e;To(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case et:return n.key===i?l(t,e,n,r):null}if(_o(n)||yt(n))return null!==i?null:h(t,e,n,r,null);To(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case et:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||yt(r))return h(e,t=t.get(n)||null,r,i,null);To(e,r)}return null}function y(i,a,s,u){for(var c=null,l=null,h=a,y=a=0,v=null;null!==h&&y<s.length;y++){h.index>y?(v=h,h=null):v=h.sibling;var g=p(i,h,s[y],u);if(null===g){null===h&&(h=v);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,y),null===l?c=g:l.sibling=g,l=g,h=v}if(y===s.length)return n(i,h),c;if(null===h){for(;y<s.length;y++)null!==(h=f(i,s[y],u))&&(a=o(h,a,y),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);y<s.length;y++)null!==(v=d(h,i,y,s[y],u))&&(t&&null!==v.alternate&&h.delete(null===v.key?y:v.key),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v);return t&&h.forEach((function(t){return e(i,t)})),c}function v(i,s,u,c){var l=yt(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,y=s,v=s=0,g=null,m=u.next();null!==y&&!m.done;v++,m=u.next()){y.index>v?(g=y,y=null):g=y.sibling;var b=p(i,y,m.value,c);if(null===b){null===y&&(y=g);break}t&&y&&null===b.alternate&&e(i,y),s=o(b,s,v),null===h?l=b:h.sibling=b,h=b,y=g}if(m.done)return n(i,y),l;if(null===y){for(;!m.done;v++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,v),null===h?l=m:h.sibling=m,h=m);return l}for(y=r(i,y);!m.done;v++,m=u.next())null!==(m=d(y,i,v,m.value,c))&&(t&&null!==m.alternate&&y.delete(null===m.key?v:m.key),s=o(m,s,v),null===h?l=m:h.sibling=m,h=m);return t&&y.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"==typeof o&&null!==o&&o.type===nt&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case tt:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===nt){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=Eo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===nt?((r=Iu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=ku(o.type,o.key,o.props,null,t.mode,u)).ref=Eo(t,r,o),u.return=t,t=u)}return s(t);case et:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Pu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Nu(o,t.mode,u)).return=t,t=r),s(t);if(_o(o))return y(t,r,o,u);if(yt(o))return v(t,r,o,u);if(l&&To(t,o),void 0===o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var So=xo(!0),Co=xo(!1),ko={},Io={current:ko},No={current:ko},Po={current:ko};function Oo(t){if(t===ko)throw Error(a(174));return t}function Ao(t,e){switch(ci(Po,e),ci(No,t),ci(Io,ko),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Io),ci(Io,e)}function Ro(){ui(Io),ui(No),ui(Po)}function Do(t){Oo(Po.current);var e=Oo(Io.current),n=Ft(e,t.type);e!==n&&(ci(No,t),ci(Io,n))}function Mo(t){No.current===t&&(ui(Io),ui(No))}var Lo={current:0};function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Uo(t,e){return{responder:t,props:e}}var jo=K.ReactCurrentDispatcher,Vo=K.ReactCurrentBatchConfig,qo=0,Bo=null,zo=null,Wo=null,Qo=!1;function Ho(){throw Error(a(321))}function Go(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function $o(t,e,n,r,i,o){if(qo=o,Bo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,jo.current=null===t||null===t.memoizedState?ga:ma,t=n(r,i),e.expirationTime===qo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=zo=null,e.updateQueue=null,jo.current=ba,t=n(r,i)}while(e.expirationTime===qo)}if(jo.current=va,e=null!==zo&&null!==zo.next,qo=0,Wo=zo=Bo=null,Qo=!1,e)throw Error(a(300));return t}function Yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Bo.memoizedState=Wo=t:Wo=Wo.next=t,Wo}function Ko(){if(null===zo){var t=Bo.alternate;t=null!==t?t.memoizedState:null}else t=zo.next;var e=null===Wo?Bo.memoizedState:Wo.next;if(null!==e)Wo=e,zo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(zo=t).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Wo?Bo.memoizedState=Wo=t:Wo=Wo.next=t}return Wo}function Xo(t,e){return"function"==typeof e?e(t):e}function Jo(t){var e=Ko(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<qo){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,l>Bo.expirationTime&&(Bo.expirationTime=l,au(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ou(l,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Fr(r,e.memoizedState)||(Pa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zo(t){var e=Ko(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Fr(o,e.memoizedState)||(Pa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ta(t){var e=Yo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t}).dispatch=ya.bind(null,Bo,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Bo.updateQueue)?(e={lastEffect:null},Bo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Ko().memoizedState}function ra(t,e,n,r){var i=Yo();Bo.effectTag|=t,i.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function ia(t,e,n,r){var i=Ko();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Go(r,a.deps))return void ea(e,n,o,r)}Bo.effectTag|=t,i.memoizedState=ea(1|e,n,o,r)}function oa(t,e){return ra(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function sa(t,e){return ia(4,2,t,e)}function ua(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ca(t,e,n){return n=null!=n?n.concat([t]):null,ia(4,2,ua.bind(null,e,t),n)}function la(){}function ha(t,e){return Yo().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var n=Ko();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Go(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pa(t,e){var n=Ko();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Go(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function da(t,e,n){var r=Vi();Bi(98>r?98:r,(function(){t(!0)})),Bi(97<r?97:r,(function(){var r=Vo.suspense;Vo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vo.suspense=r}}))}function ya(t,e,n){var r=Hs(),i=fo.suspense;i={expirationTime:r=Gs(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Bo||null!==o&&o===Bo)Qo=!0,i.expirationTime=qo,Bo.expirationTime=qo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(t){}$s(t,r)}}var va={readContext:ro,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useResponder:Ho,useDeferredValue:Ho,useTransition:Ho},ga={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ra(4,2,ua.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Yo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ya.bind(null,Bo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Yo().memoizedState=t},useState:ta,useDebugValue:la,useResponder:Uo,useDeferredValue:function(t,e){var n=ta(t),r=n[0],i=n[1];return oa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ha(da.bind(null,e,t),[e,t]),n]}},ma={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo(Xo)},useDebugValue:la,useResponder:Uo,useDeferredValue:function(t,e){var n=Jo(Xo),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Jo(Xo),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},ba={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Zo,useRef:na,useState:function(){return Zo(Xo)},useDebugValue:la,useResponder:Uo,useDeferredValue:function(t,e){var n=Zo(Xo),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zo(Xo),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},wa=null,_a=null,Ea=!1;function Ta(t,e){var n=xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function xa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Sa(t){if(Ea){var e=_a;if(e){var n=e;if(!xa(t,e)){if(!(e=_n(n.nextSibling))||!xa(t,e))return t.effectTag=-1025&t.effectTag|2,Ea=!1,void(wa=t);Ta(wa,n)}wa=t,_a=_n(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ea=!1,wa=t}}function Ca(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;wa=t}function ka(t){if(t!==wa)return!1;if(!Ea)return Ca(t),Ea=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mn(e,t.memoizedProps))for(e=_a;e;)Ta(t,e),e=_n(e.nextSibling);if(Ca(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){_a=_n(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}_a=null}}else _a=wa?_n(t.stateNode.nextSibling):null;return!0}function Ia(){_a=wa=null,Ea=!1}var Na=K.ReactCurrentOwner,Pa=!1;function Oa(t,e,n,r){e.child=null===t?Co(e,null,n,r):So(e,t.child,n,r)}function Aa(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=$o(t,e,n,r,o,i),null===t||Pa?(e.effectTag|=1,Oa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),$a(t,e,i))}function Ra(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Su(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=ku(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Da(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:jr)(i,r)&&t.ref===e.ref)?$a(t,e,o):(e.effectTag|=1,(t=Cu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Da(t,e,n,r,i,o){return null!==t&&jr(t.memoizedProps,r)&&t.ref===e.ref&&(Pa=!1,i<o)?(e.expirationTime=t.expirationTime,$a(t,e,o)):La(t,e,n,r,o)}function Ma(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function La(t,e,n,r,i){var o=yi(n)?pi:hi.current;return o=di(e,o),no(e,i),n=$o(t,e,n,r,o,i),null===t||Pa?(e.effectTag|=1,Oa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),$a(t,e,i))}function Fa(t,e,n,r,i){if(yi(n)){var o=!0;bi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mo(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=ro(c):c=di(e,c=yi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(e,a,r,c),io=!1;var f=e.memoizedState;a.state=f,lo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||fi.current||io?("function"==typeof l&&(yo(e,n,l,r),u=e.memoizedState),(s=io||go(e,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:$i(e.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=ro(c):c=di(e,c=yi(n)?pi:hi.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(e,a,r,c),io=!1,u=e.memoizedState,a.state=u,lo(e,r,a,i),f=e.memoizedState,s!==r||u!==f||fi.current||io?("function"==typeof l&&(yo(e,n,l,r),f=e.memoizedState),(l=io||go(e,n,s,r,u,f,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Ua(t,e,n,r,o,i)}function Ua(t,e,n,r,i,o){Ma(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&wi(e,n,!1),$a(t,e,o);r=e.stateNode,Na.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):Oa(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function ja(t){var e=t.stateNode;e.pendingContext?gi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&gi(0,e.context,!1),Ao(t,e.containerInfo)}var Va,qa,Ba,za={dehydrated:null,retryTime:0};function Wa(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Lo.current,s=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Lo,1&a),null===t){if(void 0!==o.fallback&&Sa(e),s){if(s=o.fallback,(o=Iu(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Iu(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=za,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Co(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Cu(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Cu(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=za,e.child=n,i}return n=So(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Iu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Iu(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=za,e.child=o,n}return e.memoizedState=null,e.child=So(e,t,o.children,n)}function Qa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Ha(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ga(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Oa(t,e,r.children,n),0!=(2&(r=Lo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qa(t,n);else if(19===t.tag)Qa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Lo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ha(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ha(e,!0,n,null,o,e.lastEffect);break;case"together":Ha(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function $a(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&au(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Cu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Cu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ka(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yi(e.type)&&vi(),null;case 3:return Ro(),ui(fi),ui(hi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!ka(e)||(e.effectTag|=4),null;case 5:Mo(e),n=Oo(Po.current);var o=e.type;if(null!==t&&null!=e.stateNode)qa(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Oo(Io.current),ka(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[xn]=e,r[Sn]=s,o){case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(t=0;t<Kt.length;t++)Ge(Kt[t],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"form":Ge("reset",r),Ge("submit",r);break;case"details":Ge("toggle",r);break;case"input":Tt(r,s),Ge("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r),un(n,"onChange");break;case"textarea":Ot(r,s),Ge("invalid",r),un(n,"onChange")}for(var u in on(o,s),t=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"==typeof c?r.textContent!==c&&(t=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(t=["children",""+c]):x.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(o){case"input":wt(r),Ct(r,s,!0);break;case"textarea":wt(r),Rt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=Lt(o)),t===sn?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[xn]=e,t[Sn]=r,Va(t,e),e.stateNode=t,u=an(o,r),o){case"iframe":case"object":case"embed":Ge("load",t),c=r;break;case"video":case"audio":for(c=0;c<Kt.length;c++)Ge(Kt[c],t);c=r;break;case"source":Ge("error",t),c=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),c=r;break;case"form":Ge("reset",t),Ge("submit",t),c=r;break;case"details":Ge("toggle",t),c=r;break;case"input":Tt(t,r),c=Et(t,r),Ge("invalid",t),un(n,"onChange");break;case"option":c=It(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Ge("invalid",t),un(n,"onChange");break;case"textarea":Ot(t,r),c=Pt(t,r),Ge("invalid",t),un(n,"onChange");break;default:c=r}on(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?nn(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&jt(t,h):"children"===s?"string"==typeof h?("textarea"!==o||""!==h)&&Vt(t,h):"number"==typeof h&&Vt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&X(t,s,h,u))}switch(o){case"input":wt(t),Ct(t,r,!1);break;case"textarea":wt(t),Rt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Nt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(t.onclick=cn)}gn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ba(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=Oo(Po.current),Oo(Io.current),ka(e)?(n=e.stateNode,r=e.memoizedProps,n[xn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=e,e.stateNode=n)}return null;case 13:return ui(Lo),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&ka(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?ks===ws&&(ks=_s):(ks!==ws&&ks!==_s||(ks=Es),0!==As&&null!==xs&&(Ru(xs,Cs),Du(xs,As)))),(n||r)&&(e.effectTag|=4),null);case 4:return Ro(),null;case 10:return to(e),null;case 17:return yi(e.type)&&vi(),null;case 19:if(ui(Lo),null===(r=e.memoizedState))return null;if(o=0!=(64&e.effectTag),null===(s=r.rendering)){if(o)Ya(r,!1);else if(ks!==ws||null!==t&&0!=(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Fo(s))){for(e.effectTag|=64,Ya(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Lo,1&Lo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Fo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*ji()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Ya(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ji()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ji(),n.sibling=null,e=Lo.current,ci(Lo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function Xa(t){switch(t.tag){case 1:yi(t.type)&&vi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ro(),ui(fi),ui(hi),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Mo(t),null;case 13:return ui(Lo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ui(Lo),null;case 4:return Ro(),null;case 10:return to(t),null;default:return null}}function Ja(t,e){return{value:t,source:e,stack:gt(e)}}Va=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,c=e.stateNode;switch(Oo(Io.current),t=null,n){case"input":a=Et(c,a),r=Et(c,r),t=[];break;case"option":a=It(c,a),r=It(c,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Pt(c,a),r=Pt(c,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(t||(t=[]),t.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(s,l)):"children"===s?c===l||"string"!=typeof l&&"number"!=typeof l||(t=t||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=l&&un(o,s),t||c===l||(t=[])):(t=t||[]).push(s,l))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ba=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=gt(n)),null!==n&&vt(n.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function es(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){mu(t,e)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:$i(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function os(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:$i(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Le(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,n){switch("function"==typeof Eu&&Eu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Bi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){mu(i,t)}}t=t.next}while(t!==r)}))}break;case 1:es(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){mu(t,e)}}(e,n);break;case 5:es(e);break;case 4:ls(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function us(t){return 5===t.tag||3===t.tag||4===t.tag}function cs(t){t:{for(var e=t.return;null!==e;){if(us(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ls(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,c=o,l=n,h=c;;)if(as(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break t;for(;null===h.sibling;){if(null===h.return||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Sn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&xt(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?jt(n,u):"children"===s?Vt(n,u):X(n,s,u,e)}switch(t){case"input":St(n,r);break;case"textarea":At(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Nt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Nt(n,!!r.multiple,r.defaultValue,!0):Nt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ds=ji()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(a(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var r=wu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ls||(Ls=!0,Fs=r),ts(t,e)},n}function ys(t,e,n){(n=so(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ts(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Us?Us=new Set([this]):Us.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var vs,gs=Math.ceil,ms=K.ReactCurrentDispatcher,bs=K.ReactCurrentOwner,ws=0,_s=3,Es=4,Ts=0,xs=null,Ss=null,Cs=0,ks=ws,Is=null,Ns=1073741823,Ps=1073741823,Os=null,As=0,Rs=!1,Ds=0,Ms=null,Ls=!1,Fs=null,Us=null,js=!1,Vs=null,qs=90,Bs=null,zs=0,Ws=null,Qs=0;function Hs(){return 0!=(48&Ts)?1073741821-(ji()/10|0):0!==Qs?Qs:Qs=1073741821-(ji()/10|0)}function Gs(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Vi();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&Ts))return Cs;if(null!==n)t=Gi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Gi(t,150,100);break;case 97:case 96:t=Gi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==xs&&t===Cs&&--t,t}function $s(t,e){if(50<zs)throw zs=0,Ws=null,Error(a(185));if(null!==(t=Ys(t,e))){var n=Vi();1073741823===e?0!=(8&Ts)&&0==(48&Ts)?Zs(t):(Xs(t),0===Ts&&Qi()):Xs(t),0==(4&Ts)||98!==n&&99!==n||(null===Bs?Bs=new Map([[t,e]]):(void 0===(n=Bs.get(t))||n>e)&&Bs.set(t,e))}}function Ys(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(xs===i&&(au(e),ks===Es&&Ru(i,Cs)),Du(i,e)),i}function Ks(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Au(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Xs(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Wi(Zs.bind(null,t));else{var e=Ks(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Hs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Ai&&Ti(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Wi(Zs.bind(null,t)):zi(r,Js.bind(null,t),{timeout:10*(1073741821-e)-ji()}),t.callbackNode=e}}}function Js(t,e){if(Qs=0,e)return Mu(t,e=Hs()),Xs(t),null;var n=Ks(t);if(0!==n){if(e=t.callbackNode,0!=(48&Ts))throw Error(a(327));if(yu(),t===xs&&n===Cs||nu(t,n),null!==Ss){var r=Ts;Ts|=16;for(var i=iu();;)try{uu();break}catch(e){ru(t,e)}if(Zi(),Ts=r,ms.current=i,1===ks)throw e=Is,nu(t,n),Ru(t,n),Xs(t),e;if(null===Ss)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=ks,xs=null,r){case ws:case 1:throw Error(a(345));case 2:Mu(t,2<n?2:n);break;case _s:if(Ru(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),1073741823===Ns&&10<(i=Ds+500-ji())){if(Rs){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(o=Ks(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=bn(fu.bind(null,t),i);break}fu(t);break;case Es:if(Ru(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),Rs&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(i=Ks(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ps?r=10*(1073741821-Ps)-ji():1073741823===Ns?r=0:(r=10*(1073741821-Ns)-5e3,0>(r=(i=ji())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=bn(fu.bind(null,t),r);break}fu(t);break;case 5:if(1073741823!==Ns&&null!==Os){o=Ns;var s=Os;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=ji()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ru(t,n),t.timeoutHandle=bn(fu.bind(null,t),r);break}}fu(t);break;default:throw Error(a(329))}if(Xs(t),t.callbackNode===e)return Js.bind(null,t)}}return null}function Zs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&Ts))throw Error(a(327));if(yu(),t===xs&&e===Cs||nu(t,e),null!==Ss){var n=Ts;Ts|=16;for(var r=iu();;)try{su();break}catch(e){ru(t,e)}if(Zi(),Ts=n,ms.current=r,1===ks)throw n=Is,nu(t,e),Ru(t,e),Xs(t),n;if(null!==Ss)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,xs=null,fu(t),Xs(t)}return null}function tu(t,e){var n=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=n)&&Qi()}}function eu(t,e){var n=Ts;Ts&=-2,Ts|=8;try{return t(e)}finally{0===(Ts=n)&&Qi()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,wn(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Ro(),ui(fi),ui(hi);break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:ui(Lo);break;case 10:to(r)}n=n.return}xs=t,Ss=Cu(t.current,null),Cs=e,ks=ws,Is=null,Ps=Ns=1073741823,Os=null,As=0,Rs=!1}function ru(t,e){for(;;){try{if(Zi(),jo.current=va,Qo)for(var n=Bo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Wo=zo=Bo=null,Qo=!1,null===Ss||null===Ss.return)return ks=1,Is=e,Ss=null;t:{var i=t,o=Ss.return,a=Ss,s=e;if(e=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&Lo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(f){var y=h.updateQueue;if(null===y){var v=new Set;v.add(u),h.updateQueue=v}else y.add(u);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=so(1073741823,null);g.tag=2,uo(a,g)}a.expirationTime=1073741823;break t}s=void 0,a=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new ps,s=new Set,m.set(u,s)):void 0===(s=m.get(u))&&(s=new Set,m.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((vt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(a))}5!==ks&&(ks=2),s=Ja(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=e,co(h,ds(h,u,e));break t;case 1:u=s;var w=h.type,_=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Us||!Us.has(_)))){h.effectTag|=4096,h.expirationTime=e,co(h,ys(h,u,e));break t}}h=h.return}while(null!==h)}Ss=lu(Ss)}catch(t){e=t;continue}break}}function iu(){var t=ms.current;return ms.current=va,null===t?va:t}function ou(t,e){t<Ns&&2<t&&(Ns=t),null!==e&&t<Ps&&2<t&&(Ps=t,Os=e)}function au(t){t>As&&(As=t)}function su(){for(;null!==Ss;)Ss=cu(Ss)}function uu(){for(;null!==Ss&&!Ri();)Ss=cu(Ss)}function cu(t){var e=vs(t.alternate,t,Cs);return t.memoizedProps=t.pendingProps,null===e&&(e=lu(t)),bs.current=null,e}function lu(t){Ss=t;do{var e=Ss.alternate;if(t=Ss.return,0==(2048&Ss.effectTag)){if(e=Ka(e,Ss,Cs),1===Cs||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ss.firstEffect),t.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ss:t.firstEffect=Ss,t.lastEffect=Ss))}else{if(null!==(e=Xa(Ss)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ss.sibling))return e;Ss=t}while(null!==Ss);return ks===ws&&(ks=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fu(t){var e=Vi();return Bi(99,pu.bind(null,t,e)),null}function pu(t,e){do{yu()}while(null!==Vs);if(0!=(48&Ts))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===xs&&(Ss=xs=null,Cs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ts;Ts|=32,bs.current=null,yn=He;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(t){u=null;break t}var f=0,p=-1,d=-1,y=0,v=0,g=s,m=null;e:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=f+l),g!==h||0!==c&&3!==g.nodeType||(d=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(b=g.firstChild);)m=g,g=b;for(;;){if(g===s)break e;if(m===u&&++y===l&&(p=f),m===h&&++v===c&&(d=f),null!==(b=g.nextSibling))break;m=(g=m).parentNode}g=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:u},He=!1,Ms=i;do{try{du()}catch(t){if(null===Ms)throw Error(a(330));mu(Ms,t),Ms=Ms.nextEffect}}while(null!==Ms);Ms=i;do{try{for(s=t,u=e;null!==Ms;){var w=Ms.effectTag;if(16&w&&Vt(Ms.stateNode,""),128&w){var _=Ms.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:cs(Ms),Ms.effectTag&=-3;break;case 6:cs(Ms),Ms.effectTag&=-3,hs(Ms.alternate,Ms);break;case 1024:Ms.effectTag&=-1025;break;case 1028:Ms.effectTag&=-1025,hs(Ms.alternate,Ms);break;case 4:hs(Ms.alternate,Ms);break;case 8:ls(s,l=Ms,u),ss(l)}Ms=Ms.nextEffect}}catch(t){if(null===Ms)throw Error(a(330));mu(Ms,t),Ms=Ms.nextEffect}}while(null!==Ms);if(E=vn,_=pn(),w=E.focusedElem,u=E.selectionRange,_!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&dn(w)&&(_=u.start,void 0===(E=u.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=fn(w,s),h=fn(w,u),l&&h&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((_=_.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(_),E.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}He=!!yn,vn=yn=null,t.current=n,Ms=i;do{try{for(w=t;null!==Ms;){var T=Ms.effectTag;if(36&T&&os(w,Ms.alternate,Ms),128&T){_=void 0;var x=Ms.ref;if(null!==x){var S=Ms.stateNode;switch(Ms.tag){case 5:_=S;break;default:_=S}"function"==typeof x?x(_):x.current=_}}Ms=Ms.nextEffect}}catch(t){if(null===Ms)throw Error(a(330));mu(Ms,t),Ms=Ms.nextEffect}}while(null!==Ms);Ms=null,Di(),Ts=o}else t.current=n;if(js)js=!1,Vs=t,qs=e;else for(Ms=i;null!==Ms;)e=Ms.nextEffect,Ms.nextEffect=null,Ms=e;if(0===(e=t.firstPendingTime)&&(Us=null),1073741823===e?t===Ws?zs++:(zs=0,Ws=t):zs=0,"function"==typeof _u&&_u(n.stateNode,r),Xs(t),Ls)throw Ls=!1,t=Fs,Fs=null,t;return 0!=(8&Ts)||Qi(),null}function du(){for(;null!==Ms;){var t=Ms.effectTag;0!=(256&t)&&ns(Ms.alternate,Ms),0==(512&t)||js||(js=!0,zi(97,(function(){return yu(),null}))),Ms=Ms.nextEffect}}function yu(){if(90!==qs){var t=97<qs?97:qs;return qs=90,Bi(t,vu)}}function vu(){if(null===Vs)return!1;var t=Vs;if(Vs=null,0!=(48&Ts))throw Error(a(331));var e=Ts;for(Ts|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(e){if(null===t)throw Error(a(330));mu(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Ts=e,Qi(),!0}function gu(t,e,n){uo(t,e=ds(t,e=Ja(n,e),1073741823)),null!==(t=Ys(t,1073741823))&&Xs(t)}function mu(t,e){if(3===t.tag)gu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){gu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Us||!Us.has(r))){uo(n,t=ys(n,t=Ja(e,t),1073741823)),null!==(n=Ys(n,1073741823))&&Xs(n);break}}n=n.return}}function bu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),xs===t&&Cs===n?ks===Es||ks===_s&&1073741823===Ns&&ji()-Ds<500?nu(t,Cs):Rs=!0:Au(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Xs(t)))}function wu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Gs(e=Hs(),t,null)),null!==(t=Ys(t,e))&&Xs(t)}vs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)Pa=!0;else{if(r<n){switch(Pa=!1,e.tag){case 3:ja(e),Ia();break;case 5:if(Do(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:yi(e.type)&&bi(e);break;case 4:Ao(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Wa(t,e,n):(ci(Lo,1&Lo.current),null!==(e=$a(t,e,n))?e.sibling:null);ci(Lo,1&Lo.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return Ga(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ci(Lo,Lo.current),!r)return null}return $a(t,e,n)}Pa=!1}}else Pa=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,hi.current),no(e,n),i=$o(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"==typeof s&&yo(e,r,s,t),i.updater=vo,e.stateNode=i,i._reactInternalFiber=e,wo(e,r,t,n),e=Ua(null,e,r,!0,o,n)}else e.tag=0,Oa(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return Su(t)?1:0;if(null!=t){if((t=t.$$typeof)===ut)return 11;if(t===ht)return 14}return 2}(i),t=$i(i,t),o){case 0:e=La(null,e,i,t,n);break t;case 1:e=Fa(null,e,i,t,n);break t;case 11:e=Aa(null,e,i,t,n);break t;case 14:e=Ra(null,e,i,$i(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 1:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 3:if(ja(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)Ia(),e=$a(t,e,n);else{if((i=e.stateNode.hydrate)&&(_a=_n(e.stateNode.containerInfo.firstChild),wa=e,i=Ea=!0),i)for(n=Co(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Oa(t,e,r,n),Ia();e=e.child}return e;case 5:return Do(e),null===t&&Sa(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,mn(r,i)?s=null:null!==o&&mn(r,o)&&(e.effectTag|=16),Ma(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Oa(t,e,s,n),e=e.child),e;case 6:return null===t&&Sa(e),null;case 13:return Wa(t,e,n);case 4:return Ao(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=So(e,null,r,n):Oa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Aa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 7:return Oa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Oa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ci(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){e=$a(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,uo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),eo(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,Oa(t,e,r,n),e.child;case 14:return o=$i(i=e.type,e.pendingProps),Ra(t,e,i,o=$i(i.type,o),r,n);case 15:return Da(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,yi(r)?(t=!0,bi(e)):t=!1,no(e,n),mo(e,r,i),wo(e,r,i,n),Ua(null,e,r,!0,t,n);case 19:return Ga(t,e,n)}throw Error(a(156,e.tag))};var _u=null,Eu=null;function Tu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xu(t,e,n,r){return new Tu(t,e,n,r)}function Su(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Cu(t,e){var n=t.alternate;return null===n?((n=xu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Su(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case nt:return Iu(n.children,i,o,e);case st:s=8,i|=7;break;case rt:s=8,i|=1;break;case it:return(t=xu(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case ct:return(t=xu(13,n,e,i)).type=ct,t.elementType=ct,t.expirationTime=o,t;case lt:return(t=xu(19,n,e,i)).elementType=lt,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case ot:s=10;break t;case at:s=9;break t;case ut:s=11;break t;case ht:s=14;break t;case ft:s=16,r=null;break t;case pt:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=xu(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Iu(t,e,n,r){return(t=xu(7,t,r,e)).expirationTime=n,t}function Nu(t,e,n){return(t=xu(6,t,null,e)).expirationTime=n,t}function Pu(t,e,n){return(e=xu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ou(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Au(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Ru(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Du(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Mu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Lu(t,e,n,r){var i=e.current,o=Hs(),s=fo.suspense;o=Gs(o,i,s);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=mi(n,c,u);break t}}n=u}else n=li;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),$s(i,o),o}function Fu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Uu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function ju(t,e){Uu(t,e),(t=t.alternate)&&Uu(t,e)}function Vu(t,e,n){var r=new Ou(t,e,n=null!=n&&!0===n.hydrate),i=xu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[Cn]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Ce.forEach((function(t){de(t,e,n)})),ke.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Bu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Fu(a);s.call(t)}}Lu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Vu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=Fu(a);u.call(t)}}eu((function(){Lu(e,a,t,i)}))}return Fu(a)}function zu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Wu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qu(e))throw Error(a(200));return zu(t,e,null,n)}Vu.prototype.render=function(t){Lu(t,this._internalRoot,null,null)},Vu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Lu(null,t,null,(function(){e[Cn]=null}))},ye=function(t){if(13===t.tag){var e=Gi(Hs(),150,100);$s(t,e),ju(t,e)}},ve=function(t){13===t.tag&&($s(t,3),ju(t,3))},ge=function(t){if(13===t.tag){var e=Hs();$s(t,e=Gs(e,t,null)),ju(t,e)}},I=function(t,e,n){switch(e){case"input":if(St(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pn(r);if(!i)throw Error(a(90));_t(r),St(r,i)}}}break;case"textarea":At(t,n);break;case"select":null!=(e=n.value)&&Nt(t,!!n.multiple,e,!1)}},D=tu,M=function(t,e,n,r,i){var o=Ts;Ts|=4;try{return Bi(98,t.bind(null,e,n,r,i))}finally{0===(Ts=o)&&Qi()}},L=function(){0==(49&Ts)&&(function(){if(null!==Bs){var t=Bs;Bs=null,t.forEach((function(t,e){Mu(e,t),Xs(e)})),Qi()}}(),yu())},F=function(t,e){var n=Ts;Ts|=2;try{return t(e)}finally{0===(Ts=n)&&Qi()}};var Qu,Hu,Gu={Events:[In,Nn,Pn,C,T,Fn,function(t){ie(t,Ln)},A,R,Xe,se,yu,{current:!1}]};Hu=(Qu={findFiberByHostInstance:kn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);_u=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Eu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},Qu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Hu?Hu(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gu,e.createPortal=Wu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&Ts))throw Error(a(187));var n=Ts;Ts|=1;try{return Bi(99,t.bind(null,e))}finally{Ts=n,Qi()}},e.hydrate=function(t,e,n){if(!qu(e))throw Error(a(200));return Bu(null,t,e,!0,n)},e.render=function(t,e,n){if(!qu(e))throw Error(a(200));return Bu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!qu(t))throw Error(a(40));return!!t._reactRootContainer&&(eu((function(){Bu(null,null,t,!1,(function(){t._reactRootContainer=null,t[Cn]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Wu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qu(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Bu(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(327)},function(t,e,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(l,0),t}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var g=p.now();e.unstable_now=function(){return p.now()-g}}var m=!1,b=null,w=-1,_=5,E=0;a=function(){return e.unstable_now()>=E},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var T=new MessageChannel,x=T.port2;T.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();E=t+_;try{b(!0,t)?x.postMessage(null):(m=!1,b=null)}catch(t){throw x.postMessage(null),t}}else m=!1},r=function(t){b=t,m||(m=!0,x.postMessage(null))},i=function(t,n){w=d((function(){t(e.unstable_now())}),n)},o=function(){y(w),w=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<I(i,e)))break t;t[r]=e,t[n]=i,n=r}}function C(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function I(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var N=[],P=[],O=1,A=null,R=3,D=!1,M=!1,L=!1;function F(t){for(var e=C(P);null!==e;){if(null===e.callback)k(P);else{if(!(e.startTime<=t))break;k(P),e.sortIndex=e.expirationTime,S(N,e)}e=C(P)}}function U(t){if(L=!1,F(t),!M)if(null!==C(N))M=!0,r(j);else{var e=C(P);null!==e&&i(U,e.startTime-t)}}function j(t,n){M=!1,L&&(L=!1,o()),D=!0;var r=R;try{for(F(n),A=C(N);null!==A&&(!(A.expirationTime>n)||t&&!a());){var s=A.callback;if(null!==s){A.callback=null,R=A.priorityLevel;var u=s(A.expirationTime<=n);n=e.unstable_now(),"function"==typeof u?A.callback=u:A===C(N)&&k(N),F(n)}else k(N);A=C(N)}if(null!==A)var c=!0;else{var l=C(P);null!==l&&i(U,l.startTime-n),c=!1}return c}finally{A=null,R=r,D=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){M||D||(M=!0,r(j))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return C(N)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:V(t)}else a=V(t),u=s;return t={id:O++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,S(P,t),null===C(N)&&t===C(P)&&(L?o():L=!0,i(U,u-s))):(t.sortIndex=a,S(N,t),M||D||(M=!0,r(j))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=C(N);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<A.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=R;return function(){var n=R;R=e;try{return t.apply(this,arguments)}finally{R=n}}}},function(t,e,n){var r=n(40),i=n(17),o=n(18);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(123),i=n(40),o=n(79),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},function(t,e,n){var r=n(58),i=n(81),o=n(82),a=n(59),s=n(332),u=n(80);t.exports=function(t,e,n){var c=-1,l=i,h=t.length,f=!0,p=[],d=p;if(n)f=!1,l=o;else if(h>=200){var y=e?null:s(t);if(y)return u(y);f=!1,l=a,d=new r}else d=e?[]:p;t:for(;++c<h;){var v=t[c],g=e?e(v):v;if(v=n||0!==v?v:0,f&&g==g){for(var m=d.length;m--;)if(d[m]===g)continue t;e&&d.push(g),p.push(v)}else l(d,g,n)||(d!==p&&d.push(g),p.push(v))}return p}},function(t,e,n){var r=n(133),i=n(333),o=n(80),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e){t.exports=function(){}},function(t,e){var n=Math.max,r=Math.min;t.exports=function(t,e,i){return t>=r(e,i)&&t<n(e,i)}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){var r=n(337),i=n(118),o=n(79),a=n(117);t.exports=function(t,e,n){return t=a(t),n=null==n?0:r(o(n),0,t.length),e=i(e),t.slice(n,n+e.length)==e}},function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,n){var r=n(131),i=n(339),o=n(40),a=n(4);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(126),i=n(132),o=n(36),a=n(4),s=n(17),u=n(51),c=n(50),l=n(52),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},function(t,e,n){var r=n(39),i=n(342),o=n(54),a=n(343),s=o((function(t){var e=r(t,a);return e.length&&e[0]===t[0]?i(e):[]}));t.exports=s},function(t,e,n){var r=n(58),i=n(81),o=n(82),a=n(39),s=n(77),u=n(59),c=Math.min;t.exports=function(t,e,n){for(var l=n?o:i,h=t[0].length,f=t.length,p=f,d=Array(f),y=1/0,v=[];p--;){var g=t[p];p&&e&&(g=a(g,s(e))),y=c(g.length,y),d[p]=!n&&(e||h>=120&&g.length>=120)?new r(p&&g):void 0}g=t[0];var m=-1,b=d[0];t:for(;++m<h&&v.length<y;){var w=g[m],_=e?e(w):w;if(w=n||0!==w?w:0,!(b?u(b,_):l(v,_,n))){for(p=f;--p;){var E=d[p];if(!(E?u(E,_):l(t[p],_,n)))continue t}b&&b.push(_),v.push(w)}}return v}},function(t,e,n){var r=n(75);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(345),i=n(120);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){t.exports=n(347)},function(t,e,n){var r=n(348),i=n(57),o=n(349),a=n(4);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(37);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(137),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(s&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(r&&t.length>0)for(var v=0;v<t.length;++v)f.push(String(v));else for(var g in t)d&&"prototype"===g||!i.call(t,g)||f.push(String(g));if(u)for(var m=function(t){if("undefined"==typeof window||!p)return h(t);try{return h(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)m&&"constructor"===l[b]||!i.call(t,l[b])||f.push(l[b]);return f}}t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=Object.prototype.toString,o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i.call(t)},a=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i.call(t)&&"[object Function]"===i.call(t.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},function(t,e,n){"use strict";var r=n(41),i=n(138),o=n(141),a=n(142),s=n(356),u=i(a(),Object);r(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError(r+e);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=e.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,a.concat(i.call(arguments)))},u=Math.max(0,e.length-a.length),c=[],l=0;l<u;l++)c.push("$"+l);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),e.prototype){var h=function(){};h.prototype=e.prototype,n.prototype=new h,h.prototype=null}return n}},function(t,e,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(t){i=null}var o=function(){throw new r},a=i?function(){try{return o}catch(t){try{return i(arguments,"callee").get}catch(t){return o}}}():o,s=n(140)(),u=Object.getPrototypeOf||function(t){return t.__proto__},c=void 0,l="undefined"==typeof Uint8Array?void 0:u(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":c&&s&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n(139).call(Function.call,String.prototype.replace),p=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,d=/\\(\\)?/g,y=function(t){var e=[];return f(t,p,(function(t,n,r,i){e[e.length]=r?f(i,d,"$1"):n||t})),e},v=function(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new r("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=y(t),o=v("%"+(n.length>0?n[0]:"")+"%",e),a=1;a<n.length;a+=1)if(null!=o)if(i&&a+1>=n.length){var s=i(o,n[a]);if(!e&&!(n[a]in o))throw new r("base intrinsic for "+t+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r=n(142),i=n(41);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";var r,i,o,a=n(140)()&&"symbol"==typeof Symbol.toStringTag;if(a){r=Function.call.bind(RegExp.prototype.exec),i={};var s=function(){throw i};o={toString:s,valueOf:s},"symbol"==typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=s)}var u=Object.prototype.toString;t.exports=a?function(t){if(!t||"object"!=typeof t)return!1;try{r(t,o)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===u.call(t)}},function(t,e,n){"use strict";var r=n(41),i=n(138),o=n(143),a=n(144),s=n(359),u=i(o);r(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},function(t,e,n){"use strict";var r=n(41).supportsDescriptors,i=n(144),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=u(c),n=o(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),i=(a(r),a(n(5))),o=a(n(362));a(n(363));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}e.default=function(t,e){var n,a,h="__create-react-context-"+(0,o.default)()+"__",f=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.emitter=l(r.props.value),u(r,e)}return c(n,t),n.prototype.getChildContext=function(){var t;return(t={})[h]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,i=void 0;((o=n)===(a=r)?0!==o||1/o==1/a:o!=o&&a!=a)?i=0:(i="function"==typeof e?e(n,r):1073741823,0!==(i|=0)&&this.emitter.set(t.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[h]=i.default.object.isRequired,n);var p=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!=((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return c(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?1073741823:e},n.prototype.componentDidMount=function(){this.context[h]&&this.context[h].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?1073741823:t},n.prototype.componentWillUnmount=function(){this.context[h]&&this.context[h].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[h]?this.context[h].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return p.contextTypes=((a={})[h]=i.default.object,a),{Provider:f,Consumer:p}},t.exports=e.default},function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(33))},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"someByType",(function(){return pc})),n.d(r,"findByType",(function(){return dc})),n.d(r,"isNil",(function(){return yc}));var i=n(29),o=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},a=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return o(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var s=a(o),u=s.right,c=(s.left,u);var l=Array.prototype,h=(l.slice,l.map,Math.sqrt(50)),f=Math.sqrt(10),p=Math.sqrt(2),d=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=y(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function y(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=f?5:o>=p?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=f?5:o>=p?2:1)}function v(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=f?i*=5:o>=p&&(i*=2),e<t?-i:i}var g=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},m=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r};Array.prototype.slice;var b={value:function(){}};function w(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new _(r)}function _(t){this._=t}function E(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function T(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function x(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=b,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}_.prototype=w.prototype={constructor:_,on:function(t,e){var n,r=this._,i=E(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=x(r[n],t.name,e);else if(null==e)for(n in r)r[n]=x(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=T(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var S=w;function C(){}var k=function(t){return null==t?C:function(){return this.querySelector(t)}};function I(){return[]}var N=function(t){return null==t?I:function(){return this.querySelectorAll(t)}},P=function(t){return function(){return this.matches(t)}},O=function(t){return new Array(t.length)};function A(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}A.prototype={constructor:A,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function R(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new A(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function D(t,e,n,r,i,o,a){var s,u,c,l={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c="$"+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new A(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function M(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var L="http://www.w3.org/1999/xhtml",F={svg:"http://www.w3.org/2000/svg",xhtml:L,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),F.hasOwnProperty(e)?{space:F[e],local:t}:t};function j(t){return function(){this.removeAttribute(t)}}function V(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q(t,e){return function(){this.setAttribute(t,e)}}function B(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function W(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Q=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function H(t){return function(){this.style.removeProperty(t)}}function G(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Y(t,e){return t.style.getPropertyValue(e)||Q(t).getComputedStyle(t,null).getPropertyValue(e)}function K(t){return function(){delete this[t]}}function X(t,e){return function(){this[t]=e}}function J(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Z(t){return t.trim().split(/^|\s+/)}function tt(t){return t.classList||new et(t)}function et(t){this._node=t,this._names=Z(t.getAttribute("class")||"")}function nt(t,e){for(var n=tt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function rt(t,e){for(var n=tt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function it(t){return function(){nt(this,t)}}function ot(t){return function(){rt(this,t)}}function at(t,e){return function(){(e.apply(this,arguments)?nt:rt)(this,t)}}et.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function st(){this.textContent=""}function ut(t){return function(){this.textContent=t}}function ct(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function lt(){this.innerHTML=""}function ht(t){return function(){this.innerHTML=t}}function ft(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function dt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===L&&e.documentElement.namespaceURI===L?e.createElement(t):e.createElementNS(n,t)}}function vt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var gt=function(t){var e=U(t);return(e.local?vt:yt)(e)};function mt(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function wt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _t(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Et={},Tt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Et={mouseenter:"mouseover",mouseleave:"mouseout"}));function xt(t,e,n){return t=St(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function St(t,e,n){return function(r){var i=Tt;Tt=r;try{t.call(this,this.__data__,e,n)}finally{Tt=i}}}function Ct(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function kt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function It(t,e,n){var r=Et.hasOwnProperty(t.type)?xt:St;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Nt(t,e,n){var r=Q(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Pt(t,e){return function(){return Nt(this,t,e)}}function Ot(t,e){return function(){return Nt(this,t,e.apply(this,arguments))}}var At=[null];function Rt(t,e){this._groups=t,this._parents=e}function Dt(){return new Rt([[document.documentElement]],At)}Rt.prototype=Dt.prototype={constructor:Rt,select:function(t){"function"!=typeof t&&(t=k(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Rt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=N(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Rt(r,i)},filter:function(t){"function"!=typeof t&&(t=P(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Rt(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each((function(t){d[++l]=t})),d;var n,r=e?D:R,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=i[l],f=o[l],p=f.length,d=t.call(h,h&&h.__data__,l,i),y=d.length,v=u[l]=new Array(y),g=s[l]=new Array(y);r(h,f,v,g,c[l]=new Array(p),d,e);for(var m,b,w=0,_=0;w<y;++w)if(m=v[w]){for(w>=_&&(_=w+1);!(b=g[_])&&++_<y;);m._next=b||null}}return(s=new Rt(s,i))._enter=u,s._exit=c,s},enter:function(){return new Rt(this._enter||this._groups.map(O),this._parents)},exit:function(){return new Rt(this._exit||this._groups.map(O),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Rt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=M);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Rt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=U(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?V:j:"function"==typeof e?n.local?W:z:n.local?B:q)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?H:"function"==typeof e?$:G)(t,e,null==n?"":n)):Y(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?K:"function"==typeof e?J:X)(t,e)):this.node()[t]},classed:function(t,e){var n=Z(t+"");if(arguments.length<2){for(var r=tt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?at:e?it:ot)(n,e))},text:function(t){return arguments.length?this.each(null==t?st:("function"==typeof t?ct:ut)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?lt:("function"==typeof t?ft:ht)(t)):this.node().innerHTML},raise:function(){return this.each(pt)},lower:function(){return this.each(dt)},append:function(t){var e="function"==typeof t?t:gt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:gt(t),r=null==e?mt:"function"==typeof e?e:k(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?_t:wt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Ct(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?It:kt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ot:Pt)(t,e))}};var Mt=Dt,Lt=function(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],At)};var Ft=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ut(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jt(){}var Vt="\\s*([+-]?\\d+)\\s*",qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zt=/^#([0-9a-f]{3,8})$/,Wt=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),Qt=new RegExp("^rgb\\("+[Bt,Bt,Bt]+"\\)$"),Ht=new RegExp("^rgba\\("+[Vt,Vt,Vt,qt]+"\\)$"),Gt=new RegExp("^rgba\\("+[Bt,Bt,Bt,qt]+"\\)$"),$t=new RegExp("^hsl\\("+[qt,Bt,Bt]+"\\)$"),Yt=new RegExp("^hsla\\("+[qt,Bt,Bt,qt]+"\\)$"),Kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xt(){return this.rgb().formatHex()}function Jt(){return this.rgb().formatRgb()}function Zt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?te(e):3===n?new ie(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ee(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ee(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wt.exec(t))?new ie(e[1],e[2],e[3],1):(e=Qt.exec(t))?new ie(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ht.exec(t))?ee(e[1],e[2],e[3],e[4]):(e=Gt.exec(t))?ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$t.exec(t))?ue(e[1],e[2]/100,e[3]/100,1):(e=Yt.exec(t))?ue(e[1],e[2]/100,e[3]/100,e[4]):Kt.hasOwnProperty(t)?te(Kt[t]):"transparent"===t?new ie(NaN,NaN,NaN,0):null}function te(t){return new ie(t>>16&255,t>>8&255,255&t,1)}function ee(t,e,n,r){return r<=0&&(t=e=n=NaN),new ie(t,e,n,r)}function ne(t){return t instanceof jt||(t=Zt(t)),t?new ie((t=t.rgb()).r,t.g,t.b,t.opacity):new ie}function re(t,e,n,r){return 1===arguments.length?ne(t):new ie(t,e,n,null==r?1:r)}function ie(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function oe(){return"#"+se(this.r)+se(this.g)+se(this.b)}function ae(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function se(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ue(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new le(t,e,n,r)}function ce(t){if(t instanceof le)return new le(t.h,t.s,t.l,t.opacity);if(t instanceof jt||(t=Zt(t)),!t)return new le;if(t instanceof le)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new le(a,s,u,t.opacity)}function le(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function he(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function fe(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Ft(jt,Zt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xt,formatHex:Xt,formatHsl:function(){return ce(this).formatHsl()},formatRgb:Jt,toString:Jt}),Ft(ie,re,Ut(jt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ie(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ie(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oe,formatHex:oe,formatRgb:ae,toString:ae})),Ft(le,(function(t,e,n,r){return 1===arguments.length?ce(t):new le(t,e,n,null==r?1:r)}),Ut(jt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new le(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new le(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ie(he(t>=240?t-240:t+120,i,r),he(t,i,r),he(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pe=function(t){return function(){return t}};function de(t,e){return function(n){return t+n*e}}function ye(t){return 1==(t=+t)?ve:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):pe(isNaN(e)?n:e)}}function ve(t,e){var n=e-t;return n?de(t,n):pe(isNaN(t)?e:t)}var ge=function t(e){var n=ye(e);function r(t,e){var r=n((t=re(t)).r,(e=re(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ve(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function me(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=re(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}me((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return fe((n-r/e)*e,a,i,o,s)}})),me((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return fe((n-r/e)*e,i,o,a,s)}}));var be=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function we(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _e(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Pe(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var Ee=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Te=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},xe=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Pe(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ce=new RegExp(Se.source,"g");var ke,Ie,Ne=function(t,e){var n,r,i,o=Se.lastIndex=Ce.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Se.exec(t))&&(r=Ce.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Te(n,r)})),o=Ce.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},Pe=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?pe(e):("number"===r?Te:"string"===r?(n=Zt(e))?(e=n,ge):Ne:e instanceof Zt?ge:e instanceof Date?Ee:we(e)?be:Array.isArray(e)?_e:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?xe:Te)(t,e)},Oe=0,Ae=0,Re=0,De=0,Me=0,Le=0,Fe="object"==typeof performance&&performance.now?performance:Date,Ue="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function je(){return Me||(Ue(Ve),Me=Fe.now()+Le)}function Ve(){Me=0}function qe(){this._call=this._time=this._next=null}function Be(t,e,n){var r=new qe;return r.restart(t,e,n),r}function ze(){Me=(De=Fe.now())+Le,Oe=Ae=0;try{!function(){je(),++Oe;for(var t,e=ke;e;)(t=Me-e._time)>=0&&e._call.call(null,t),e=e._next;--Oe}()}finally{Oe=0,function(){var t,e,n=ke,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ke=e);Ie=t,Qe(r)}(),Me=0}}function We(){var t=Fe.now(),e=t-De;e>1e3&&(Le-=e,De=t)}function Qe(t){Oe||(Ae&&(Ae=clearTimeout(Ae)),t-Me>24?(t<1/0&&(Ae=setTimeout(ze,t-Fe.now()-Le)),Re&&(Re=clearInterval(Re))):(Re||(De=Fe.now(),Re=setInterval(We,1e3)),Oe=1,Ue(ze)))}qe.prototype=Be.prototype={constructor:qe,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?je():+n)+(null==e?0:+e),this._next||Ie===this||(Ie?Ie._next=this:ke=this,Ie=this),this._call=t,this._time=n,Qe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qe())}};var He=function(t,e,n){var r=new qe;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Ge=S("start","end","cancel","interrupt"),$e=[],Ye=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,h,f;if(1!==n.state)return s();for(c in i)if((f=i[c]).name===n.name){if(3===f.state)return He(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(He((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Be((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Ge,tween:$e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Ke(t,e){var n=Je(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Xe(t,e){var n=Je(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Je(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ze,tn,en,nn,rn=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},on=180/Math.PI,an={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},sn=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*on,skewX:Math.atan(u)*on,scaleX:a,scaleY:s}};function un(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Te(t,i)},{i:u-2,x:Te(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Te(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Te(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Te(t,n)},{i:s-2,x:Te(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var cn=un((function(t){return"none"===t?an:(Ze||(Ze=document.createElement("DIV"),tn=document.documentElement,en=document.defaultView),Ze.style.transform=t,t=en.getComputedStyle(tn.appendChild(Ze),null).getPropertyValue("transform"),tn.removeChild(Ze),t=t.slice(7,-1).split(","),sn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ln=un((function(t){return null==t?an:(nn||(nn=document.createElementNS("http://www.w3.org/2000/svg","g")),nn.setAttribute("transform",t),(t=nn.transform.baseVal.consolidate())?(t=t.matrix,sn(t.a,t.b,t.c,t.d,t.e,t.f)):an)}),", ",")",")");function hn(t,e){var n,r;return function(){var i=Xe(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function fn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Xe(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function pn(t,e,n){var r=t._id;return t.each((function(){var t=Xe(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Je(t,r).value[e]}}var dn=function(t,e){var n;return("number"==typeof e?Te:e instanceof Zt?ge:(n=Zt(e))?(e=n,ge):Ne)(t,e)};function yn(t){return function(){this.removeAttribute(t)}}function vn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function mn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function bn(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function wn(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function _n(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function En(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Tn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&En(t,i)),n}return i._value=e,i}function xn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_n(t,i)),n}return i._value=e,i}function Sn(t,e){return function(){Ke(this,t).delay=+e.apply(this,arguments)}}function Cn(t,e){return e=+e,function(){Ke(this,t).delay=e}}function kn(t,e){return function(){Xe(this,t).duration=+e.apply(this,arguments)}}function In(t,e){return e=+e,function(){Xe(this,t).duration=e}}function Nn(t,e){if("function"!=typeof e)throw new Error;return function(){Xe(this,t).ease=e}}function Pn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ke:Xe;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var On=Mt.prototype.constructor;function An(t){return function(){this.style.removeProperty(t)}}function Rn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Dn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Rn(t,o,n)),r}return o._value=e,o}function Mn(t){return function(e){this.textContent=t.call(this,e)}}function Ln(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Mn(r)),e}return r._value=t,r}var Fn=0;function Un(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jn(){return++Fn}var Vn=Mt.prototype;Un.prototype=function(t){return Mt().transition(t)}.prototype={constructor:Un,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=k(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Ye(h[f],e,n,f,h,Je(s,n)));return new Un(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=N(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,p=t.call(u,u.__data__,h,c),d=Je(u,n),y=0,v=p.length;y<v;++y)(f=p[y])&&Ye(f,e,n,y,p,d);o.push(p),a.push(u)}return new Un(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=P(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Un(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Un(a,this._parents,this._name,this._id)},selection:function(){return new On(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=jn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Je(a,e);Ye(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Un(r,this._parents,t,n)},call:Vn.call,nodes:Vn.nodes,node:Vn.node,size:Vn.size,empty:Vn.empty,each:Vn.each,on:function(t,e){var n=this._id;return arguments.length<2?Je(this.node(),n).on.on(t):this.each(Pn(n,t,e))},attr:function(t,e){var n=U(t),r="transform"===n?ln:dn;return this.attrTween(t,"function"==typeof e?(n.local?wn:bn)(n,r,pn(this,"attr."+t,e)):null==e?(n.local?vn:yn)(n):(n.local?mn:gn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=U(t);return this.tween(n,(r.local?Tn:xn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?cn:dn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Y(this,t),a=(this.style.removeProperty(t),Y(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,An(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Y(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Y(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,pn(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Xe(this,t),c=u.on,l=null==u.value[a]?o||(o=An(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Y(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Dn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(pn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ln(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Je(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?hn:fn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Sn:Cn)(e,t)):Je(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?kn:In)(e,t)):Je(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Nn(e,t)):Je(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=Xe(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var qn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Bn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return qn.time=je(),qn;return n}Mt.prototype.interrupt=function(t){return this.each((function(){rn(this,t)}))},Mt.prototype.transition=function(t){var e,n;t instanceof Un?(e=t._id,t=t._name):(e=jn(),(n=qn).time=je(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Ye(a,t,e,c,s,n||Bn(a,e));return new Un(r,this._parents,t,e)};function zn(t){return[+t[0],+t[1]]}function Wn(t){return[zn(t[0]),zn(t[1])]}["w","e"].map(Qn),["n","s"].map(Qn),["n","w","e","s","nw","ne","sw","se"].map(Qn);function Qn(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Hn=Math.PI,Gn=2*Hn,$n=Gn-1e-6;function Yn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Kn(){return new Yn}Yn.prototype=Kn.prototype={constructor:Yn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var f=n-o,p=r-a,d=s*s+u*u,y=f*f+p*p,v=Math.sqrt(d),g=Math.sqrt(h),m=i*Math.tan((Hn-Math.acos((d+h-y)/(2*v*g)))/2),b=m/g,w=m/v;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*p)+","+(this._x1=t+w*s)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Gn+Gn),h>$n?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Hn)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Xn=Kn;function Jn(){}function Zn(t,e){var n=new Jn;if(t instanceof Jn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Jn.prototype=Zn.prototype={constructor:Jn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var tr=Zn;function er(){}var nr=tr.prototype;function rr(t,e){var n=new er;if(t instanceof er)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}er.prototype=rr.prototype={constructor:er,has:nr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:nr.remove,clear:nr.clear,values:nr.keys,size:nr.size,empty:nr.empty,each:nr.each};Array.prototype.slice;var ir={},or={};function ar(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function sr(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ur(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function cr(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ur(-e,6):e>9999?"+"+ur(e,6):ur(e,4))+"-"+ur(t.getUTCMonth()+1,2)+"-"+ur(t.getUTCDate(),2)+(o?"T"+ur(n,2)+":"+ur(r,2)+":"+ur(i,2)+"."+ur(o,3)+"Z":i?"T"+ur(n,2)+":"+ur(r,2)+":"+ur(i,2)+"Z":r||n?"T"+ur(n,2)+":"+ur(r,2)+"Z":"")}var lr=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return or;if(c)return c=!1,ir;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==or;){for(var h=[];r!==ir&&r!==or;)h.push(r),r=l();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?cr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ar(t);return function(r,i){return e(n(r),i,t)}}(t,e):ar(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=sr(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=sr(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},hr=lr(","),fr=hr.parse,pr=(hr.parseRows,hr.format,hr.formatBody,hr.formatRows,hr.formatRow,hr.formatValue,lr("\t")),dr=pr.parse;pr.parseRows,pr.format,pr.formatBody,pr.formatRows,pr.formatRow,pr.formatValue;function yr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var vr=function(t,e){return fetch(t,e).then(yr)};function gr(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),vr(e,n).then((function(e){return t(e,r)}))}}var mr=gr(fr);gr(dr);function br(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,h,f,p=t._root,d={data:r},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(y+g)/2))?y=o:g=o,(l=n>=(a=(v+m)/2))?v=a:m=a,i=p,!(p=p[h=l<<1|c]))return i[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(y+g)/2))?y=o:g=o,(l=n>=(a=(v+m)/2))?v=a:m=a}while((h=l<<1|c)==(f=(u>=a)<<1|s>=o));return i[f]=p,i[h]=d,t}var wr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function _r(t){return t[0]}function Er(t){return t[1]}function Tr(t,e,n){var r=new xr(null==e?_r:e,null==n?Er:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function xr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Sr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Cr=Tr.prototype=xr.prototype;Cr.copy=function(){var t,e,n=new xr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Sr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Sr(e));return n},Cr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return br(this.cover(e,n),e,n,t)},Cr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));if(u>l||c>h)return this;for(this.cover(u,c).cover(l,h),n=0;n<o;++n)br(this,a[n],s[n],t[n]);return this},Cr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Cr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Cr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Cr.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],y=this._root;for(y&&d.push(new wr(y,l,h,f,p)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(y=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<l||(s=u.y1)<h))if(y.length){var v=(i+a)/2,g=(o+s)/2;d.push(new wr(y[3],v,g,a,s),new wr(y[2],i,g,v,s),new wr(y[1],v,o,a,g),new wr(y[0],i,o,v,g)),(c=(e>=g)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),w=m*m+b*b;if(w<n){var _=Math.sqrt(n=w);l=t-_,h=e-_,f=t+_,p=e+_,r=y.data}}return r},Cr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,h,f,p=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(s=(d+v)/2))?d=s:v=s,(l=a>=(u=(y+g)/2))?y=u:g=u,e=p,!(p=p[h=l<<1|c]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Cr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Cr.root=function(){return this._root},Cr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Cr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new wr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new wr(n,c,l,o,a)),(n=u[2])&&s.push(new wr(n,r,l,c,a)),(n=u[1])&&s.push(new wr(n,c,i,o,l)),(n=u[0])&&s.push(new wr(n,r,i,c,l))}return this},Cr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new wr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,h=(s+c)/2;(o=i[0])&&n.push(new wr(o,a,s,l,h)),(o=i[1])&&n.push(new wr(o,l,s,u,h)),(o=i[2])&&n.push(new wr(o,a,h,l,c)),(o=i[3])&&n.push(new wr(o,l,h,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Cr.x=function(t){return arguments.length?(this._x=t,this):this._x},Cr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);function kr(t){if("function"!=typeof t)throw new Error;return t}function Ir(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Nr(t,e){var n,r,i,o,a,s=new Rr(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Pr);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Rr(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Ar)}function Pr(t){return t.children}function Or(t){t.data=t.data.data}function Ar(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Rr(t){this.data=t,this.depth=this.height=0,this.parent=null}Rr.prototype=Nr.prototype={constructor:Rr,count:function(){return this.eachAfter(Ir)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Nr(this).eachBefore(Or)}};var Dr={depth:-1},Mr={};function Lr(t){return t.id}function Fr(t){return t.parentId}var Ur=function(){return Math.random()},jr=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Ur),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Ur)),Vr=(function t(e){function n(){var t=jr.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Ur),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Ur));(function t(e){function n(t){var n=Vr.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Ur),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Ur);function qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Br=Array.prototype,zr=Br.map,Wr=Br.slice;var Qr=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Hr=function(t){return+t},Gr=[0,1];function $r(t){return t}function Yr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Kr(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Xr(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Yr(i,r),o=n(a,o)):(r=Yr(r,i),o=n(o,a)),function(t){return o(r(t))}}function Jr(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Yr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=c(t,e,1,r)-1;return o[n](i[n](e))}}function Zr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ti(){var t,e,n,r,i,o,a=Gr,s=Gr,u=Pe,c=$r;function l(){return r=Math.min(a.length,s.length)>2?Jr:Xr,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Te)))(n)))},h.domain=function(t){return arguments.length?(a=zr.call(t,Hr),c===$r||(c=Kr(a)),l()):a.slice()},h.range=function(t){return arguments.length?(s=Wr.call(t),l()):s.slice()},h.rangeRound=function(t){return s=Wr.call(t),u=Qr,l()},h.clamp=function(t){return arguments.length?(c=t?Kr(a):$r,h):c!==$r},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function ei(t,e){return ti()(t,e)}var ni=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ri(t){if(!(e=ni.exec(t)))throw new Error("invalid format: "+t);var e;return new ii({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ii(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}ri.prototype=ii.prototype,ii.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var oi,ai,si,ui,ci=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},li=function(t){return(t=ci(Math.abs(t)))?t[1]:NaN},hi=function(t,e){var n=ci(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},fi={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return hi(100*t,e)},r:hi,s:function(t,e){var n=ci(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(oi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ci(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},pi=function(t){return t},di=Array.prototype.map,yi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];ai=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?pi:(e=di.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?pi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(di.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ri(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,y=t.comma,v=t.precision,g=t.trim,m=t.type;"n"===m?(y=!0,m="g"):fi[m]||(void 0===v&&(v=12),g=!0,m="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===f?o:/[%p]/.test(m)?u:"",_=fi[m],E=/[defgprs%]/.test(m);function T(t){var i,o,u,f=b,T=w;if("c"===m)T=_(t)+T,t="";else{var x=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),x&&0==+t&&"+"!==h&&(x=!1),f=(x?"("===h?h:c:"-"===h||"("===h?"":h)+f,T=("s"===m?yi[8+oi/3]:"")+T+(x&&"("===h?")":""),E)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){T=(46===u?a+t.slice(i+1):t.slice(i))+T,t=t.slice(0,i);break}}y&&!p&&(t=r(t,1/0));var S=f.length+t.length+T.length,C=S<d?new Array(d-S+1).join(e):"";switch(y&&p&&(t=r(C+t,C.length?d-T.length:1/0),C=""),n){case"<":t=f+t+T+C;break;case"=":t=f+C+t+T;break;case"^":t=C.slice(0,S=C.length>>1)+f+t+T+C.slice(S);break;default:t=C+f+t+T}return s(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),T.toString=function(){return t+""},T}return{format:h,formatPrefix:function(t,e){var n=h(((t=ri(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(li(e)/3))),i=Math.pow(10,-r),o=yi[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),si=ai.format,ui=ai.formatPrefix;var vi=function(t,e,n,r){var i,o=v(t,e,n);switch((r=ri(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(li(e)/3)))-li(Math.abs(t)))}(o,a))||(r.precision=i),ui(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,li(e)-li(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-li(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return si(r)};function gi(t){var e=t.domain;return t.ticks=function(t){var n=e();return d(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return vi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=y(s,u,n))>0?r=y(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=y(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function mi(){var t=ei($r,$r);return t.copy=function(){return Zr(t,mi())},qr.apply(t,arguments),gi(t)}var bi=new Date,wi=new Date;function _i(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return _i((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return bi.setTime(+e),wi.setTime(+r),t(bi),t(wi),Math.floor(n(bi,wi))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ei=_i((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ei.every=function(t){return isFinite(t=Math.floor(t))&&t>0?_i((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ti=Ei,xi=(Ei.range,_i((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));xi.range;function Si(t){return _i((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Ci=Si(0),ki=Si(1),Ii=Si(2),Ni=Si(3),Pi=Si(4),Oi=Si(5),Ai=Si(6),Ri=(Ci.range,ki.range,Ii.range,Ni.range,Pi.range,Oi.range,Ai.range,_i((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),Di=Ri,Mi=(Ri.range,_i((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),Li=(Mi.range,_i((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),Fi=(Li.range,_i((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Ui=(Fi.range,_i((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));Ui.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?_i((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ui:null};Ui.range;function ji(t){return _i((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Vi=ji(0),qi=ji(1),Bi=ji(2),zi=ji(3),Wi=ji(4),Qi=ji(5),Hi=ji(6),Gi=(Vi.range,qi.range,Bi.range,zi.range,Wi.range,Qi.range,Hi.range,_i((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),$i=Gi,Yi=(Gi.range,_i((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Yi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?_i((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Ki=Yi;Yi.range;function Xi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ji(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var to,eo={"-":"",_:" ",0:"0"},no=/^\s*\d+/,ro=/^%/,io=/[\\^$*+?|[\]().{}]/g;function oo(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ao(t){return t.replace(io,"\\$&")}function so(t){return new RegExp("^(?:"+t.map(ao).join("|")+")","i")}function uo(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function co(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function po(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function yo(t,e,n){var r=no.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function go(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mo(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function bo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _o(t,e,n){var r=no.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Eo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function To(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function So(t,e,n){var r=no.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Co(t,e,n){var r=no.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ko(t,e,n){var r=ro.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Io(t,e,n){var r=no.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function No(t,e,n){var r=no.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Po(t,e){return oo(t.getDate(),e,2)}function Oo(t,e){return oo(t.getHours(),e,2)}function Ao(t,e){return oo(t.getHours()%12||12,e,2)}function Ro(t,e){return oo(1+Di.count(Ti(t),t),e,3)}function Do(t,e){return oo(t.getMilliseconds(),e,3)}function Mo(t,e){return Do(t,e)+"000"}function Lo(t,e){return oo(t.getMonth()+1,e,2)}function Fo(t,e){return oo(t.getMinutes(),e,2)}function Uo(t,e){return oo(t.getSeconds(),e,2)}function jo(t){var e=t.getDay();return 0===e?7:e}function Vo(t,e){return oo(Ci.count(Ti(t)-1,t),e,2)}function qo(t,e){var n=t.getDay();return t=n>=4||0===n?Pi(t):Pi.ceil(t),oo(Pi.count(Ti(t),t)+(4===Ti(t).getDay()),e,2)}function Bo(t){return t.getDay()}function zo(t,e){return oo(ki.count(Ti(t)-1,t),e,2)}function Wo(t,e){return oo(t.getFullYear()%100,e,2)}function Qo(t,e){return oo(t.getFullYear()%1e4,e,4)}function Ho(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+oo(e/60|0,"0",2)+oo(e%60,"0",2)}function Go(t,e){return oo(t.getUTCDate(),e,2)}function $o(t,e){return oo(t.getUTCHours(),e,2)}function Yo(t,e){return oo(t.getUTCHours()%12||12,e,2)}function Ko(t,e){return oo(1+$i.count(Ki(t),t),e,3)}function Xo(t,e){return oo(t.getUTCMilliseconds(),e,3)}function Jo(t,e){return Xo(t,e)+"000"}function Zo(t,e){return oo(t.getUTCMonth()+1,e,2)}function ta(t,e){return oo(t.getUTCMinutes(),e,2)}function ea(t,e){return oo(t.getUTCSeconds(),e,2)}function na(t){var e=t.getUTCDay();return 0===e?7:e}function ra(t,e){return oo(Vi.count(Ki(t)-1,t),e,2)}function ia(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Wi(t):Wi.ceil(t),oo(Wi.count(Ki(t),t)+(4===Ki(t).getUTCDay()),e,2)}function oa(t){return t.getUTCDay()}function aa(t,e){return oo(qi.count(Ki(t)-1,t),e,2)}function sa(t,e){return oo(t.getUTCFullYear()%100,e,2)}function ua(t,e){return oo(t.getUTCFullYear()%1e4,e,4)}function ca(){return"+0000"}function la(){return"%"}function ha(t){return+t}function fa(t){return Math.floor(+t/1e3)}!function(t){to=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=so(i),l=uo(i),h=so(o),f=uo(o),p=so(a),d=uo(a),y=so(s),v=uo(s),g=so(u),m=uo(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Po,e:Po,f:Mo,H:Oo,I:Ao,j:Ro,L:Do,m:Lo,M:Fo,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ha,s:fa,S:Uo,u:jo,U:Vo,V:qo,w:Bo,W:zo,x:null,X:null,y:Wo,Y:Qo,Z:Ho,"%":la},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Go,e:Go,f:Jo,H:$o,I:Yo,j:Ko,L:Xo,m:Zo,M:ta,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ha,s:fa,S:ea,u:na,U:ra,V:ia,w:oa,W:aa,x:null,X:null,y:sa,Y:ua,Z:ca,"%":la},_={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return x(t,e,n,r)},d:wo,e:wo,f:Co,H:Eo,I:Eo,j:_o,L:So,m:bo,M:To,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:mo,Q:Io,s:No,S:xo,u:lo,U:ho,V:fo,w:co,W:po,x:function(t,e,r){return x(t,n,e,r)},X:function(t,e,n){return x(t,r,e,n)},y:vo,Y:yo,Z:go,"%":ko};function E(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=eo[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function T(t,e){return function(n){var r,i,o=Zi(1900,void 0,1);if(x(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ji(Zi(o.y,0,1))).getUTCDay(),r=i>4||0===i?qi.ceil(r):qi(r),r=$i.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Xi(Zi(o.y,0,1))).getDay(),r=i>4||0===i?ki.ceil(r):ki(r),r=Di.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ji(Zi(o.y,0,1)).getUTCDay():Xi(Zi(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ji(o)):Xi(o)}}function x(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in eo?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),w.x=E(n,w),w.X=E(r,w),w.c=E(e,w),{format:function(t){var e=E(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=T(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=E(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t+="",!0);return e.toString=function(){return t},e}}}(t),to.format,to.parse,to.utcFormat,to.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pa=_i((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),da=(pa.range,_i((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),ya=(da.range,_i((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})));ya.range;Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var va=Math.PI,ga=2*va;var ma={draw:function(t,e){var n=Math.sqrt(e/va);t.moveTo(n,0),t.arc(0,0,n,0,ga)}},ba={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wa=Math.sqrt(1/3),_a=2*wa,Ea={draw:function(t,e){var n=Math.sqrt(e/_a),r=n*wa;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ta=Math.sin(va/10)/Math.sin(7*va/10),xa=Math.sin(ga/10)*Ta,Sa=-Math.cos(ga/10)*Ta,Ca={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=xa*n,i=Sa*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=ga*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},ka={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Ia=Math.sqrt(3),Na={draw:function(t,e){var n=-Math.sqrt(e/(3*Ia));t.moveTo(0,2*n),t.lineTo(-Ia*n,-n),t.lineTo(Ia*n,-n),t.closePath()}},Pa=Math.sqrt(3)/2,Oa=1/Math.sqrt(12),Aa=3*(Oa/2+1),Ra={draw:function(t,e){var n=Math.sqrt(e/Aa),r=n/2,i=n*Oa,o=r,a=n*Oa+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-Pa*i,Pa*r+-.5*i),t.lineTo(-.5*o-Pa*a,Pa*o+-.5*a),t.lineTo(-.5*s-Pa*u,Pa*s+-.5*u),t.lineTo(-.5*r+Pa*i,-.5*i-Pa*r),t.lineTo(-.5*o+Pa*a,-.5*a-Pa*o),t.lineTo(-.5*s+Pa*u,-.5*u-Pa*s),t.closePath()}},Da=function(t){return function(){return t}},Ma=function(){var t=Da(ma),e=Da(64),n=null;function r(){var r;if(n||(n=r=Xn()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Da(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Da(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r};function La(){this._=null}function Fa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ua(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ja(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Va(t){for(;t.L;)t=t.L;return t}La.prototype={constructor:La,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Va(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ua(this,n),n=(t=n).U),n.C=!1,r.C=!0,ja(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ja(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ua(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Va(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ua(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ja(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ua(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ja(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ua(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ja(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var qa=La;function Ba(t,e,n,r){var i=[null,null],o=fs.push(i)-1;return i.left=t,i.right=e,n&&Wa(i,t,e,n),r&&Wa(i,e,t,r),ls[t.index].halfedges.push(o),ls[e.index].halfedges.push(o),i}function za(t,e,n){var r=[e,n];return r.left=t,r}function Wa(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Qa(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,h=1,f=s[0]-u,p=s[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>l&&(l=o)}if(o=i-c,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*p]),h<1&&(t[1]=[u+h*f,c+h*p]),!0)}}}}}function Ha(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],p=l[0],d=l[1],y=(h+p)/2,v=(f+d)/2;if(d===f){if(y<e||y>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[y,n];o=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];o=[y,n]}}else if(s=v-(a=(h-p)/(d-f))*y,a<-1||a>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Ga(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $a(t,e){return e[+(e.left!==t.site)]}function Ya(t,e){return e[+(e.left===t.site)]}var Ka,Xa=[];function Ja(){Fa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Za(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,h=o[1]-s,f=2*(u*h-c*l);if(!(f>=-ds)){var p=u*u+c*c,d=l*l+h*h,y=(h*p-c*d)/f,v=(u*d-l*p)/f,g=Xa.pop()||new Ja;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=hs._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}hs.insert(m,g),m||(Ka=g)}}}}function ts(t){var e=t.circle;e&&(e.P||(Ka=e.N),hs.remove(e),Xa.push(e),Fa(e),t.circle=null)}var es=[];function ns(){Fa(this),this.edge=this.site=this.circle=null}function rs(t){var e=es.pop()||new ns;return e.site=t,e}function is(t){ts(t),cs.remove(t),es.push(t),Fa(t)}function os(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];is(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<ps&&Math.abs(r-u.circle.cy)<ps;)o=u.P,s.unshift(u),is(u),u=o;s.unshift(u),ts(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<ps&&Math.abs(r-c.circle.cy)<ps;)a=c.N,s.push(c),is(c),c=a;s.push(c),ts(c);var l,h=s.length;for(l=1;l<h;++l)c=s[l],u=s[l-1],Wa(c.edge,u.site,c.site,i);u=s[0],(c=s[h-1]).edge=Ba(u.site,c.site,null,i),Za(u),Za(c)}function as(t){for(var e,n,r,i,o=t[0],a=t[1],s=cs._;s;)if((r=ss(s,a)-o)>ps)s=s.L;else{if(!((i=o-us(s,a))>ps)){r>-ps?(e=s.P,n=s):i>-ps?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ls[t.index]={site:t,halfedges:[]}}(t);var u=rs(t);if(cs.insert(e,u),e||n){if(e===n)return ts(e),n=rs(e.site),cs.insert(u,n),u.edge=n.edge=Ba(e.site,u.site),Za(e),void Za(n);if(n){ts(e),ts(n);var c=e.site,l=c[0],h=c[1],f=t[0]-l,p=t[1]-h,d=n.site,y=d[0]-l,v=d[1]-h,g=2*(f*v-p*y),m=f*f+p*p,b=y*y+v*v,w=[(v*m-p*b)/g+l,(f*b-y*m)/g+h];Wa(n.edge,c,d,w),u.edge=Ba(c,t,null,w),n.edge=Ba(t,d,null,w),Za(e),Za(n)}else u.edge=Ba(e.site,u.site)}}function ss(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function us(t,e){var n=t.N;if(n)return ss(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var cs,ls,hs,fs,ps=1e-6,ds=1e-12;function ys(t,e){return e[1]-t[1]||e[0]-t[0]}function vs(t,e){var n,r,i,o=t.sort(ys).pop();for(fs=[],ls=new Array(t.length),cs=new qa,hs=new qa;;)if(i=Ka,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(as(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;os(i.arc)}if(function(){for(var t,e,n,r,i=0,o=ls.length;i<o;++i)if((t=ls[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Ga(t,fs[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=fs.length;o--;)Ha(i=fs[o],t,e,n,r)&&Qa(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ps||Math.abs(i[0][1]-i[1][1])>ps)||delete fs[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,h,f,p,d,y,v=ls.length,g=!0;for(i=0;i<v;++i)if(o=ls[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)fs[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)d=(p=Ya(o,fs[u[s]]))[0],y=p[1],h=(l=$a(o,fs[u[++s%c]]))[0],f=l[1],(Math.abs(d-h)>ps||Math.abs(y-f)>ps)&&(u.splice(s,0,fs.push(za(a,p,Math.abs(d-t)<ps&&r-y>ps?[t,Math.abs(h-t)<ps?f:r]:Math.abs(y-r)<ps&&n-d>ps?[Math.abs(f-r)<ps?h:n,r]:Math.abs(d-n)<ps&&y-e>ps?[n,Math.abs(h-n)<ps?f:e]:Math.abs(y-e)<ps&&d-t>ps?[Math.abs(f-e)<ps?h:t,e]:null))-1),++c);c&&(g=!1)}if(g){var m,b,w,_=1/0;for(i=0,g=null;i<v;++i)(o=ls[i])&&(w=(m=(a=o.site)[0]-t)*m+(b=a[1]-e)*b)<_&&(_=w,g=o);if(g){var E=[t,e],T=[t,r],x=[n,r],S=[n,e];g.halfedges.push(fs.push(za(a=g.site,E,T))-1,fs.push(za(a,T,x))-1,fs.push(za(a,x,S))-1,fs.push(za(a,S,E))-1)}}for(i=0;i<v;++i)(o=ls[i])&&(o.halfedges.length||delete ls[i])}(a,s,u,c)}this.edges=fs,this.cells=ls,cs=hs=fs=ls=null}vs.prototype={constructor:vs,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return $a(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,h=-1,f=e[i[o-1]],p=f.left===l?f.right:f.left;++h<o;)a=p,p=(f=e[i[h]]).left===l?f.right:f.left,a&&p&&r<a.index&&r<p.index&&(u=a,c=p,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};Math.SQRT2;function gs(t,e,n){this.k=t,this.x=e,this.y=n}gs.prototype={constructor:gs,scale:function(t){return 1===t?this:new gs(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new gs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new gs(1,0,0);gs.prototype;var ms=function(){function t(t,e,n){var r=this;this.margin={},this.width=0,this.height=0,this.quartetNum="",this.data=[],this.svg=Lt("#mainDiv").append("svg"),this.xScale=mi(),this.yScale=mi(),mr("https://gist.githubusercontent.com/ericbusboom/b2ac1d366c005cd2ed8c/raw/c92c66e43d144fa9c29dbd602d5af6988e8db533/anscombes.csv").then((function(i){r.data=i,r.margin={top:20,right:20,bottom:20,left:20},r.width=800-r.margin.left-r.margin.right,r.height=800-r.margin.top-r.margin.bottom,r.quartetNum="I",r.xScale.domain([m(r.data,(function(t){return+t.x})),g(r.data,(function(t){return+t.x}))]),r.xScale.range([50,750]),r.yScale.domain([m(r.data,(function(t){return+t.y})),g(r.data,(function(t){return+t.y}))]),r.yScale.range([50,750]),Lt("#quartets").on("change",(function(){t(this.value)})),r.initializeVis(e,n)}))}return t.prototype.initializeVis=function(t,e){var n=this;this.svg.attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);var r=this.data.filter((function(t){return t.dataset===n.quartetNum}));this.svg.selectAll("circle").data(r).enter().append("circle").attr("class","normalNode").attr("id",(function(t){return"node_"+t.id})).attr("cx",(function(t){return n.xScale(+t.x)})).attr("cy",(function(t){return n.height-n.yScale(+t.y)})).on("click",(function(e){return t("node_"+e.id)})).on("mouseover",(function(t){return e("node_"+t.id)})).on("mouseout",(function(t){return e("")}))},t.prototype.changeQuartet=function(t){var e=this;this.quartetNum=t;var n=this.data.filter((function(t){return t.dataset===e.quartetNum}));this.svg.selectAll("circle").data(n).attr("id",(function(t){return"node_"+t.id})).transition().duration(750).attr("cx",(function(t){return e.xScale(+t.x)})).attr("cy",(function(t){return e.height-e.yScale(+t.y)}))},t.prototype.selectNode=function(t){Lt(".selectedNode").classed("selectedNode",!1),Lt("#"+t).classed("selectedNode",!0)},t.prototype.hoverNode=function(t){Lt(".hoverNode").classed("hoverNode",!1),""!==t&&Lt("#"+t).classed("hoverNode",!0)},t}(),bs=n(0),ws=n.n(bs);function _s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ts(t,e,n){return e&&Es(t.prototype,e),n&&Es(t,n),t}function xs(t,e){return(xs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ss(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xs(t,e)}function Cs(t){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ks(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t,e){return!e||"object"!==Cs(e)&&"function"!=typeof e?ks(t):e}function Ns(t){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(5);function Ps(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Os(t){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var As=0;function Rs(t,e){for(var n in e)t[n]=e[n]}var Ds={delay:0,duration:250,ease:function(t){return+t}};var Ms=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=null,this.interrupt=null,this.end=null,e.events&&Object.keys(e.events).forEach((function(t){if("function"!=typeof e.events[t])throw new Error("Event handlers must be a function");var r,i;n[t]=(r=e.events[t],i=!1,function(){i||(i=!0,r.call(this))})}))};function Ls(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Fs(t,e,n[e])}))}return t}function Fs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var js=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=e||{}}var e,n,r;return e=t,(n=[{key:"transition",value:function(t){if(Array.isArray(t)){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this.parse(a)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}else this.parse(t)}},{key:"isTransitioning",value:function(){return!!this.transitionData}},{key:"stopTransitions",value:function(){var t=this.transitionData;t&&Object.keys(t).forEach((function(e){t[e].timer.stop()}))}},{key:"setState",value:function(t){Rs(this.state,"function"==typeof t?t(this.state):t)}},{key:"parse",value:function(t){var e=this,n=Ls({},t),r=new Ms(n);n.events&&delete n.events;var i=Ls({},Ds,n.timing||{},{time:je()});n.timing&&delete n.timing,Object.keys(n).forEach((function(t){var o,a,s=[],u=n[t];if("object"===Os(a=u)&&!1===Array.isArray(a))Object.keys(u).forEach((function(n){var r=u[n];Array.isArray(r)?1===r.length?s.push(e.getTween(n,r[0],t)):(e.setState((function(e){var i,o;return(o={})[t]=Ls({},e[t],((i={})[n]=r[0],i)),o})),s.push(e.getTween(n,r[1],t))):"function"==typeof r?s.push((function(){return function(i){e.setState((function(e){var o,a;return(a={})[t]=Ls({},e[t],((o={})[n]=r(i),o)),a}))}})):(e.setState((function(e){var i,o;return(o={})[t]=Ls({},e[t],((i={})[n]=r,i)),o})),s.push(e.getTween(n,r,t)))}));else if(Array.isArray(u))1===u.length?s.push(e.getTween(t,u[0],null)):(e.setState(((o={})[t]=u[0],o)),s.push(e.getTween(t,u[1],null)));else if("function"==typeof u)s.push((function(){return function(n){var r;e.setState(((r={})[t]=u(n),r))}}));else{var c;e.setState(((c={})[t]=u,c)),s.push(e.getTween(t,u,null))}e.update({stateKey:t,timing:i,tweens:s,events:r,status:0})}))}},{key:"getTween",value:function(t,e,n){var r=this;return function(){var i=n?r.state[n][t]:r.state[t];if(i===e)return null;var o=r.getInterpolator(i,e,t,n);return null===n?function(e){var n;r.setState(((n={})[t]=o(e),n))}:function(e){r.setState((function(r){var i,a;return(a={})[n]=Ls({},r[n],((i={})[t]=o(e),i)),a}))}}}},{key:"update",value:function(t){this.transitionData||(this.transitionData={}),this.init(++As,t)}},{key:"init",value:function(t,e){var n=this,r=e.tweens.length,i=new Array(r);this.transitionData[t]=e,e.timer=Be((function(t){e.status=1,e.timer.restart(o,e.timing.delay,e.timing.time),e.timing.delay<=t&&o(t-e.timing.delay)}),0,e.timing.time);var o=function o(u){if(1!==e.status)return s();for(var c in n.transitionData){var l=n.transitionData[c];if(l.stateKey===e.stateKey){if(3===l.status)return He(o);4===l.status?(l.status=6,l.timer.stop(),l.events.interrupt&&l.events.interrupt.call(n),delete n.transitionData[c]):+c<t&&(l.status=6,l.timer.stop(),delete n.transitionData[c])}}if(He((function(){3===e.status&&(e.status=4,e.timer.restart(a,e.timing.delay,e.timing.time),a(u))})),e.status=2,e.events.start&&e.events.start.call(n),2===e.status){e.status=3;for(var h=-1,f=0;f<r;++f){var p=e.tweens[f]();p&&(i[++h]=p)}i.length=h+1}},a=function(t){var r=1;t<e.timing.duration?r=e.timing.ease(t/e.timing.duration):(e.timer.restart(s),e.status=5);for(var o=-1;++o<i.length;)i[o](r);5===e.status&&(e.events.end&&e.events.end.call(n),s())},s=function(){for(var r in e.status=6,e.timer.stop(),delete n.transitionData[t],n.transitionData)return;delete n.transitionData}}}])&&Us(e.prototype,n),r&&Us(e,r),t}();var Vs=function(t,e,n,r){for(var i=[],o=0;o<n.length;o++)i[o]=n[o];for(var a=0;a<t.length;a++)void 0===r[t[a]]&&i.push(t[a]);return i.sort((function(t,i){var o=r[t],a=r[i],s=e[t],u=e[i];if(null!=o&&null!=a)return r[t]-r[i];if(null!=s&&null!=u)return e[t]-e[i];if(null!=o){for(var c=0;c<n.length;c++){var l=n[c];if(e[l]){if(o<r[l]&&u>e[l])return-1;if(o>r[l]&&u<e[l])return 1}}return 1}for(var h=0;h<n.length;h++){var f=n[h];if(e[f]){if(a<r[f]&&s>e[f])return 1;if(a>r[f]&&s<e[f])return-1}}return-1}))};function qs(t,e){var n=+t,r=+e-n;return function(t){return n+r*t}}function Bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ns(t);if(e){var i=Ns(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Is(this,n)}}var zs=function(t){Ss(n,t);var e=Bs(n);function n(t){var r;_s(this,n),Ps(ks(r=e.call(this,t)),"animate",(function(){var t=r.state,e=t.nodeKeys,n=t.nodeHash;if(!r.unmounting){for(var i=!1,o=[],a=e.length,s=0;s<a;s++){var u=e[s],c=n[u],l=c.isTransitioning();l&&(i=!0),"LEAVE"!==c.type||l?o.push(u):delete n[u]}i||r.interval.stop(),r.setState((function(){return{nodeKeys:o,nodes:o.map((function(t){return n[t]}))}}))}})),Ps(ks(r),"interval",null),Ps(ks(r),"unmounting",!1);var i=t.interpolation,o=function(t){Ss(n,t);var e=Bs(n);function n(t,r){var o;return _s(this,n),Ps(ks(o=e.call(this)),"getInterpolator",i),o.key=t,o.data=r,o.type="ENTER",o}return n}(js);return r.state={Node:o,nodeKeys:[],nodeHash:{},nodes:[],data:null},r}return Ts(n,[{key:"componentDidMount",value:function(){this.startInterval()}},{key:"componentDidUpdate",value:function(t){t.data===this.props.data||this.unmounting||this.startInterval()}},{key:"startInterval",value:function(){var t,e,n,r,i;this.interval?this.interval.restart(this.animate):this.interval=(t=this.animate,r=new qe,i=e,null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?je():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r))}},{key:"componentWillUnmount",value:function(){var t=this.state,e=t.nodeKeys,n=t.nodeHash;this.unmounting=!0,this.interval&&this.interval.stop(),e.forEach((function(t){n[t].stopTransitions()}))}},{key:"render",value:function(){var t=this.props.children(this.state.nodes);return t&&ws.a.Children.only(t)}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data){for(var n=t.data,r=t.keyAccessor,i=t.start,o=t.enter,a=t.update,s=t.leave,u=e.Node,c=e.nodeKeys,l=e.nodeHash,h={},f=0;f<c.length;f++)h[c[f]]=f;for(var p={},d=[],y=0;y<n.length;y++){var v=n[y],g=r(v,y);if(p[g]=y,d.push(g),void 0===h[g]){var m=new u;m.key=g,m.data=v,m.type="ENTER",l[g]=m}}for(var b=0;b<c.length;b++){var w=c[b],_=l[w];void 0!==p[w]?(_.data=n[p[w]],_.type="UPDATE"):_.type="LEAVE"}for(var E=Vs(c,h,d,p),T=0;T<E.length;T++){var x=E[T],S=l[x],C=S.data;"ENTER"===S.type?(S.setState(i(C,p[x])),S.transition(o(C,p[x]))):"LEAVE"===S.type?S.transition(s(C,h[x])):S.transition(a(C,p[x]))}return{data:n,nodes:E.map((function(t){return l[t]})),nodeHash:l,nodeKeys:E}}return null}}]),n}(bs.Component);zs.propTypes={},zs.defaultProps={enter:function(){},update:function(){},leave:function(){},interpolation:qs};var Ws=zs;function Qs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ns(t);if(e){var i=Ns(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Is(this,n)}}var Hs=function(){return"$$key$$"},Gs=function(t){Ss(n,t);var e=Qs(n);function n(){return _s(this,n),e.apply(this,arguments)}return Ts(n,[{key:"render",value:function(){var t=this.props,e=t.show,n=t.start,r=t.enter,i=t.update,o=t.leave,a=t.interpolation,s=t.children,u="function"==typeof n?n():n;return ws.a.createElement(Ws,{data:e?[u]:[],start:function(){return u},keyAccessor:Hs,interpolation:a,enter:"function"==typeof r?r:function(){return r},update:"function"==typeof i?i:function(){return i},leave:"function"==typeof o?o:function(){return o}},(function(t){if(!t[0])return null;var e=s(t[0].state);return e&&ws.a.Children.only(e)}))}}]),n}(bs.Component);Gs.propTypes={},Gs.defaultProps={show:!0,interpolation:qs};var $s=Gs,Ys=n(6),Ks=n.n(Ys),Xs=n(7),Js=n.n(Xs),Zs=n(12),tu=n.n(Zs),eu=n(13),nu=n.n(eu),ru=n(19),iu=n.n(ru),ou=n(20),au=n.n(ou),su=n(2),uu=n.n(su),cu=n(21),lu=n.n(cu),hu=n(1),fu=n.n(hu),pu=n(8),du=n.n(pu),yu=n(145),vu=n.n(yu),gu=n(3),mu=n.n(gu),bu=n(4),wu=n.n(bu),_u=n(146),Eu=n.n(_u),Tu=n(42),xu=n.n(Tu),Su=n(147),Cu=n.n(Su),ku=(n(318),n(14)),Iu=n.n(ku),Nu=n(150),Pu=n(23),Ou=n.n(Pu),Au=function(t,e){"function"!=typeof t?null!==t&&"object"===Cs(t)&&(t.current=e):t(e)},Ru=function(t){function e(){var t,n;_s(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ps(ks(n=Is(this,(t=Ns(e)).call.apply(t,[this].concat(i)))),"prevNode",null),n}return Ss(e,t),Ts(e,[{key:"componentDidMount",value:function(){this.prevNode=Pu.findDOMNode(this),Au(this.props.innerRef,this.prevNode)}},{key:"componentDidUpdate",value:function(t){var e=Pu.findDOMNode(this);this.prevNode!==e&&(this.prevNode=e,Au(this.props.innerRef,e)),t.innerRef!==this.props.innerRef&&Au(this.props.innerRef,e)}},{key:"componentWillUnmount",value:function(){Au(this.props.innerRef,null)}},{key:"render",value:function(){return this.props.children}}]),e}(bs.Component);Ps(Ru,"displayName","RefFindNode"),Ps(Ru,"propTypes",{});var Du=function(t){function e(){var t,n;_s(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ps(ks(n=Is(this,(t=Ns(e)).call.apply(t,[this].concat(i)))),"handleRefOverride",(function(t){var e=n.props,r=e.children,i=e.innerRef;Au(r.ref,t),Au(i,t)})),n}return Ss(e,t),Ts(e,[{key:"render",value:function(){var t=this.props.children;return bs.cloneElement(t,{ref:this.handleRefOverride})}}]),e}(bs.Component);Ps(Du,"displayName","RefForward"),Ps(Du,"propTypes",{});var Mu=function(t){var e=t.children,n=t.innerRef,r=bs.Children.only(e),i=Nu.isForwardRef(r)?Du:Ru;return bs.createElement(i,{innerRef:n},r)};Mu.displayName="Ref";var Lu=Mu,Fu=n(22),Uu=n.n(Fu),ju=n(157),Vu=n.n(ju),qu=n(60),Bu=n.n(qu),zu=n(158),Wu=n.n(zu),Qu=n(88),Hu=n(89),Gu=n.n(Hu),$u=Gu()(),Yu=Gu()(),Ku=(bs.Component,function(t,e){if("function"==typeof t)return function(t){if("function"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}}(t,e);null!=t&&(t.current=e)}),Xu={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Ju={},Zu=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,fu()(uu()(e),"state",{data:void 0,placement:void 0}),fu()(uu()(e),"popperInstance",void 0),fu()(uu()(e),"popperNode",null),fu()(uu()(e),"arrowNode",null),fu()(uu()(e),"setPopperNode",(function(t){t&&e.popperNode!==t&&(Ku(e.props.innerRef,t),e.popperNode=t,e.updatePopperInstance())})),fu()(uu()(e),"setArrowNode",(function(t){e.arrowNode=t})),fu()(uu()(e),"updateStateModifier",{enabled:!0,order:900,fn:function(t){var n=t.placement;return e.setState({data:t,placement:n}),t}}),fu()(uu()(e),"getOptions",(function(){return{placement:e.props.placement,eventsEnabled:e.props.eventsEnabled,positionFixed:e.props.positionFixed,modifiers:Ks()({},e.props.modifiers,{arrow:Ks()({},e.props.modifiers&&e.props.modifiers.arrow,{enabled:!!e.arrowNode,element:e.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:e.updateStateModifier})}})),fu()(uu()(e),"getPopperStyle",(function(){return e.popperNode&&e.state.data?Ks()({position:e.state.data.offsets.popper.position},e.state.data.styles):Xu})),fu()(uu()(e),"getPopperPlacement",(function(){return e.state.data?e.state.placement:void 0})),fu()(uu()(e),"getArrowStyle",(function(){return e.arrowNode&&e.state.data?e.state.data.arrowStyles:Ju})),fu()(uu()(e),"getOutOfBoundariesState",(function(){return e.state.data?e.state.data.hide:void 0})),fu()(uu()(e),"destroyPopperInstance",(function(){e.popperInstance&&(e.popperInstance.destroy(),e.popperInstance=null)})),fu()(uu()(e),"updatePopperInstance",(function(){e.destroyPopperInstance();var t=uu()(e).popperNode,n=e.props.referenceElement;n&&t&&(e.popperInstance=new Qu.a(n,t,e.getOptions()))})),fu()(uu()(e),"scheduleUpdate",(function(){e.popperInstance&&e.popperInstance.scheduleUpdate()})),e}Bu()(e,t);var n=e.prototype;return n.componentDidUpdate=function(t,e){this.props.placement===t.placement&&this.props.referenceElement===t.referenceElement&&this.props.positionFixed===t.positionFixed&&Wu()(this.props.modifiers,t.modifiers,{strict:!0})?this.props.eventsEnabled!==t.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),e.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){Ku(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}});var t},e}(bs.Component);fu()(Zu,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});Qu.a.placements;function tc(t){var e=t.referenceElement,n=Vu()(t,["referenceElement"]);return bs.createElement($u.Consumer,null,(function(t){return bs.createElement(Zu,Ks()({referenceElement:void 0!==e?e:t},n))}))}var ec=n(148),nc=n.n(ec),rc=ku.instance,ic=n(16),oc=n.n(ic);var ac=function(t,e){return t&&e},sc=function(t,e){return t&&(!0===t?e:"".concat(t," ").concat(e))};var uc=function(t,e,n){var r=t.defaultProps,i=void 0===r?{}:r;if(e.as&&e.as!==i.as)return e.as;if(n){var o=n();if(o)return o}return e.href?"a":i.as||"div"},cc=n(151),lc=n.n(cc),hc=n(30),fc=n.n(hc),pc=function(t,e){return fc()(bs.Children.toArray(t),{type:e})},dc=function(t,e){return lc()(bs.Children.toArray(t),{type:e})},yc=function(t){return null==t||Array.isArray(t)&&0===t.length},vc=function(t,e){var n=t.handledProps,r=void 0===n?[]:n;return Object.keys(e).reduce((function(t,n){return"childKey"===n||-1===r.indexOf(n)&&(t[n]=e[n]),t}),{})},gc=n(86),mc=n.n(gc),bc=n(87),wc=n.n(bc),_c=n(155),Ec=n.n(_c),Tc=function(t,e){if(fc()([e,t],du.a))return!1;if(e.target&&(mu()(e.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return mu()(e.target,"removeAttribute","data-suir-click-target"),t.contains(e.target);var n=e.clientX,r=e.clientY;if(fc()([n,r],du.a))return!1;var i=t.getClientRects();if(!(t.offsetWidth&&t.offsetHeight&&i&&i.length))return!1;var o=Ec()(i),a=o.top,s=o.bottom,u=o.left,c=o.right;return!fc()([a,s,u,c],du.a)&&(wc()(r,a,s+.001)&&wc()(n,u,c+.001))},xc=n(156),Sc=n.n(xc),Cc=(n(336),n(338),n(340),n(18)),kc=n.n(Cc),Ic=(n(341),n(344),n(346),function(t){return"default".concat(t[0].toUpperCase()+t.slice(1))}),Nc=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];if(void 0!==i)return i;if(r){var o=e[Ic(t)];if(void 0!==o)return o;if(n){var a=n[t];if(void 0!==a)return a}}return"checked"!==t&&("value"===t?e.multiple?[]:"":void 0)},Pc=function(t){function e(){var t,n;tu()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n=iu()(this,(t=au()(e)).call.apply(t,[this].concat(i))),fu()(uu()(n),"trySetState",(function(t,e){var r=Object.keys(t).reduce((function(e,r){return void 0!==n.props[r]||(e[r]=t[r]),e}),{});Object.keys(r).length>0&&n.setState(r,e)}));var a=n.constructor.autoControlledProps,s=mu()(uu()(n),"getInitialAutoControlledState",n.props)||{},u=a.reduce((function(t,e){return t[e]=Nc(e,n.props,s,!0),t}),{});return n.state=Js()({},s,u),n}return lu()(e,t),nu()(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this.constructor.autoControlledProps.reduce((function(e,n){return!Sc()(t[n])&&(e[n]=t[n]),e}),{});Object.keys(e).length>0&&this.setState(e)}}]),e}(bs.Component),Oc="object"===("undefined"==typeof document?"undefined":oc()(document))&&null!==document,Ac="object"===("undefined"==typeof window?"undefined":oc()(window))&&null!==window&&window.self===window,Rc=function t(){return du()(t.override)?Oc&&Ac:t.override},Dc=function(t){function e(){var t,n;tu()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iu()(this,(t=au()(e)).call.apply(t,[this].concat(i))),fu()(uu()(n),"handleRef",(function(t){Au(n.props.innerRef,t)})),n}return lu()(e,t),nu()(e,[{key:"componentDidMount",value:function(){mu()(this.props,"onMount",null,this.props)}},{key:"componentWillUnmount",value:function(){mu()(this.props,"onUnmount",null,this.props)}},{key:"render",value:function(){if(!Rc())return null;var t=this.props,e=t.children,n=t.mountNode,r=void 0===n?document.body:n;return Object(Pu.createPortal)(ws.a.createElement(Lu,{innerRef:this.handleRef},e),r)}}]),e}(bs.Component);fu()(Dc,"handledProps",["children","innerRef","mountNode","onMount","onUnmount"]),Dc.propTypes={};var Mc=Dc,Lc=function(t){function e(){var t,n;tu()(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iu()(this,(t=au()(e)).call.apply(t,[this].concat(i))),fu()(uu()(n),"contentRef",Object(bs.createRef)()),fu()(uu()(n),"triggerRef",Object(bs.createRef)()),fu()(uu()(n),"latestDocumentMouseDownEvent",null),fu()(uu()(n),"handleDocumentMouseDown",(function(t){n.latestDocumentMouseDownEvent=t})),fu()(uu()(n),"handleDocumentClick",(function(t){var e=n.props.closeOnDocumentClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!n.contentRef.current||Tc(n.triggerRef.current,t)||r&&Tc(n.contentRef.current,r)||Tc(n.contentRef.current,t)||e&&n.close(t)})),fu()(uu()(n),"handleEscape",(function(t){n.props.closeOnEscape&&mc.a.getCode(t)===mc.a.Escape&&n.close(t)})),fu()(uu()(n),"handlePortalMouseLeave",(function(t){var e=n.props,r=e.closeOnPortalMouseLeave,i=e.mouseLeaveDelay;r&&t.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(t,i))})),fu()(uu()(n),"handlePortalMouseEnter",(function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)})),fu()(uu()(n),"handleTriggerBlur",(function(t){for(var e=n.props,r=e.trigger,i=e.closeOnTriggerBlur,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];mu.a.apply(void 0,[r,"props.onBlur",t].concat(a));var u=t.relatedTarget||document.activeElement,c=mu()(n.contentRef.current,"contains",u);i&&!c&&n.close(t)})),fu()(uu()(n),"handleTriggerClick",(function(t){for(var e=n.props,r=e.trigger,i=e.closeOnTriggerClick,o=e.openOnTriggerClick,a=n.state.open,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];mu.a.apply(void 0,[r,"props.onClick",t].concat(u)),a&&i?n.close(t):!a&&o&&n.open(t)})),fu()(uu()(n),"handleTriggerFocus",(function(t){for(var e=n.props,r=e.trigger,i=e.openOnTriggerFocus,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];mu.a.apply(void 0,[r,"props.onFocus",t].concat(a)),i&&n.open(t)})),fu()(uu()(n),"handleTriggerMouseLeave",(function(t){clearTimeout(n.mouseEnterTimer);for(var e=n.props,r=e.trigger,i=e.closeOnTriggerMouseLeave,o=e.mouseLeaveDelay,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];mu.a.apply(void 0,[r,"props.onMouseLeave",t].concat(s)),i&&(n.mouseLeaveTimer=n.closeWithTimeout(t,o))})),fu()(uu()(n),"handleTriggerMouseEnter",(function(t){clearTimeout(n.mouseLeaveTimer);for(var e=n.props,r=e.trigger,i=e.mouseEnterDelay,o=e.openOnTriggerMouseEnter,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];mu.a.apply(void 0,[r,"props.onMouseEnter",t].concat(s)),o&&(n.mouseEnterTimer=n.openWithTimeout(t,i))})),fu()(uu()(n),"open",(function(t){var e=n.props.onOpen;e&&e(t,n.props),n.trySetState({open:!0})})),fu()(uu()(n),"openWithTimeout",(function(t,e){var r=Js()({},t);return setTimeout((function(){return n.open(r)}),e||0)})),fu()(uu()(n),"close",(function(t){var e=n.props.onClose;e&&e(t,n.props),n.trySetState({open:!1})})),fu()(uu()(n),"closeWithTimeout",(function(t,e){var r=Js()({},t);return setTimeout((function(){return n.close(r)}),e||0)})),fu()(uu()(n),"handleMount",(function(){mu()(n.props,"onMount",null,n.props)})),fu()(uu()(n),"handleUnmount",(function(){mu()(n.props,"onUnmount",null,n.props)})),fu()(uu()(n),"handleTriggerRef",(function(t){n.triggerRef.current=t,Au(n.props.triggerRef,t)})),n}return lu()(e,t),nu()(e,[{key:"componentWillUnmount",value:function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.eventPool,r=t.mountNode,i=t.trigger,o=this.state.open;return ws.a.createElement(bs.Fragment,null,o&&ws.a.createElement(bs.Fragment,null,ws.a.createElement(Mc,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},e),ws.a.createElement(Iu.a,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),ws.a.createElement(Iu.a,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),ws.a.createElement(Iu.a,{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),ws.a.createElement(Iu.a,{name:"click",on:this.handleDocumentClick,pool:n}),ws.a.createElement(Iu.a,{name:"keydown",on:this.handleEscape,pool:n})),i&&ws.a.createElement(Lu,{innerRef:this.handleTriggerRef},Object(bs.cloneElement)(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))}}]),e}(Pc);fu()(Lc,"defaultProps",{closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0}),fu()(Lc,"autoControlledProps",["open"]),fu()(Lc,"Inner",Mc),fu()(Lc,"handledProps",["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"]),Lc.propTypes={};var Fc=Lc,Uc=n(149),jc=n.n(Uc),Vc={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"},qc=(kc()(Vc),jc()(Vc)),Bc=n(84),zc=n.n(Bc),Wc=function(t){return null!==t&&"object"===Cs(t)&&t.hasOwnProperty("current")},Qc={current:null},Hc=new WeakMap,Gc=function(t){if(null===t)return Qc;if(Hc.has(t))return Hc.get(t);var e={current:t};return Hc.set(t,e),e},$c=function(){function t(e){tu()(this,t),this.ref=e}return nu()(t,[{key:"getBoundingClientRect",value:function(){return mu()(this.ref.current,"getBoundingClientRect",{})}},{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}}]),t}(),Yc=zc()((function(t){return new $c(Wc(t)?t:Gc(t))})),Kc=n(152),Xc=n.n(Kc),Jc=n(83),Zc=n.n(Jc),tl=n(28),el=n.n(tl),nl=n(153),rl=n.n(nl),il=n(85),ol=n.n(il),al=n(154),sl=n.n(al);function ul(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof t&&"string"!=typeof t)throw new Error("createShorthand() Component must be a string or function.");if(du()(n)||sl()(n))return null;var i=ol()(n),o=rl()(n),a=el()(n),s=Object(bs.isValidElement)(n),u=Zc()(n),c=i||o||wu()(n);if(!(a||s||u||c))return null;var l=r.defaultProps,h=void 0===l?{}:l,f=s&&n.props||u&&n||c&&e(n),p=r.overrideProps,d=void 0===p?{}:p;d=el()(d)?d(Js()({},h,f)):d;var y=Js()({},h,f,d);if(h.className||d.className||f.className){var v=Uu()(h.className,d.className,f.className);y.className=Xc()(v.split(" ")).join(" ")}if((h.style||d.style||f.style)&&(y.style=Js()({},h.style,f.style,d.style)),du()(y.key)){var g=y.childKey,m=r.autoGenerateKey,b=void 0===m||m;du()(g)?b&&(i||o)&&(y.key=n):(y.key="function"==typeof g?g(y):g,delete y.childKey)}return s?Object(bs.cloneElement)(n,y):c||u?ws.a.createElement(t,y):a?n(t,y,y.children):void 0}function cl(t,e){if("function"!=typeof t&&"string"!=typeof t)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return ul(t,e,n,r)}}ul.handledProps=[];cl("div",(function(t){return{children:t}})),cl("iframe",(function(t){return{src:t}})),cl("img",(function(t){return{src:t}})),cl("input",(function(t){return{type:t}})),cl("label",(function(t){return{children:t}})),cl("p",(function(t){return{children:t}}));function ll(t){var e=t.children,n=t.className,i=t.content,o=Uu()("content",n),a=vc(ll,t),s=uc(ll,t);return ws.a.createElement(s,Ks()({},a,{className:o}),r.isNil(e)?i:e)}function hl(t){var e=t.children,n=t.className,i=t.content,o=Uu()("header",n),a=vc(hl,t),s=uc(hl,t);return ws.a.createElement(s,Ks()({},a,{className:o}),r.isNil(e)?i:e)}ll.handledProps=["as","children","className","content"],ll.propTypes={},ll.create=cl(ll,(function(t){return{children:t}})),hl.handledProps=["as","children","className","content"],hl.propTypes={},hl.create=cl(hl,(function(t){return{children:t}}));var fl=function(t){function e(){var t,n;tu()(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=iu()(this,(t=au()(e)).call.apply(t,[this].concat(o))),fu()(uu()(n),"state",{}),fu()(uu()(n),"open",!1),fu()(uu()(n),"triggerRef",Object(bs.createRef)()),fu()(uu()(n),"getPortalProps",(function(){var t={},e=n.props,r=e.on,i=e.hoverable,o=wu()(r)?r:[r];return i&&(t.closeOnPortalMouseLeave=!0,t.mouseLeaveDelay=300),xu()(o,"hover")&&(t.openOnTriggerClick=!1,t.closeOnTriggerClick=!1,t.openOnTriggerMouseEnter=!0,t.closeOnTriggerMouseLeave=!0,t.mouseLeaveDelay=70,t.mouseEnterDelay=50),xu()(o,"click")&&(t.openOnTriggerClick=!0,t.closeOnTriggerClick=!0,t.closeOnDocumentClick=!0),xu()(o,"focus")&&(t.openOnTriggerFocus=!0,t.closeOnTriggerBlur=!0),t})),fu()(uu()(n),"hideOnScroll",(function(t){n.setState({closed:!0}),rc.unsub("scroll",n.hideOnScroll,{target:window}),n.timeoutId=setTimeout((function(){n.setState({closed:!1})}),50),n.handleClose(t)})),fu()(uu()(n),"handleClose",(function(t){mu()(n.props,"onClose",t,n.props)})),fu()(uu()(n),"handleOpen",(function(t){mu()(n.props,"onOpen",t,n.props)})),fu()(uu()(n),"handlePortalMount",(function(t){mu()(n.props,"onMount",t,n.props)})),fu()(uu()(n),"handlePortalUnmount",(function(t){n.positionUpdate=null,mu()(n.props,"onUnmount",t,n.props)})),fu()(uu()(n),"renderContent",(function(t){var i=t.placement,o=t.ref,a=t.scheduleUpdate,s=t.style,u=n.props,c=u.basic,l=u.children,h=u.className,f=u.content,p=u.hideOnScroll,d=u.flowing,y=u.header,v=u.inverted,g=u.size,m=u.style,b=u.wide,w=n.state.contentRestProps;n.positionUpdate=a;var _=Uu()("ui",qc[i],g,sc(b,"wide"),ac(c,"basic"),ac(d,"flowing"),ac(v,"inverted"),"popup transition visible",h),E=uc(e,n.props),T=Js()({left:"auto",right:"auto"},s,m);return ws.a.createElement(Lu,{innerRef:o},ws.a.createElement(E,Ks()({},w,{className:_,style:T}),r.isNil(l)?ws.a.createElement(ws.a.Fragment,null,hl.create(y,{autoGenerateKey:!1}),ll.create(f,{autoGenerateKey:!1})):l,p&&ws.a.createElement(Iu.a,{on:n.hideOnScroll,name:"scroll",target:"window"})))})),n}return lu()(e,t),nu()(e,[{key:"componentDidUpdate",value:function(t){nc()(this.props.popperDependencies,t.popperDependencies)||this.handleUpdate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"handleUpdate",value:function(){this.positionUpdate&&this.positionUpdate()}},{key:"render",value:function(){var t=this.props,e=t.context,n=t.disabled,r=t.eventsEnabled,i=t.offset,o=t.pinned,a=t.popperModifiers,s=t.position,u=t.positionFixed,c=t.trigger,l=this.state,h=l.closed,f=l.portalRestProps;if(h||n)return c;var p=vu()({arrow:{enabled:!1},flip:{enabled:!o},keepTogether:{enabled:!!i},offset:{offset:i}},a),d=Yc(du()(e)?this.triggerRef:e),y=Js()({},this.getPortalProps(),f);return ws.a.createElement(Fc,Ks()({},y,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:c,triggerRef:this.triggerRef}),ws.a.createElement(tc,{eventsEnabled:r,modifiers:p,placement:Vc[s],positionFixed:u,referenceElement:d},this.renderContent))}}],[{key:"getDerivedStateFromProps",value:function(t,n){if(n.closed||n.disabled)return{};var r=vc(e,t);return{contentRestProps:Cu()(r,(function(t,e,n){return xu()(Fc.handledProps,n)||(t[n]=e),t}),{}),portalRestProps:Eu()(r,Fc.handledProps)}}}]),e}(bs.Component);fu()(fl,"defaultProps",{disabled:!1,eventsEnabled:!0,offset:0,on:["click","hover"],pinned:!1,position:"top left"}),fu()(fl,"Content",ll),fu()(fl,"Header",hl),fu()(fl,"handledProps",["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"]),fl.propTypes={};let pl=0;const dl=Object.create(null),yl=["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","flood-opacity","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width"];for(const t of yl)for(const e of["-webkit-","-ms-","-moz-","-o-",""])dl[e+t]=!0;function vl(t,e){return e&&"number"==typeof e&&!dl[t]?`${t}:${e}px`:`${t}:${e}`}function gl(t){return t.sort((t,e)=>t[0]>e[0]?1:-1)}function ml(t){return t.map(([t,e])=>Array.isArray(e)?e.map(e=>vl(t,e)).join(";"):vl(t,e)).join(";")}function bl(t,e){return-1===t.indexOf("&")?`${e} ${t}`:t.replace(/&/g,e)}function wl(t,e,n,r,i){const{style:o,nested:a,isUnique:s}=function(t,e){const n=[],r=[];for(const e of Object.keys(t)){const o=e.trim(),a=t[e];36!==o.charCodeAt(0)&&null!=a&&("object"!=typeof a||Array.isArray(a)?n.push([(i=o,i.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()).replace(/^ms-/,"-ms-")),a]):r.push([o,a]))}var i;return{style:ml(gl(n)),nested:e?r:gl(r),isUnique:!!t.$unique}}(e,""!==t);let u=o;if(64===t.charCodeAt(0)){const e={selector:t,styles:[],rules:[],style:i?"":o};n.push(e),o&&i&&e.styles.push({selector:i,style:o,isUnique:s});for(const[t,n]of a)u+=t+wl(t,n,e.rules,e.styles,i)}else{const e=i?bl(t,i):t;o&&r.push({selector:e,style:o,isUnique:s});for(const[t,i]of a)u+=t+wl(t,i,n,r,e)}return u}function _l(t,e,n,r,i,o){for(const{selector:n,style:a,isUnique:s}of r){const r=o?bl(n,i):n,u=s?"u\0"+(++pl).toString(36):`s\0${e}\0${a}`,c=new Cl(a,u);c.add(new Sl(r,`k\0${e}\0${r}`)),t.add(c)}for(const{selector:r,style:a,rules:s,styles:u}of n){const n=new kl(r,a,`r\0${e}\0${r}\0${a}`);_l(n,e,s,u,i,o),t.add(n)}}function El(t){let e="";for(let n=0;n<t.length;n++)e+=t[n];return e}const Tl={add:()=>{},change:()=>{},remove:()=>{}};class xl{constructor(t=Tl){this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}add(t){const e=this._counters[t.id]||0,n=this._children[t.id]||t.clone();if(this._counters[t.id]=e+1,0===e)this._children[n.id]=n,this._keys.push(n.id),this.sheet.push(n.getStyles()),this.changeId++,this.changes.add(n,this._keys.length-1);else if(n instanceof xl&&t instanceof xl){const e=this._keys.indexOf(t.id),r=n.changeId;n.merge(t),n.changeId!==r&&(this.sheet.splice(e,1,n.getStyles()),this.changeId++,this.changes.change(n,e,e))}}remove(t){const e=this._counters[t.id];if(e){this._counters[t.id]=e-1;const n=this._children[t.id],r=this._keys.indexOf(n.id);if(1===e)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(r,1),this.sheet.splice(r,1),this.changeId++,this.changes.remove(n,r);else if(n instanceof xl&&t instanceof xl){const e=n.changeId;n.unmerge(t),n.changeId!==e&&(this.sheet.splice(r,1,n.getStyles()),this.changeId++,this.changes.change(n,r,r))}}}values(){return this._keys.map(t=>this._children[t])}merge(t){for(const e of t.values())this.add(e);return this}unmerge(t){for(const e of t.values())this.remove(e);return this}clone(){return(new xl).merge(this)}}class Sl{constructor(t,e){this.selector=t,this.id=e}getStyles(){return this.selector}clone(){return this}}class Cl extends xl{constructor(t,e){super(),this.style=t,this.id=e}getStyles(){return`${this.sheet.join(",")}{${this.style}}`}clone(){return new Cl(this.style,this.id).merge(this)}}class kl extends xl{constructor(t,e,n){super(),this.rule=t,this.style=e,this.id=n}getStyles(){return`${this.rule}{${this.style}${El(this.sheet)}}`}clone(){return new kl(this.rule,this.style,this.id).merge(this)}}function Il(t,e){const n="f"+function(t){let e=5381,n=t.length;for(;n--;)e=33*e^t.charCodeAt(n);return(e>>>0).toString(36)}(t);return n}class Nl extends xl{constructor(t,e){super(e),this.id=t}registerStyle(t){const e=[],n=[],r=wl("&",t,e,n),i=Il(r);return _l(this,r,e,n,"."+i,!0),i}registerKeyframes(t){return this.registerHashRule("@keyframes",t)}registerHashRule(t,e){const n=[],r=[],i=wl("",e,n,r),o=Il(i),a=new kl(`${t} ${o}`,"",`h\0${i}\0${t}`);return _l(a,i,n,r,"",!1),this.add(a),o}registerRule(t,e){const n=[],r=[];_l(this,wl(t,e,n,r),n,r,"",!1)}registerCss(t){return this.registerRule("",t)}getStyles(){return El(this.sheet)}clone(){return new Nl(this.id,this.changes).merge(this)}}function Pl(t){var e={};for(var n in t){var r=t[n];if("$nest"===n){var i=r;for(var o in i){var a=i[o];e[o]=Pl(a)}}else"$debugName"===n?e.$displayName=r:e[n]=r}return e}var Ol="undefined"==typeof requestAnimationFrame?function(t){return setTimeout(t)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function Al(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];if(null!=o&&!1!==o)for(var a in o){var s=o[a];(s||0===s)&&("$nest"===a&&s?n[a]=n.$nest?Al(n.$nest,s):s:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?Al(n[a],s):s:n[a]=s)}}return n}var Rl=function(){return new Nl("f"+(++pl).toString(36),t);var t},Dl=function(){function t(t){var e=this,n=t.autoGenerateTag;this.cssRaw=function(t){t&&(e._raw+=t||"",e._pendingRawChange=!0,e._styleUpdated())},this.cssRule=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Pl(Al.apply(void 0,n));e._freeStyle.registerRule(t,i),e._styleUpdated()},this.forceRenderStyles=function(){var t=e._getTag();t&&(t.textContent=e.getStyles())},this.fontFace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=e._freeStyle,i=0,o=t;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}e._styleUpdated()},this.getStyles=function(){return(e._raw||"")+e._freeStyle.getStyles()},this.keyframes=function(t){var n=function(t){var e={};for(var n in t)"$debugName"!==n&&(e[n]=t[n]);return t.$debugName&&(e.$displayName=t.$debugName),e}(t),r=e._freeStyle.registerKeyframes(n);return e._styleUpdated(),r},this.reinit=function(){var t=Rl();e._freeStyle=t,e._lastFreeStyleChangeId=t.changeId,e._raw="",e._pendingRawChange=!1;var n=e._getTag();n&&(n.textContent="")},this.setStylesTarget=function(t){e._tag&&(e._tag.textContent=""),e._tag=t,e.forceRenderStyles()},this.stylesheet=function(t){for(var n={},r=0,i=Object.getOwnPropertyNames(t);r<i.length;r++){var o=i[r],a=t[o];a&&(a.$debugName=o,n[o]=e.style(a))}return n};var r=Rl();this._autoGenerateTag=n,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;Ol((function(){n===e._pending&&t()}))},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync((function(){return t.forceRenderStyles()})))},t.prototype.style=function(){var t=this._freeStyle.registerStyle(Pl(Al.apply(void 0,arguments)));return this._styleUpdated(),t},t}(),Ml=(n(99),new Dl({autoGenerateTag:!0})),Ll=(Ml.setStylesTarget,Ml.cssRaw,Ml.cssRule,Ml.forceRenderStyles,Ml.fontFace,Ml.getStyles,Ml.keyframes,Ml.reinit,Ml.style);Ml.stylesheet;function Fl(t,e){var n=[];for(var r in e)e[r].bunchedNodes.includes(t)&&n.push(r);return n}function Ul(t,e){return"translate("+t+", "+e+")"}var jl=Ll({backgroundColor:"#768d87",borderRadius:"2px",border:"none",display:"inline-block",cursor:"pointer",color:"#ffffff",fontFamily:"Lato,Helvetica Neue,Arial,Helvetica,sans-serif",fontSize:"14px",padding:"5px 15px",marginRight:"1px",marginLeft:"10px",$nest:{"&:hover":{backgroundColor:"#6c7c7c"},"&:disabled":{backgroundColor:"#a8b3b0"},"&:active":{backgroundColor:"#6c7c7c"}}}),Vl=(Ll({marginRight:"3px"}),Ll({backgroundColor:"#768d87",borderRadius:"2px",border:"none",display:"inline-block",cursor:"pointer",color:"#ffffff",fontFamily:"Lato,Helvetica Neue,Arial,Helvetica,sans-serif",fontSize:"14px",padding:"5px 15px",$nest:{"&:hover":{backgroundColor:"#6c7c7c"},"&:disabled":{backgroundColor:"#a8b3b0"},"&:active":{backgroundColor:"#6c7c7c"}}})),ql=function(t){var e=t.graph,n=t.undoCallback,r=t.redoCallback;if(void 0===e)return null;var i=e.root===e.current,o=0===e.nodes[e.current].children.length,a={marginRight:"3px"};return ws.a.createElement("div",null,ws.a.createElement("button",{className:jl,disabled:i,onClick:n},ws.a.createElement("i",{style:a,className:"fas fa-undo marginRight"}),"Undo"),ws.a.createElement("button",{className:Vl,disabled:o,onClick:r},ws.a.createElement("i",{style:a,className:"fas fa-redo marginRight"}),"Redo"))},Bl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},zl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bl(arguments[e]));return t},Wl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ql(t,e,n){var r=function(t,e,n){var r=[];return function t(e,n,r,i){var o,a;if(!e[n])return!1;if(n===r)return i.push(n),!0;var s=e[n].children||[];try{for(var u=Wl(s),c=u.next();!c.done;c=u.next()){var l=c.value;if(t(e,l.id,r,i))return i.push(l.id),!0}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return!1}(t,e,n,r),zl([e],r.reverse())}(t,n,e);return function(t,e,n,r){var i=new Set,o=[],a=0;o.push(t[e]);for(;o.length>0;){var s=o.pop();i.has(s.id)?s.width=n[s.id]:(s.width=a,n[s.id]=s.width,i.add(s.id)),s.children?o.push.apply(o,zl(s.children.sort((function(t,e){return(r.includes(t.id)?1:0)-(r.includes(e.id)?1:0)})))):a++}}(t,n,{},r),r}var Hl=function(t){return Ll({fill:t?"rgb(33, 133, 208)":"white",stroke:"rgb(33, 133, 208)"})};var Gl=function(t){var e=t.first,n=t.iconOnly,r=t.current,i=t.node,o=t.duration,a=t.radius,s=t.strokeWidth,u=t.textSize,c=t.nodeMap,l=t.annotationOpen,h=t.setAnnotationOpen,f=t.exemptList,p=t.setExemptList,d=t.bundleMap,y=(t.clusterLabels,t.eventConfig),v=t.popupContent,g=t.annotationContent,m=t.expandedClusterList,b={cursor:"pointer"},w=ws.a.createElement("circle",{style:b,className:Hl(r),r:a,strokeWidth:s}),_=!1;if(y){var E=i.metadata.type;if(E&&E in y&&"Root"!==E){var T=y[E],x=T.bundleGlyph,S=T.currentGlyph,C=T.backboneGlyph;d&&Object.keys(d).includes(i.id)&&(_=!0,w=ws.a.createElement("g",{style:b,fontWeight:"none"},x)),r?w=ws.a.createElement("g",{style:b,fontWeight:"none"},S):_||(w=ws.a.createElement("g",{style:b,fontWeight:"none"},C))}}var k="",I="";if(console.log(d),console.log(c[i.id]),k=d&&Object.keys(d).includes(i.id)&&i.ephemeral&&m&&!m.includes(i.id)?i.metadata&&i.metadata.type?"["+d[i.id].bunchedNodes.length+"] "+i.metadata.type:"["+d[i.id].bunchedNodes.length+"]":i.label,i.artifacts&&i.artifacts.annotation&&i.artifacts.annotation.length>0&&(I=i.artifacts.annotation),!c[i.id])return null;I.length>30&&(I=I.substr(0,30)+".."),k.length>30&&(k=k.substr(0,30)+"..");var N=ws.a.createElement("g",{style:{opacity:1},transform:Ul(15,0)},n?ws.a.createElement("g",null,_?ws.a.createElement("text",{style:b,onClick:function(t){return O(i,t)},fontSize:17,fill:"rgb(248, 191, 132)",textAnchor:"middle",alignmentBaseline:"middle",x:1,y:0,fontFamily:"FontAwesome"},m&&m.includes(i.id)?"":""):ws.a.createElement("g",null)):ws.a.createElement("g",null,_?ws.a.createElement("text",{style:b,onClick:function(t){return O(i,t)},fontSize:17,fill:"rgb(248, 191, 132)",textAnchor:"middle",alignmentBaseline:"middle",x:1,y:0,fontFamily:"FontAwesome"},m&&m.includes(i.id)?"":""):ws.a.createElement("g",null),ws.a.createElement("text",{y:0===I.length?0:-7,x:_?10:0,dominantBaseline:"middle",textAnchor:"start",fontSize:u,fontWeight:"bold",onClick:function(){return P(i)}},k),",",ws.a.createElement("text",{y:7,x:_?10:0,dominantBaseline:"middle",textAnchor:"start",fontSize:u,fontWeight:"regular",onClick:function(){return P(i)}},I)),-1!==l&&c[i.id].depth===l&&g?ws.a.createElement("g",null,g(c[i.id])):ws.a.createElement("g",null));return ws.a.createElement($s,{start:{opacity:0},enter:{opacity:[1],timing:{duration:100,delay:e?0:o}}},(function(t){return ws.a.createElement(ws.a.Fragment,null,void 0!==v&&c[i.id].depth>0?ws.a.createElement(fl,{content:v(i),trigger:w}):w,void 0!==v&&c[i.id].depth>0?ws.a.createElement(fl,{content:v(i),trigger:N}):N)}));function P(t){g&&(l===c[t.id].depth?h(-1):h(c[t.id].depth))}function O(t,e){if(d&&Object.keys(d).includes(t.id)){var n=Array.from(f);n.includes(t.id)?n.splice(n.findIndex((function(e){return e===t.id})),1):n.push(t.id),p(n)}e.stopPropagation()}};function $l(t,e,n){return t>1?(e+n)*t-n:(e+n)*t}var Yl=function(){return(Yl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Kl=function(t){return ws.a.createElement("line",Yl({},t))};var Xl=function(){return(Xl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Jl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Zl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var th=function(t){var e,n,r=t.nodeMap,o=t.root,a=t.current,s=t.changeCurrent,u=t.width,c=void 0===u?1500:u,l=t.height,h=void 0===l?2e3:l,f=t.iconOnly,p=void 0!==f&&f,d=t.gutter,y=void 0===d?15:d,v=t.backboneGutter,g=void 0===v?20:v,m=t.verticalSpace,b=void 0===m?50:m,w=t.annotationHeight,_=void 0===w?100:w,E=t.clusterVerticalSpace,T=void 0===E?50:E,x=t.regularCircleRadius,S=void 0===x?4:x,C=t.backboneCircleRadius,k=void 0===C?5:C,I=t.regularCircleStroke,N=void 0===I?3:I,P=t.backboneCircleStroke,O=void 0===P?3:P,A=t.sideOffset,R=void 0===A?200:A,D=t.topOffset,M=void 0===D?30:D,L=t.textSize,F=void 0===L?15:L,U=t.linkWidth,j=void 0===U?4:U,V=t.duration,q=void 0===V?600:V,B=t.clusterLabels,z=void 0===B||B,W=t.bundleMap,Q=void 0===W?{}:W,H=t.eventConfig,G=t.popupContent,$=t.annotationContent,Y=(t.undoRedoButtons,t.prov),K=t.ephemeralUndo,X=void 0!==K&&K,J=Jl(Object(bs.useState)(!0),2),Z=J[0],tt=J[1],et=Jl(Object(bs.useState)(-1),2),nt=et[0],rt=et[1],it=[],ot=new Set;for(var at in r){var st=r[at];if(Object(i.b)(st)&&(st.metadata.type&&ot.add(st.metadata.type),st.ephemeral&&1==st.children.length&&(!r[st.parent].ephemeral||r[st.parent].children.length>1))){for(var ut=[],ct=st;ct.ephemeral&&(ut.push(ct.id),1===ct.children.length&&r[ct.children[0]].ephemeral);)ct=r[ct.children[0]];Q[st.id]={metadata:"",bundleLabel:"",bunchedNodes:ut}}}Q&&(it=it.concat(Object.keys(Q).filter((function(t){return Q[t].metadata&&Q[t].metadata.includes(t)}))));var lt=Jl(Object(bs.useState)(it),2),ht=lt[0],ft=lt[1];!H&&ot.size>0&&ot.size<8&&(H=function(t){var e,n,r=[Ma().type(Ca).size(50),Ma().type(Ea),Ma().type(Na),Ma().type(ma),Ma().type(ba),Ma().type(ka),Ma().type(Ra)],i={},o=0;try{for(var a=Zl(t),s=a.next();!s.done;s=a.next()){var u=s.value;i[u]={},i[u].backboneGlyph=ws.a.createElement("path",{strokeWidth:2,className:Hl(!1),d:r[o]()}),i[u].bundleGlyph=ws.a.createElement("path",{strokeWidth:2,className:Hl(!1),d:r[o]()}),i[u].currentGlyph=ws.a.createElement("path",{strokeWidth:2,className:Hl(!0),d:r[o]()}),i[u].regularGlyph=ws.a.createElement("path",{strokeWidth:2,className:Hl(!1),d:r[o]()}),o++}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}(ot)),Object(bs.useEffect)((function(){tt(!1)}),[]);var pt=Object.values(r).filter((function(t){return!0})),dt=Array.from(pt),yt=Q?Object.keys(Q):[],vt=[];if(Q)try{for(var gt=Zl(yt),mt=gt.next();!mt.done;mt=gt.next()){var bt=mt.value;(vt=vt.concat(Q[bt].bunchedNodes)).push(bt)}}catch(t){e={error:t}}finally{try{mt&&!mt.done&&(n=gt.return)&&n.call(gt)}finally{if(e)throw e.error}}for(var wt=function(){var t=Lr,e=Fr;function n(n){var r,i,o,a,s,u,c,l=n.length,h=new Array(l),f={};for(i=0;i<l;++i)r=n[i],s=h[i]=new Rr(r),null!=(u=t(r,i,n))&&(u+="")&&(f[c="$"+(s.id=u)]=c in f?Mr:s);for(i=0;i<l;++i)if(s=h[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(a=f["$"+u]))throw new Error("missing: "+u);if(a===Mr)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Dr,o.eachBefore((function(t){t.depth=t.parent.depth+1,--l})).eachBefore(Ar),o.parent=null,l>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=kr(e),n):t},n.parentId=function(t){return arguments.length?(e=kr(t),n):e},n}().id((function(t){return t.id})).parentId((function(t){if(t.id===o)return null;if(Object(i.b)(t)){if(Q&&Object.keys(Q).includes(t.id)&&!ht.includes(t.id))for(var e=t,n=function(){var t=e;if(!vt.includes(t.parent)||Object.keys(Q).includes(t.parent))return{value:t.parent};var n=dt.filter((function(e){return e.id===t.parent}))[0];Object(i.b)(n)&&(e=n)};;){var r=n();if("object"==typeof r)return r.value}var a=Fl(t.parent,Q),s=void 0,u=!0;for(var c in a)if(!ht.includes(a[c])){u=!1,s=a[c];break}return vt.includes(t.parent)&&Q&&!Object.keys(Q).includes(t.parent)&&!u?s:t.parent}return null})),_t=0;_t<pt.length;_t++){var Et=Fl(pt[_t].id,Q),Tt=!0;for(var at in Et)if(!ht.includes(Et[at])){Tt=!1;break}vt.includes(pt[_t].id)&&!Tt&&Q&&!Object.keys(Q).includes(pt[_t].id)&&(pt.splice(_t,1),_t--)}var xt=wt(pt),St=xt.descendants(),Ct={};St.forEach((function(t){return Ct[t.id]=t})),Ql(Ct,a,o);var kt=0,It=0;for(var at in St)St[at].depth>kt&&(kt=St[at].depth),St[at].width>It&&(It=St[at].width);var Nt=xt.links(),Pt=y,Ot=b;function At(t){if(H){var e=t.metadata.type;if(e&&e in H&&"Root"!==e&&H[e].regularGlyph)return H[e].regularGlyph}return ws.a.createElement("circle",{r:S,strokeWidth:N,className:Hl(!1)})}function Rt(t){if(H){var e=t.metadata.type;if(e&&e in H&&"Root"!==e)return H[e].bundleGlyph}return ws.a.createElement("circle",{r:S,strokeWidth:N,className:Hl(!1)})}var Dt=0;0===It?Dt=30:1===It?Dt=52:It>1&&(Dt=74);var Mt=c;return ws.a.createElement("div",{style:{overflowX:"auto",overflowY:"auto"},className:eh,id:"prov-vis"},ws.a.createElement("div",{id:"undoRedoDiv"},ws.a.createElement(ql,{graph:Y?Y.graph():void 0,undoCallback:function(){Y&&(X?Y.goBackToNonEphemeral():Y.goBackOneStep())},redoCallback:function(){Y&&(X?Y.goForwardToNonEphemeral():Y.goForwardOneStep())}})),ws.a.createElement("svg",{style:{overflow:"visible"},id:"topSvg",height:kt<h?h:kt,width:Mt},ws.a.createElement("rect",{height:h,width:c,fill:"none",stroke:"none"}),ws.a.createElement("g",{id:"globalG",transform:Ul(Dt,M)},ws.a.createElement(Ws,Xl({data:Nt,keyAccessor:function(t){return""+t.source.id+t.target.id}},function(t,e,n,r,i,o,a,s,u,c){void 0===i&&(i=500),t=-t,r=-r;var l=function(){return{x1:0,x2:0,y1:0,y2:0,opacity:0}};return{enter:function(o){var a=0;a=0===a?a:a-1;var c=o.source,l=o.target,h=$l(c.width,t,r),f=$l(l.width,t,r),p=e*c.depth-(e-n)*a,d=e*l.depth-(e-n)*a;return-1!==s&&c.depth>s&&0===c.width&&(p+=u),-1!==s&&l.depth>s&&0===l.width&&(d+=u),{x1:h,x2:f,y1:p,y2:d,opacity:1,timing:{duration:i}}},leave:l,update:function(o){var a=0;a=0===a?a:a-1;var c=o.source,l=o.target,h=$l(c.width,t,r),f=$l(l.width,t,r),p=e*c.depth-(e-n)*a,d=e*l.depth-(e-n)*a;return-1!==s&&c.depth>s&&0===c.width&&(p+=u),-1!==s&&l.depth>s&&0===l.width&&(d+=u),{x1:[h],y1:[p],x2:[f],y2:[d],opacity:1,timing:{duration:i}}},start:l}}(Pt,Ot,T,g-y,q,0,0,nt,_)),(function(t){return ws.a.createElement(ws.a.Fragment,null,t.map((function(t){var e=t.key,n=t.state;return ws.a.createElement("g",{key:e},ws.a.createElement(Kl,Xl({},n,{fill:"#ccc",stroke:"#ccc",strokeWidth:j})))})))})),ws.a.createElement(Ws,Xl({data:St,keyAccessor:function(t){return t.id}},function(t,e,n,r,i,o,a,s,u,c){void 0===i&&(i=500),t=-t,r=-r;var l=function(i){var o=0,l=$l(i.width,t,r),h=void 0,f=Fl(i.id,c).filter((function(t){return 0===a[t].width}));f.length>0&&(h=f[0]),o=0===o?o:o-1;var p=e*i.depth-(e-n)*o;return void 0!==h&&c&&!Object.keys(c).includes(i.id)&&(p=e*(a[h].depth-c[h].bunchedNodes.length+2)-(e-n)*o),-1!==s&&i.depth>s&&0===i.width&&(p+=u),{x:l,y:p-e,opacity:0}};return{enter:function(o){var a=0,c=$l(o.width,t,r);a=0===a?a:a-1;var l=e*o.depth-(e-n)*a;return-1!==s&&o.depth>s&&0===o.width&&(l+=u),{x:[c],y:[l],opactiy:1,timing:{duration:i}}},leave:l,update:function(o){var a=0,c=$l(o.width,t,r);a=0===a?a:a-1;var l=e*o.depth-(e-n)*a;return-1!==s&&o.depth>s&&0===o.width&&(l+=u),{x:[c],y:[l],opactiy:1,timing:{duration:i}}},start:l}}(Pt,Ot,T,g-y,q,0,Ct,nt,_,Q)),(function(t){return ws.a.createElement(ws.a.Fragment,null,t.map((function(t){var e=t.data,n=t.key,r=t.state;return ws.a.createElement("g",{key:n,onClick:function(){s&&s(e.id)},transform:(e.width,Ul(r.x,r.y))},0===e.width?ws.a.createElement(Gl,{textSize:F,iconOnly:p,radius:k,strokeWidth:O,duration:q,first:Z,current:a===e.id,node:e.data,bundleMap:Q,nodeMap:Ct,clusterLabels:z,annotationOpen:nt,setAnnotationOpen:rt,exemptList:ht,setExemptList:ft,eventConfig:H,annotationContent:$,popupContent:G,expandedClusterList:ht}):void 0!==G?ws.a.createElement(fl,{content:G(e.data),trigger:ws.a.createElement("g",{onClick:function(){rt(-1)}},yt.includes(e.id)?Rt(e.data):At(e.data))}):ws.a.createElement("g",{onClick:function(){rt(-1)}},At(e.data)))})))})),ws.a.createElement(Ws,Xl({data:yt,keyAccessor:function(t){return""+t}},function(t,e,n,r,i,o,a,s,u,c,l){void 0===i&&(i=500),t=-t,r=-r;var h=function(){return{x:0,y:0,opacity:0}};return{enter:function(s){var h=$l(a[s].width,t,r),f=a[s].depth,p=a[s].depth;if(l&&o.includes(s))for(var d=0;d<l[s].bunchedNodes.length;d++)a[l[s].bunchedNodes[d]]&&a[l[s].bunchedNodes[d]].depth<f&&(f=a[l[s].bunchedNodes[d]].depth),a[l[s].bunchedNodes[d]]&&a[l[s].bunchedNodes[d]].depth>p&&(p=a[l[s].bunchedNodes[d]].depth);var y=e*f;-1!==u&&f>u&&(y+=c);var v=0;for(var g in l[s].bunchedNodes)a[l[s].bunchedNodes[g]]&&v++;return v*=n,o.includes(s)||(v=10),-1!==u&&u>=f&&u<=p&&(v+=c),{x:[h],y:[y],opacity:[o.includes(s)?1:0],timing:{duration:i},validity:!0,height:v}},leave:h,update:function(s){var h=$l(a[s].width,t,r),f=a[s].depth,p=a[s].depth;if(l&&o.includes(s))for(var d=0;d<l[s].bunchedNodes.length;d++)a[l[s].bunchedNodes[d]]&&a[l[s].bunchedNodes[d]].depth<f&&(f=a[l[s].bunchedNodes[d]].depth),a[l[s].bunchedNodes[d]]&&a[l[s].bunchedNodes[d]].depth>p&&(p=a[l[s].bunchedNodes[d]].depth);var y=e*f;-1!==u&&f>u&&(y+=c);var v=0;for(var g in l[s].bunchedNodes)a[l[s].bunchedNodes[g]]&&v++;return v*=n,o.includes(s)||(v=10),-1!==u&&u>=f&&u<=p&&(v+=c),{x:[h],y:[y],opacity:[o.includes(s)?1:0],timing:{duration:i},validity:!0,height:[v]}},start:h}}(Pt,b,T,g-y,q,ht,Ct,0,nt,_,Q)),(function(t){return ws.a.createElement(ws.a.Fragment,null,t.map((function(t){var e=t.key,n=t.state;return void 0===Q||0!==Ct[t.key].width||!1===n.validity?null:ws.a.createElement("g",{key:e,transform:Ul(n.x-y+5,n.y-T/2)},ws.a.createElement("rect",{style:{opacity:n.opacity},width:p?42:R-15,height:n.height,rx:"10",ry:"10",fill:"none",strokeWidth:"2px",stroke:"rgb(248, 191, 132)"}))})))})))))},eh=Ll({alignItems:"center",justifyContent:"center",overflow:"auto"}),nh=function(){return(nh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var rh=Object(i.a)({selectedQuartet:"I",selectedNode:"none",hoveredNode:"none"},!1),ih=new ms((function(t){rh.addAction("Quartet "+t+" Selected",(function(e){return e.selectedQuartet=t,e})).addEventType("Change Quartet").alwaysStoreState(!0).applyAction()}),(function(t){rh.addAction(t+" Selected",(function(e){return e.selectedNode=t,e})).addEventType("Select Node").applyAction()}),(function(t){rh.addAction(""===t?"Hover Removed":t+" hovered",(function(e){return e.hoveredNode=t,e})).isEphemeral(!0).addEventType("Hover Node").applyAction()})),oh=function(t){rh.goToNode(t)};function ah(){var t,e,n,r,i,o;t=document.getElementById("provDiv"),e=rh,n=oh,void 0===(r=!0)&&(r=!1),void 0===i&&(i=e.graph().root),void 0===o&&(o={}),Ou.a.render(ws.a.createElement(th,nh({},o,{root:i,changeCurrent:n,current:e.graph().current,nodeMap:e.graph().nodes,prov:e,undoRedoButtons:!0,ephemeralUndo:r})),t)}rh.addObserver(["selectedQuartet"],(function(){ih.changeQuartet(rh.current().getState().selectedQuartet)})),rh.addObserver(["selectedNode"],(function(){ih.selectNode(rh.current().getState().selectedNode)})),rh.addObserver(["hoveredNode"],(function(){ih.hoverNode(rh.current().getState().hoveredNode)})),rh.addGlobalObserver((function(){console.log("global observer called"),ah()})),ah(),document.onkeydown=function(t){var e=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);!t.shiftKey&&(e?t.metaKey:t.ctrlKey)&&90==t.which?rh.goBackToNonEphemeral():t.shiftKey&&(e?t.metaKey:t.ctrlKey)&&90==t.which&&0!=rh.current().children.length&&rh.goForwardToNonEphemeral()}}]);